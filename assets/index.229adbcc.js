var Or=Object.defineProperty,Rr=Object.defineProperties;var Lr=Object.getOwnPropertyDescriptors;var Ar=Object.getOwnPropertySymbols;var Dr=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable;var Pr=(s,e,a)=>e in s?Or(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,Cr=(s,e)=>{for(var a in e||(e={}))Dr.call(e,a)&&Pr(s,a,e[a]);if(Ar)for(var a of Ar(e))Nr.call(e,a)&&Pr(s,a,e[a]);return s},Ir=(s,e)=>Rr(s,Lr(e));const p$4=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))h(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&h(_)}).observe(document,{childList:!0,subtree:!0});function a(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerpolicy&&(g.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?g.credentials="include":d.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(d){if(d.ep)return;d.ep=!0;const g=a(d);fetch(d.href,g)}};p$4();var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(s){return s===null||typeof s!="object"?null:(s=z$3&&s[z$3]||s["@@iterator"],typeof s=="function"?s:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(s,e,a){this.props=s,this.context=e,this.refs=D$3,this.updater=a||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};E$2.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$2(s,e,a){this.props=s,this.context=e,this.refs=D$3,this.updater=a||B$3}var H$2=G$2.prototype=new F$2;H$2.constructor=G$2;C$3(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(s,e,a){var h,d={},g=null,_=null;if(e!=null)for(h in e.ref!==void 0&&(_=e.ref),e.key!==void 0&&(g=""+e.key),e)J$2.call(e,h)&&!L$3.hasOwnProperty(h)&&(d[h]=e[h]);var b=arguments.length-2;if(b===1)d.children=a;else if(1<b){for(var et=Array(b),ot=0;ot<b;ot++)et[ot]=arguments[ot+2];d.children=et}if(s&&s.defaultProps)for(h in b=s.defaultProps,b)d[h]===void 0&&(d[h]=b[h]);return{$$typeof:l$3,type:s,key:g,ref:_,props:d,_owner:K$3.current}}function N$3(s,e){return{$$typeof:l$3,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function O$2(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$3}function escape$1(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return e[a]})}var P$2=/\/+/g;function Q$3(s,e){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):e.toString(36)}function R$2(s,e,a,h,d){var g=typeof s;(g==="undefined"||g==="boolean")&&(s=null);var _=!1;if(s===null)_=!0;else switch(g){case"string":case"number":_=!0;break;case"object":switch(s.$$typeof){case l$3:case n$2:_=!0}}if(_)return _=s,d=d(_),s=h===""?"."+Q$3(_,0):h,I$2(d)?(a="",s!=null&&(a=s.replace(P$2,"$&/")+"/"),R$2(d,e,a,"",function(ot){return ot})):d!=null&&(O$2(d)&&(d=N$3(d,a+(!d.key||_&&_.key===d.key?"":(""+d.key).replace(P$2,"$&/")+"/")+s)),e.push(d)),1;if(_=0,h=h===""?".":h+":",I$2(s))for(var b=0;b<s.length;b++){g=s[b];var et=h+Q$3(g,b);_+=R$2(g,e,a,et,d)}else if(et=A$2(s),typeof et=="function")for(s=et.call(s),b=0;!(g=s.next()).done;)g=g.value,et=h+Q$3(g,b++),_+=R$2(g,e,a,et,d);else if(g==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return _}function S$2(s,e,a){if(s==null)return s;var h=[],d=0;return R$2(s,h,"","",function(g){return e.call(a,g,d++)}),h}function T$2(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(a){(s._status===0||s._status===-1)&&(s._status=1,s._result=a)},function(a){(s._status===0||s._status===-1)&&(s._status=2,s._result=a)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$2,forEach:function(s,e,a){S$2(s,function(){e.apply(this,arguments)},a)},count:function(s){var e=0;return S$2(s,function(){e++}),e},toArray:function(s){return S$2(s,function(e){return e})||[]},only:function(s){if(!O$2(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(s,e,a){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var h=C$3({},s.props),d=s.key,g=s.ref,_=s._owner;if(e!=null){if(e.ref!==void 0&&(g=e.ref,_=K$3.current),e.key!==void 0&&(d=""+e.key),s.type&&s.type.defaultProps)var b=s.type.defaultProps;for(et in e)J$2.call(e,et)&&!L$3.hasOwnProperty(et)&&(h[et]=e[et]===void 0&&b!==void 0?b[et]:e[et])}var et=arguments.length-2;if(et===1)h.children=a;else if(1<et){b=Array(et);for(var ot=0;ot<et;ot++)b[ot]=arguments[ot+2];h.children=b}return{$$typeof:l$3,type:s.type,key:d,ref:g,props:h,_owner:_}};react_production_min.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$2,_context:s},s.Consumer=s};react_production_min.createElement=M$3;react_production_min.createFactory=function(s){var e=M$3.bind(null,s);return e.type=s,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$1,render:s}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(s){return{$$typeof:y$1,_payload:{_status:-1,_result:s},_init:T$2}};react_production_min.memo=function(s,e){return{$$typeof:x$2,type:s,compare:e===void 0?null:e}};react_production_min.startTransition=function(s){var e=V$2.transition;V$2.transition={};try{s()}finally{V$2.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(s,e){return U$3.current.useCallback(s,e)};react_production_min.useContext=function(s){return U$3.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$3.current.useDeferredValue(s)};react_production_min.useEffect=function(s,e){return U$3.current.useEffect(s,e)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(s,e,a){return U$3.current.useImperativeHandle(s,e,a)};react_production_min.useInsertionEffect=function(s,e){return U$3.current.useInsertionEffect(s,e)};react_production_min.useLayoutEffect=function(s,e){return U$3.current.useLayoutEffect(s,e)};react_production_min.useMemo=function(s,e){return U$3.current.useMemo(s,e)};react_production_min.useReducer=function(s,e,a){return U$3.current.useReducer(s,e,a)};react_production_min.useRef=function(s){return U$3.current.useRef(s)};react_production_min.useState=function(s){return U$3.current.useState(s)};react_production_min.useSyncExternalStore=function(s,e,a){return U$3.current.useSyncExternalStore(s,e,a)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.1.0";react.exports=react_production_min;var React=react.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(er,rr){var Vt=er.length;er.push(rr);e:for(;0<Vt;){var tr=Vt-1>>>1,nr=er[tr];if(0<d(nr,rr))er[tr]=rr,er[Vt]=nr,Vt=tr;else break e}}function a(er){return er.length===0?null:er[0]}function h(er){if(er.length===0)return null;var rr=er[0],Vt=er.pop();if(Vt!==rr){er[0]=Vt;e:for(var tr=0,nr=er.length,ur=nr>>>1;tr<ur;){var or=2*(tr+1)-1,fr=er[or],dr=or+1,pr=er[dr];if(0>d(fr,Vt))dr<nr&&0>d(pr,fr)?(er[tr]=pr,er[dr]=Vt,tr=dr):(er[tr]=fr,er[or]=Vt,tr=or);else if(dr<nr&&0>d(pr,Vt))er[tr]=pr,er[dr]=Vt,tr=dr;else break e}}return rr}function d(er,rr){var Vt=er.sortIndex-rr.sortIndex;return Vt!==0?Vt:er.id-rr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;s.unstable_now=function(){return g.now()}}else{var _=Date,b=_.now();s.unstable_now=function(){return _.now()-b}}var et=[],ot=[],gt=1,yt=null,mt=3,St=!1,_t=!1,xt=!1,Ot=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function kt(er){for(var rr=a(ot);rr!==null;){if(rr.callback===null)h(ot);else if(rr.startTime<=er)h(ot),rr.sortIndex=rr.expirationTime,e(et,rr);else break;rr=a(ot)}}function Dt(er){if(xt=!1,kt(er),!_t)if(a(et)!==null)_t=!0,sr(Nt);else{var rr=a(ot);rr!==null&&yr(Dt,rr.startTime-er)}}function Nt(er,rr){_t=!1,xt&&(xt=!1,wt(Ft),Ft=-1),St=!0;var Vt=mt;try{for(kt(rr),yt=a(et);yt!==null&&(!(yt.expirationTime>rr)||er&&!ir());){var tr=yt.callback;if(typeof tr=="function"){yt.callback=null,mt=yt.priorityLevel;var nr=tr(yt.expirationTime<=rr);rr=s.unstable_now(),typeof nr=="function"?yt.callback=nr:yt===a(et)&&h(et),kt(rr)}else h(et);yt=a(et)}if(yt!==null)var ur=!0;else{var or=a(ot);or!==null&&yr(Dt,or.startTime-rr),ur=!1}return ur}finally{yt=null,mt=Vt,St=!1}}var Mt=!1,Ht=null,Ft=-1,Wt=5,On=-1;function ir(){return!(s.unstable_now()-On<Wt)}function ar(){if(Ht!==null){var er=s.unstable_now();On=er;var rr=!0;try{rr=Ht(!0,er)}finally{rr?lr():(Mt=!1,Ht=null)}}else Mt=!1}var lr;if(typeof vt=="function")lr=function(){vt(ar)};else if(typeof MessageChannel!="undefined"){var hr=new MessageChannel,cr=hr.port2;hr.port1.onmessage=ar,lr=function(){cr.postMessage(null)}}else lr=function(){Ot(ar,0)};function sr(er){Ht=er,Mt||(Mt=!0,lr())}function yr(er,rr){Ft=Ot(function(){er(s.unstable_now())},rr)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(er){er.callback=null},s.unstable_continueExecution=function(){_t||St||(_t=!0,sr(Nt))},s.unstable_forceFrameRate=function(er){0>er||125<er?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wt=0<er?Math.floor(1e3/er):5},s.unstable_getCurrentPriorityLevel=function(){return mt},s.unstable_getFirstCallbackNode=function(){return a(et)},s.unstable_next=function(er){switch(mt){case 1:case 2:case 3:var rr=3;break;default:rr=mt}var Vt=mt;mt=rr;try{return er()}finally{mt=Vt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(er,rr){switch(er){case 1:case 2:case 3:case 4:case 5:break;default:er=3}var Vt=mt;mt=er;try{return rr()}finally{mt=Vt}},s.unstable_scheduleCallback=function(er,rr,Vt){var tr=s.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?tr+Vt:tr):Vt=tr,er){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Vt+nr,er={id:gt++,callback:rr,priorityLevel:er,startTime:Vt,expirationTime:nr,sortIndex:-1},Vt>tr?(er.sortIndex=Vt,e(ot,er),a(et)===null&&er===a(ot)&&(xt?(wt(Ft),Ft=-1):xt=!0,yr(Dt,Vt-tr))):(er.sortIndex=nr,e(et,er),_t||St||(_t=!0,sr(Nt))),er},s.unstable_shouldYield=ir,s.unstable_wrapCallback=function(er){var rr=mt;return function(){var Vt=mt;mt=rr;try{return er.apply(this,arguments)}finally{mt=Vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=react.exports,ba$2=scheduler.exports;function p$2(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(s,e){ha$1(s,e),ha$1(s+"Capture",e)}function ha$1(s,e){for(ea$1[s]=e,s=0;s<e.length;s++)da$1.add(e[s])}var ia$1=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma$2={};function na$2(s){return ja$1.call(ma$2,s)?!0:ja$1.call(la,s)?!1:ka$1.test(s)?ma$2[s]=!0:(la[s]=!0,!1)}function oa$1(s,e,a,h){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function pa$2(s,e,a,h){if(e===null||typeof e=="undefined"||oa$1(s,e,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function t$1(s,e,a,h,d,g,_){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=s,this.type=e,this.sanitizeURL=g,this.removeEmptyString=_}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$2[s]=new t$1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];z$2[e]=new t$1(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$2[s]=new t$1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$2[s]=new t$1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$2[s]=new t$1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$2[s]=new t$1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$2[s]=new t$1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$2[s]=new t$1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$2[s]=new t$1(s,5,!1,s.toLowerCase(),null,!1,!1)});var qa$1=/[\-:]([a-z])/g;function ra$1(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(qa$1,ra$1);z$2[e]=new t$1(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(qa$1,ra$1);z$2[e]=new t$1(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(qa$1,ra$1);z$2[e]=new t$1(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$2[s]=new t$1(s,1,!1,s.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new t$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$2[s]=new t$1(s,1,!1,s.toLowerCase(),null,!0,!0)});function sa$2(s,e,a,h){var d=z$2.hasOwnProperty(e)?z$2[e]:null;(d!==null?d.type!==0:h||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pa$2(e,a,d,h)&&(a=null),h||d===null?na$2(e)&&(a===null?s.removeAttribute(e):s.setAttribute(e,""+a)):d.mustUseProperty?s[d.propertyName]=a===null?d.type===3?!1:"":a:(e=d.attributeName,h=d.attributeNamespace,a===null?s.removeAttribute(e):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?s.setAttributeNS(h,e,a):s.setAttribute(e,a))))}var ta$1=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua$1=Symbol.for("react.element"),va$2=Symbol.for("react.portal"),wa$2=Symbol.for("react.fragment"),xa$1=Symbol.for("react.strict_mode"),za$1=Symbol.for("react.profiler"),Aa$2=Symbol.for("react.provider"),Ba$1=Symbol.for("react.context"),Ca$1=Symbol.for("react.forward_ref"),Da$1=Symbol.for("react.suspense"),Ea$1=Symbol.for("react.suspense_list"),Fa$2=Symbol.for("react.memo"),Ga$1=Symbol.for("react.lazy"),Ha$1=Symbol.for("react.offscreen"),Ia$2=Symbol.iterator;function Ja$1(s){return s===null||typeof s!="object"?null:(s=Ia$2&&s[Ia$2]||s["@@iterator"],typeof s=="function"?s:null)}var A$1=Object.assign,Ka$1;function La$2(s){if(Ka$1===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Ka$1=e&&e[1]||""}return`
`+Ka$1+s}var Ma$1=!1;function Na$2(s,e){if(!s||Ma$1)return"";Ma$1=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(ot){var h=ot}Reflect.construct(s,[],e)}else{try{e.call()}catch(ot){h=ot}s.call(e.prototype)}else{try{throw Error()}catch(ot){h=ot}s()}}catch(ot){if(ot&&h&&typeof ot.stack=="string"){for(var d=ot.stack.split(`
`),g=h.stack.split(`
`),_=d.length-1,b=g.length-1;1<=_&&0<=b&&d[_]!==g[b];)b--;for(;1<=_&&0<=b;_--,b--)if(d[_]!==g[b]){if(_!==1||b!==1)do if(_--,b--,0>b||d[_]!==g[b]){var et=`
`+d[_].replace(" at new "," at ");return s.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",s.displayName)),et}while(1<=_&&0<=b);break}}}finally{Ma$1=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?La$2(s):""}function Oa$1(s){switch(s.tag){case 5:return La$2(s.type);case 16:return La$2("Lazy");case 13:return La$2("Suspense");case 19:return La$2("SuspenseList");case 0:case 2:case 15:return s=Na$2(s.type,!1),s;case 11:return s=Na$2(s.type.render,!1),s;case 1:return s=Na$2(s.type,!0),s;default:return""}}function Pa$2(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case wa$2:return"Fragment";case va$2:return"Portal";case za$1:return"Profiler";case xa$1:return"StrictMode";case Da$1:return"Suspense";case Ea$1:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ba$1:return(s.displayName||"Context")+".Consumer";case Aa$2:return(s._context.displayName||"Context")+".Provider";case Ca$1:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Fa$2:return e=s.displayName||null,e!==null?e:Pa$2(s.type)||"Memo";case Ga$1:e=s._payload,s=s._init;try{return Pa$2(s(e))}catch{}}return null}function Qa$1(s){var e=s.type;switch(s.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=e.render,s=s.displayName||s.name||"",e.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa$2(e);case 8:return e===xa$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ra$1(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Sa$1(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ta$1(s){var e=Sa$1(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),h=""+s[e];if(!s.hasOwnProperty(e)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return d.call(this)},set:function(_){h=""+_,g.call(this,_)}}),Object.defineProperty(s,e,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Ua$2(s){s._valueTracker||(s._valueTracker=Ta$1(s))}function Va$2(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var a=e.getValue(),h="";return s&&(h=Sa$1(s)?s.checked?"true":"false":s.value),s=h,s!==a?(e.setValue(s),!0):!1}function Wa$1(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch{return s.body}}function Xa$1(s,e){var a=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:s._wrapperState.initialChecked})}function Ya$1(s,e){var a=e.defaultValue==null?"":e.defaultValue,h=e.checked!=null?e.checked:e.defaultChecked;a=Ra$1(e.value!=null?e.value:a),s._wrapperState={initialChecked:h,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Za$2(s,e){e=e.checked,e!=null&&sa$2(s,"checked",e,!1)}function $a$1(s,e){Za$2(s,e);var a=Ra$1(e.value),h=e.type;if(a!=null)h==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?bb$1(s,e.type,a):e.hasOwnProperty("defaultValue")&&bb$1(s,e.type,Ra$1(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function cb$1(s,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var h=e.type;if(!(h!=="submit"&&h!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,a||e===s.value||(s.value=e),s.defaultValue=e}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function bb$1(s,e,a){(e!=="number"||Wa$1(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}var db$2=Array.isArray;function eb(s,e,a,h){if(s=s.options,e){e={};for(var d=0;d<a.length;d++)e["$"+a[d]]=!0;for(a=0;a<s.length;a++)d=e.hasOwnProperty("$"+s[a].value),s[a].selected!==d&&(s[a].selected=d),d&&h&&(s[a].defaultSelected=!0)}else{for(a=""+Ra$1(a),e=null,d=0;d<s.length;d++){if(s[d].value===a){s[d].selected=!0,h&&(s[d].defaultSelected=!0);return}e!==null||s[d].disabled||(e=s[d])}e!==null&&(e.selected=!0)}}function fb$1(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function gb$1(s,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(p$2(92));if(db$2(a)){if(1<a.length)throw Error(p$2(93));a=a[0]}e=a}e==null&&(e=""),a=e}s._wrapperState={initialValue:Ra$1(a)}}function hb$1(s,e){var a=Ra$1(e.value),h=Ra$1(e.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),e.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),h!=null&&(s.defaultValue=""+h)}function ib$1(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}function jb$1(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kb$1(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?jb$1(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var lb$1,mb$1=function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,a,h,d){MSApp.execUnsafeLocalFunction(function(){return s(e,a,h,d)})}:s}(function(s,e){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=e;else{for(lb$1=lb$1||document.createElement("div"),lb$1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lb$1.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function nb$1(s,e){if(e){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=e;return}}s.textContent=e}var ob$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb$1=["Webkit","ms","Moz","O"];Object.keys(ob$1).forEach(function(s){pb$1.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),ob$1[e]=ob$1[s]})});function qb$1(s,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||ob$1.hasOwnProperty(s)&&ob$1[s]?(""+e).trim():e+"px"}function rb$1(s,e){s=s.style;for(var a in e)if(e.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=qb$1(a,e[a],h);a==="float"&&(a="cssFloat"),h?s.setProperty(a,d):s[a]=d}}var sb$1=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tb$1(s,e){if(e){if(sb$1[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function ub$1(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb$1=null;function wb$1(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xb=null,yb$1=null,zb$1=null;function Ab$1(s){if(s=Bb$1(s)){if(typeof xb!="function")throw Error(p$2(280));var e=s.stateNode;e&&(e=Cb$1(e),xb(s.stateNode,s.type,e))}}function Db$1(s){yb$1?zb$1?zb$1.push(s):zb$1=[s]:yb$1=s}function Eb$1(){if(yb$1){var s=yb$1,e=zb$1;if(zb$1=yb$1=null,Ab$1(s),e)for(s=0;s<e.length;s++)Ab$1(e[s])}}function Fb$1(s,e){return s(e)}function Gb$1(){}var Hb$1=!1;function Ib$1(s,e,a){if(Hb$1)return s(e,a);Hb$1=!0;try{return Fb$1(s,e,a)}finally{Hb$1=!1,(yb$1!==null||zb$1!==null)&&(Gb$1(),Eb$1())}}function Jb$1(s,e){var a=s.stateNode;if(a===null)return null;var h=Cb$1(a);if(h===null)return null;a=h[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(p$2(231,e,typeof a));return a}var Kb$1=!1;if(ia$1)try{var Lb$1={};Object.defineProperty(Lb$1,"passive",{get:function(){Kb$1=!0}}),window.addEventListener("test",Lb$1,Lb$1),window.removeEventListener("test",Lb$1,Lb$1)}catch{Kb$1=!1}function Mb$1(s,e,a,h,d,g,_,b,et){var ot=Array.prototype.slice.call(arguments,3);try{e.apply(a,ot)}catch(gt){this.onError(gt)}}var Nb$1=!1,Ob$1=null,Pb$1=!1,Qb$1=null,Rb$1={onError:function(s){Nb$1=!0,Ob$1=s}};function Sb$1(s,e,a,h,d,g,_,b,et){Nb$1=!1,Ob$1=null,Mb$1.apply(Rb$1,arguments)}function Tb$1(s,e,a,h,d,g,_,b,et){if(Sb$1.apply(this,arguments),Nb$1){if(Nb$1){var ot=Ob$1;Nb$1=!1,Ob$1=null}else throw Error(p$2(198));Pb$1||(Pb$1=!0,Qb$1=ot)}}function Ub$1(s){var e=s,a=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,(e.flags&4098)!==0&&(a=e.return),s=e.return;while(s)}return e.tag===3?a:null}function Vb$1(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function Wb$1(s){if(Ub$1(s)!==s)throw Error(p$2(188))}function Xb$1(s){var e=s.alternate;if(!e){if(e=Ub$1(s),e===null)throw Error(p$2(188));return e!==s?null:s}for(var a=s,h=e;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Wb$1(d),s;if(g===h)return Wb$1(d),e;g=g.sibling}throw Error(p$2(188))}if(a.return!==h.return)a=d,h=g;else{for(var _=!1,b=d.child;b;){if(b===a){_=!0,a=d,h=g;break}if(b===h){_=!0,h=d,a=g;break}b=b.sibling}if(!_){for(b=g.child;b;){if(b===a){_=!0,a=g,h=d;break}if(b===h){_=!0,h=g,a=d;break}b=b.sibling}if(!_)throw Error(p$2(189))}}if(a.alternate!==h)throw Error(p$2(190))}if(a.tag!==3)throw Error(p$2(188));return a.stateNode.current===a?s:e}function Yb$1(s){return s=Xb$1(s),s!==null?Zb$1(s):null}function Zb$1(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var e=Zb$1(s);if(e!==null)return e;s=s.sibling}return null}var $b$1=ba$2.unstable_scheduleCallback,ac$2=ba$2.unstable_cancelCallback,bc$2=ba$2.unstable_shouldYield,cc$2=ba$2.unstable_requestPaint,B$2=ba$2.unstable_now,dc$2=ba$2.unstable_getCurrentPriorityLevel,ec$2=ba$2.unstable_ImmediatePriority,fc$2=ba$2.unstable_UserBlockingPriority,gc$2=ba$2.unstable_NormalPriority,hc$2=ba$2.unstable_LowPriority,ic$2=ba$2.unstable_IdlePriority,jc$1=null,kc$1=null;function lc$2(s){if(kc$1&&typeof kc$1.onCommitFiberRoot=="function")try{kc$1.onCommitFiberRoot(jc$1,s,void 0,(s.current.flags&128)===128)}catch{}}var nc$2=Math.clz32?Math.clz32:mc$1,oc$2=Math.log,pc$2=Math.LN2;function mc$1(s){return s>>>=0,s===0?32:31-(oc$2(s)/pc$2|0)|0}var qc$2=64,rc$2=4194304;function sc$2(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function tc$1(s,e){var a=s.pendingLanes;if(a===0)return 0;var h=0,d=s.suspendedLanes,g=s.pingedLanes,_=a&268435455;if(_!==0){var b=_&~d;b!==0?h=sc$2(b):(g&=_,g!==0&&(h=sc$2(g)))}else _=a&~d,_!==0?h=sc$2(_):g!==0&&(h=sc$2(g));if(h===0)return 0;if(e!==0&&e!==h&&(e&d)===0&&(d=h&-h,g=e&-e,d>=g||d===16&&(g&4194240)!==0))return e;if((h&4)!==0&&(h|=a&16),e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=h;0<e;)a=31-nc$2(e),d=1<<a,h|=s[a],e&=~d;return h}function uc$2(s,e){switch(s){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc$1(s,e){for(var a=s.suspendedLanes,h=s.pingedLanes,d=s.expirationTimes,g=s.pendingLanes;0<g;){var _=31-nc$2(g),b=1<<_,et=d[_];et===-1?((b&a)===0||(b&h)!==0)&&(d[_]=uc$2(b,e)):et<=e&&(s.expiredLanes|=b),g&=~b}}function wc$2(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xc$1(){var s=qc$2;return qc$2<<=1,(qc$2&4194240)===0&&(qc$2=64),s}function yc$2(s){for(var e=[],a=0;31>a;a++)e.push(s);return e}function zc$2(s,e,a){s.pendingLanes|=e,e!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,e=31-nc$2(e),s[e]=a}function Ac$2(s,e){var a=s.pendingLanes&~e;s.pendingLanes=e,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=e,s.mutableReadLanes&=e,s.entangledLanes&=e,e=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<a;){var d=31-nc$2(a),g=1<<d;e[d]=0,h[d]=-1,s[d]=-1,a&=~g}}function Bc$2(s,e){var a=s.entangledLanes|=e;for(s=s.entanglements;a;){var h=31-nc$2(a),d=1<<h;d&e|s[h]&e&&(s[h]|=e),a&=~d}}var C$2=0;function Cc$1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Dc$1,Ec$2,Fc$2,Gc$2,Hc$2,Ic$2=!1,Jc$2=[],Kc$1=null,Lc$1=null,Mc$2=null,Nc$1=new Map,Oc$1=new Map,Pc$2=[],Qc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc$2(s,e){switch(s){case"focusin":case"focusout":Kc$1=null;break;case"dragenter":case"dragleave":Lc$1=null;break;case"mouseover":case"mouseout":Mc$2=null;break;case"pointerover":case"pointerout":Nc$1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc$1.delete(e.pointerId)}}function Sc$1(s,e,a,h,d,g){return s===null||s.nativeEvent!==g?(s={blockedOn:e,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},e!==null&&(e=Bb$1(e),e!==null&&Ec$2(e)),s):(s.eventSystemFlags|=h,e=s.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),s)}function Tc$2(s,e,a,h,d){switch(e){case"focusin":return Kc$1=Sc$1(Kc$1,s,e,a,h,d),!0;case"dragenter":return Lc$1=Sc$1(Lc$1,s,e,a,h,d),!0;case"mouseover":return Mc$2=Sc$1(Mc$2,s,e,a,h,d),!0;case"pointerover":var g=d.pointerId;return Nc$1.set(g,Sc$1(Nc$1.get(g)||null,s,e,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,Oc$1.set(g,Sc$1(Oc$1.get(g)||null,s,e,a,h,d)),!0}return!1}function Uc$1(s){var e=Vc$1(s.target);if(e!==null){var a=Ub$1(e);if(a!==null){if(e=a.tag,e===13){if(e=Vb$1(a),e!==null){s.blockedOn=e,Hc$2(s.priority,function(){Fc$2(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wc$1(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var a=Xc$2(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(a===null){a=s.nativeEvent;var h=new a.constructor(a.type,a);vb$1=h,a.target.dispatchEvent(h),vb$1=null}else return e=Bb$1(a),e!==null&&Ec$2(e),s.blockedOn=a,!1;e.shift()}return!0}function Yc$2(s,e,a){Wc$1(s)&&a.delete(e)}function Zc$1(){Ic$2=!1,Kc$1!==null&&Wc$1(Kc$1)&&(Kc$1=null),Lc$1!==null&&Wc$1(Lc$1)&&(Lc$1=null),Mc$2!==null&&Wc$1(Mc$2)&&(Mc$2=null),Nc$1.forEach(Yc$2),Oc$1.forEach(Yc$2)}function $c$1(s,e){s.blockedOn===e&&(s.blockedOn=null,Ic$2||(Ic$2=!0,ba$2.unstable_scheduleCallback(ba$2.unstable_NormalPriority,Zc$1)))}function ad$1(s){function e(d){return $c$1(d,s)}if(0<Jc$2.length){$c$1(Jc$2[0],s);for(var a=1;a<Jc$2.length;a++){var h=Jc$2[a];h.blockedOn===s&&(h.blockedOn=null)}}for(Kc$1!==null&&$c$1(Kc$1,s),Lc$1!==null&&$c$1(Lc$1,s),Mc$2!==null&&$c$1(Mc$2,s),Nc$1.forEach(e),Oc$1.forEach(e),a=0;a<Pc$2.length;a++)h=Pc$2[a],h.blockedOn===s&&(h.blockedOn=null);for(;0<Pc$2.length&&(a=Pc$2[0],a.blockedOn===null);)Uc$1(a),a.blockedOn===null&&Pc$2.shift()}var bd$1=ta$1.ReactCurrentBatchConfig,cd$1=!0;function dd$1(s,e,a,h){var d=C$2,g=bd$1.transition;bd$1.transition=null;try{C$2=1,ed$1(s,e,a,h)}finally{C$2=d,bd$1.transition=g}}function fd$1(s,e,a,h){var d=C$2,g=bd$1.transition;bd$1.transition=null;try{C$2=4,ed$1(s,e,a,h)}finally{C$2=d,bd$1.transition=g}}function ed$1(s,e,a,h){if(cd$1){var d=Xc$2(s,e,a,h);if(d===null)gd$1(s,e,h,hd$1,a),Rc$2(s,h);else if(Tc$2(d,s,e,a,h))h.stopPropagation();else if(Rc$2(s,h),e&4&&-1<Qc$1.indexOf(s)){for(;d!==null;){var g=Bb$1(d);if(g!==null&&Dc$1(g),g=Xc$2(s,e,a,h),g===null&&gd$1(s,e,h,hd$1,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else gd$1(s,e,h,null,a)}}var hd$1=null;function Xc$2(s,e,a,h){if(hd$1=null,s=wb$1(h),s=Vc$1(s),s!==null)if(e=Ub$1(s),e===null)s=null;else if(a=e.tag,a===13){if(s=Vb$1(e),s!==null)return s;s=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null);return hd$1=s,null}function id$1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dc$2()){case ec$2:return 1;case fc$2:return 4;case gc$2:case hc$2:return 16;case ic$2:return 536870912;default:return 16}default:return 16}}var jd$1=null,kd$1=null,ld$1=null;function md$1(){if(ld$1)return ld$1;var s,e=kd$1,a=e.length,h,d="value"in jd$1?jd$1.value:jd$1.textContent,g=d.length;for(s=0;s<a&&e[s]===d[s];s++);var _=a-s;for(h=1;h<=_&&e[a-h]===d[g-h];h++);return ld$1=d.slice(s,1<h?1-h:void 0)}function nd$1(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function od$1(){return!0}function pd$1(){return!1}function qd$1(s){function e(a,h,d,g,_){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(a=s[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?od$1:pd$1,this.isPropagationStopped=pd$1,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=od$1)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=od$1)},persist:function(){},isPersistent:od$1}),e}var rd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd$1=qd$1(rd$1),td$1=A$1({},rd$1,{view:0,detail:0}),ud$1=qd$1(td$1),vd$1,wd$1,xd$1,zd$1=A$1({},td$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd$1,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xd$1&&(xd$1&&s.type==="mousemove"?(vd$1=s.screenX-xd$1.screenX,wd$1=s.screenY-xd$1.screenY):wd$1=vd$1=0,xd$1=s),vd$1)},movementY:function(s){return"movementY"in s?s.movementY:wd$1}}),Ad$1=qd$1(zd$1),Bd$1=A$1({},zd$1,{dataTransfer:0}),Cd$1=qd$1(Bd$1),Dd$1=A$1({},td$1,{relatedTarget:0}),Ed$1=qd$1(Dd$1),Fd$1=A$1({},rd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd$1=qd$1(Fd$1),Hd$1=A$1({},rd$1,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Id$1=qd$1(Hd$1),Jd$1=A$1({},rd$1,{data:0}),Kd$1=qd$1(Jd$1),Ld$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Md$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Od$1(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=Nd$1[s])?!!e[s]:!1}function yd$1(){return Od$1}var Pd$1=A$1({},td$1,{key:function(s){if(s.key){var e=Ld$1[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=nd$1(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Md$1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd$1,charCode:function(s){return s.type==="keypress"?nd$1(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nd$1(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qd$1=qd$1(Pd$1),Rd$1=A$1({},zd$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd$1=qd$1(Rd$1),Td$1=A$1({},td$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd$1}),Ud$1=qd$1(Td$1),Vd$1=A$1({},rd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=qd$1(Vd$1),Xd=A$1({},zd$1,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Yd=qd$1(Xd),Zd=[9,13,27,32],$d=ia$1&&"CompositionEvent"in window,ae$1=null;ia$1&&"documentMode"in document&&(ae$1=document.documentMode);var be$1=ia$1&&"TextEvent"in window&&!ae$1,ce$1=ia$1&&(!$d||ae$1&&8<ae$1&&11>=ae$1),de$1=String.fromCharCode(32),ee$1=!1;function fe$1(s,e){switch(s){case"keyup":return Zd.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var he=!1;function ie$1(s,e){switch(s){case"compositionend":return ge$1(e);case"keypress":return e.which!==32?null:(ee$1=!0,de$1);case"textInput":return s=e.data,s===de$1&&ee$1?null:s;default:return null}}function je$1(s,e){if(he)return s==="compositionend"||!$d&&fe$1(s,e)?(s=md$1(),ld$1=kd$1=jd$1=null,he=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ce$1&&e.locale!=="ko"?null:e.data;default:return null}}var ke$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function le$1(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!ke$1[s.type]:e==="textarea"}function me$1(s,e,a,h){Db$1(h),e=ne$1(e,"onChange"),0<e.length&&(a=new sd$1("onChange","change",null,a,h),s.push({event:a,listeners:e}))}var oe$1=null,pe$1=null;function qe$1(s){re$1(s,0)}function se$1(s){var e=te$1(s);if(Va$2(e))return s}function ue$1(s,e){if(s==="change")return e}var ve=!1;if(ia$1){var we$1;if(ia$1){var xe$1="oninput"in document;if(!xe$1){var ye$1=document.createElement("div");ye$1.setAttribute("oninput","return;"),xe$1=typeof ye$1.oninput=="function"}we$1=xe$1}else we$1=!1;ve=we$1&&(!document.documentMode||9<document.documentMode)}function ze$1(){oe$1&&(oe$1.detachEvent("onpropertychange",Ae$1),pe$1=oe$1=null)}function Ae$1(s){if(s.propertyName==="value"&&se$1(pe$1)){var e=[];me$1(e,pe$1,s,wb$1(s)),Ib$1(qe$1,e)}}function Be(s,e,a){s==="focusin"?(ze$1(),oe$1=e,pe$1=a,oe$1.attachEvent("onpropertychange",Ae$1)):s==="focusout"&&ze$1()}function Ce$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return se$1(pe$1)}function De$1(s,e){if(s==="click")return se$1(e)}function Ee$1(s,e){if(s==="input"||s==="change")return se$1(e)}function Fe$1(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var Ge$1=typeof Object.is=="function"?Object.is:Fe$1;function He$1(s,e){if(Ge$1(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var a=Object.keys(s),h=Object.keys(e);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!ja$1.call(e,d)||!Ge$1(s[d],e[d]))return!1}return!0}function Ie$1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Je$1(s,e){var a=Ie$1(s);s=0;for(var h;a;){if(a.nodeType===3){if(h=s+a.textContent.length,s<=e&&h>=e)return{node:a,offset:e-s};s=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ie$1(a)}}function Ke$1(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Ke$1(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Le(){for(var s=window,e=Wa$1();e instanceof s.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)s=e.contentWindow;else break;e=Wa$1(s.document)}return e}function Me$1(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}function Ne$1(s){var e=Le(),a=s.focusedElem,h=s.selectionRange;if(e!==a&&a&&a.ownerDocument&&Ke$1(a.ownerDocument.documentElement,a)){if(h!==null&&Me$1(a)){if(e=h.start,s=h.end,s===void 0&&(s=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(s,a.value.length);else if(s=(e=a.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!s.extend&&g>h&&(d=h,h=g,g=d),d=Je$1(a,g);var _=Je$1(a,h);d&&_&&(s.rangeCount!==1||s.anchorNode!==d.node||s.anchorOffset!==d.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),s.removeAllRanges(),g>h?(s.addRange(e),s.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),s.addRange(e)))}}for(e=[],s=a;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)s=e[a],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Oe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Pe=null,Qe$1=null,Re$1=null,Se=!1;function Te$1(s,e,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Se||Pe==null||Pe!==Wa$1(h)||(h=Pe,"selectionStart"in h&&Me$1(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Re$1&&He$1(Re$1,h)||(Re$1=h,h=ne$1(Qe$1,"onSelect"),0<h.length&&(e=new sd$1("onSelect","select",null,e,a),s.push({event:e,listeners:h}),e.target=Pe)))}function Ue(s,e){var a={};return a[s.toLowerCase()]=e.toLowerCase(),a["Webkit"+s]="webkit"+e,a["Moz"+s]="moz"+e,a}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},We$1={},Xe$1={};ia$1&&(Xe$1=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Ye$1(s){if(We$1[s])return We$1[s];if(!Ve[s])return s;var e=Ve[s],a;for(a in e)if(e.hasOwnProperty(a)&&a in Xe$1)return We$1[s]=e[a];return s}var Ze$1=Ye$1("animationend"),$e$1=Ye$1("animationiteration"),af=Ye$1("animationstart"),bf=Ye$1("transitionend"),cf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ef(s,e){cf.set(s,e),fa$1(e,[s])}for(var ff=0;ff<df.length;ff++){var gf=df[ff],hf=gf.toLowerCase(),jf=gf[0].toUpperCase()+gf.slice(1);ef(hf,"on"+jf)}ef(Ze$1,"onAnimationEnd");ef($e$1,"onAnimationIteration");ef(af,"onAnimationStart");ef("dblclick","onDoubleClick");ef("focusin","onFocus");ef("focusout","onBlur");ef(bf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function mf(s,e,a){var h=s.type||"unknown-event";s.currentTarget=a,Tb$1(h,e,void 0,s),s.currentTarget=null}function re$1(s,e){e=(e&4)!==0;for(var a=0;a<s.length;a++){var h=s[a],d=h.event;h=h.listeners;e:{var g=void 0;if(e)for(var _=h.length-1;0<=_;_--){var b=h[_],et=b.instance,ot=b.currentTarget;if(b=b.listener,et!==g&&d.isPropagationStopped())break e;mf(d,b,ot),g=et}else for(_=0;_<h.length;_++){if(b=h[_],et=b.instance,ot=b.currentTarget,b=b.listener,et!==g&&d.isPropagationStopped())break e;mf(d,b,ot),g=et}}}if(Pb$1)throw s=Qb$1,Pb$1=!1,Qb$1=null,s}function D$2(s,e){var a=e[nf];a===void 0&&(a=e[nf]=new Set);var h=s+"__bubble";a.has(h)||(of(e,s,2,!1),a.add(h))}function pf(s,e,a){var h=0;e&&(h|=4),of(a,s,h,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function rf(s){if(!s[qf]){s[qf]=!0,da$1.forEach(function(a){a!=="selectionchange"&&(lf.has(a)||pf(a,!1,s),pf(a,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[qf]||(e[qf]=!0,pf("selectionchange",!1,e))}}function of(s,e,a,h){switch(id$1(e)){case 1:var d=dd$1;break;case 4:d=fd$1;break;default:d=ed$1}a=d.bind(null,e,a,s),d=void 0,!Kb$1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),h?d!==void 0?s.addEventListener(e,a,{capture:!0,passive:d}):s.addEventListener(e,a,!0):d!==void 0?s.addEventListener(e,a,{passive:d}):s.addEventListener(e,a,!1)}function gd$1(s,e,a,h,d){var g=h;if((e&1)===0&&(e&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var b=h.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(_===4)for(_=h.return;_!==null;){var et=_.tag;if((et===3||et===4)&&(et=_.stateNode.containerInfo,et===d||et.nodeType===8&&et.parentNode===d))return;_=_.return}for(;b!==null;){if(_=Vc$1(b),_===null)return;if(et=_.tag,et===5||et===6){h=g=_;continue e}b=b.parentNode}}h=h.return}Ib$1(function(){var ot=g,gt=wb$1(a),yt=[];e:{var mt=cf.get(s);if(mt!==void 0){var St=sd$1,_t=s;switch(s){case"keypress":if(nd$1(a)===0)break e;case"keydown":case"keyup":St=Qd$1;break;case"focusin":_t="focus",St=Ed$1;break;case"focusout":_t="blur",St=Ed$1;break;case"beforeblur":case"afterblur":St=Ed$1;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=Ad$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Cd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Ud$1;break;case Ze$1:case $e$1:case af:St=Gd$1;break;case bf:St=Wd;break;case"scroll":St=ud$1;break;case"wheel":St=Yd;break;case"copy":case"cut":case"paste":St=Id$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=Sd$1}var xt=(e&4)!==0,Ot=!xt&&s==="scroll",wt=xt?mt!==null?mt+"Capture":null:mt;xt=[];for(var vt=ot,kt;vt!==null;){kt=vt;var Dt=kt.stateNode;if(kt.tag===5&&Dt!==null&&(kt=Dt,wt!==null&&(Dt=Jb$1(vt,wt),Dt!=null&&xt.push(sf(vt,Dt,kt)))),Ot)break;vt=vt.return}0<xt.length&&(mt=new St(mt,_t,null,a,gt),yt.push({event:mt,listeners:xt}))}}if((e&7)===0){e:{if(mt=s==="mouseover"||s==="pointerover",St=s==="mouseout"||s==="pointerout",mt&&a!==vb$1&&(_t=a.relatedTarget||a.fromElement)&&(Vc$1(_t)||_t[tf]))break e;if((St||mt)&&(mt=gt.window===gt?gt:(mt=gt.ownerDocument)?mt.defaultView||mt.parentWindow:window,St?(_t=a.relatedTarget||a.toElement,St=ot,_t=_t?Vc$1(_t):null,_t!==null&&(Ot=Ub$1(_t),_t!==Ot||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(St=null,_t=ot),St!==_t)){if(xt=Ad$1,Dt="onMouseLeave",wt="onMouseEnter",vt="mouse",(s==="pointerout"||s==="pointerover")&&(xt=Sd$1,Dt="onPointerLeave",wt="onPointerEnter",vt="pointer"),Ot=St==null?mt:te$1(St),kt=_t==null?mt:te$1(_t),mt=new xt(Dt,vt+"leave",St,a,gt),mt.target=Ot,mt.relatedTarget=kt,Dt=null,Vc$1(gt)===ot&&(xt=new xt(wt,vt+"enter",_t,a,gt),xt.target=kt,xt.relatedTarget=Ot,Dt=xt),Ot=Dt,St&&_t)t:{for(xt=St,wt=_t,vt=0,kt=xt;kt;kt=uf(kt))vt++;for(kt=0,Dt=wt;Dt;Dt=uf(Dt))kt++;for(;0<vt-kt;)xt=uf(xt),vt--;for(;0<kt-vt;)wt=uf(wt),kt--;for(;vt--;){if(xt===wt||wt!==null&&xt===wt.alternate)break t;xt=uf(xt),wt=uf(wt)}xt=null}else xt=null;St!==null&&vf(yt,mt,St,xt,!1),_t!==null&&Ot!==null&&vf(yt,Ot,_t,xt,!0)}}e:{if(mt=ot?te$1(ot):window,St=mt.nodeName&&mt.nodeName.toLowerCase(),St==="select"||St==="input"&&mt.type==="file")var Nt=ue$1;else if(le$1(mt))if(ve)Nt=Ee$1;else{Nt=Ce$1;var Mt=Be}else(St=mt.nodeName)&&St.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(Nt=De$1);if(Nt&&(Nt=Nt(s,ot))){me$1(yt,Nt,a,gt);break e}Mt&&Mt(s,mt,ot),s==="focusout"&&(Mt=mt._wrapperState)&&Mt.controlled&&mt.type==="number"&&bb$1(mt,"number",mt.value)}switch(Mt=ot?te$1(ot):window,s){case"focusin":(le$1(Mt)||Mt.contentEditable==="true")&&(Pe=Mt,Qe$1=ot,Re$1=null);break;case"focusout":Re$1=Qe$1=Pe=null;break;case"mousedown":Se=!0;break;case"contextmenu":case"mouseup":case"dragend":Se=!1,Te$1(yt,a,gt);break;case"selectionchange":if(Oe$1)break;case"keydown":case"keyup":Te$1(yt,a,gt)}var Ht;if($d)e:{switch(s){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else he?fe$1(s,a)&&(Ft="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Ft="onCompositionStart");Ft&&(ce$1&&a.locale!=="ko"&&(he||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&he&&(Ht=md$1()):(jd$1=gt,kd$1="value"in jd$1?jd$1.value:jd$1.textContent,he=!0)),Mt=ne$1(ot,Ft),0<Mt.length&&(Ft=new Kd$1(Ft,s,null,a,gt),yt.push({event:Ft,listeners:Mt}),Ht?Ft.data=Ht:(Ht=ge$1(a),Ht!==null&&(Ft.data=Ht)))),(Ht=be$1?ie$1(s,a):je$1(s,a))&&(ot=ne$1(ot,"onBeforeInput"),0<ot.length&&(gt=new Kd$1("onBeforeInput","beforeinput",null,a,gt),yt.push({event:gt,listeners:ot}),gt.data=Ht))}re$1(yt,e)})}function sf(s,e,a){return{instance:s,listener:e,currentTarget:a}}function ne$1(s,e){for(var a=e+"Capture",h=[];s!==null;){var d=s,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Jb$1(s,a),g!=null&&h.unshift(sf(s,g,d)),g=Jb$1(s,e),g!=null&&h.push(sf(s,g,d))),s=s.return}return h}function uf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function vf(s,e,a,h,d){for(var g=e._reactName,_=[];a!==null&&a!==h;){var b=a,et=b.alternate,ot=b.stateNode;if(et!==null&&et===h)break;b.tag===5&&ot!==null&&(b=ot,d?(et=Jb$1(a,g),et!=null&&_.unshift(sf(a,et,b))):d||(et=Jb$1(a,g),et!=null&&_.push(sf(a,et,b)))),a=a.return}_.length!==0&&s.push({event:e,listeners:_})}var wf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function yf(s){return(typeof s=="string"?s:""+s).replace(wf,`
`).replace(xf,"")}function zf(s,e,a){if(e=yf(e),yf(s)!==e&&a)throw Error(p$2(425))}function Af(){}var Bf=null,Cf=null;function Df(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Ff=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf!="undefined"?function(s){return Gf.resolve(null).then(s).catch(Hf)}:Ef;function Hf(s){setTimeout(function(){throw s})}function Jf(s,e){var a=e,h=0;do{var d=a.nextSibling;if(s.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){s.removeChild(d),ad$1(e);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);ad$1(e)}function Kf(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return s}function Lf(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return s;e--}else a==="/$"&&e++}s=s.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Nf="__reactFiber$"+Mf,Of="__reactProps$"+Mf,tf="__reactContainer$"+Mf,nf="__reactEvents$"+Mf,Pf="__reactListeners$"+Mf,Qf="__reactHandles$"+Mf;function Vc$1(s){var e=s[Nf];if(e)return e;for(var a=s.parentNode;a;){if(e=a[tf]||a[Nf]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(s=Lf(s);s!==null;){if(a=s[Nf])return a;s=Lf(s)}return e}s=a,a=s.parentNode}return null}function Bb$1(s){return s=s[Nf]||s[tf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function te$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$2(33))}function Cb$1(s){return s[Of]||null}var Rf=[],Sf=-1;function Tf(s){return{current:s}}function E$1(s){0>Sf||(s.current=Rf[Sf],Rf[Sf]=null,Sf--)}function G$1(s,e){Sf++,Rf[Sf]=s.current,s.current=e}var Uf={},H$1=Tf(Uf),Vf=Tf(!1),Wf=Uf;function Xf(s,e){var a=s.type.contextTypes;if(!a)return Uf;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===e)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=e[g];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=d),d}function Yf(s){return s=s.childContextTypes,s!=null}function Zf(){E$1(Vf),E$1(H$1)}function $f(s,e,a){if(H$1.current!==Uf)throw Error(p$2(168));G$1(H$1,e),G$1(Vf,a)}function ag(s,e,a){var h=s.stateNode;if(e=e.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in e))throw Error(p$2(108,Qa$1(s)||"Unknown",d));return A$1({},a,h)}function bg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Uf,Wf=H$1.current,G$1(H$1,s),G$1(Vf,Vf.current),!0}function cg(s,e,a){var h=s.stateNode;if(!h)throw Error(p$2(169));a?(s=ag(s,e,Wf),h.__reactInternalMemoizedMergedChildContext=s,E$1(Vf),E$1(H$1),G$1(H$1,s)):E$1(Vf),G$1(Vf,a)}var dg=null,eg=!1,fg=!1;function gg(s){dg===null?dg=[s]:dg.push(s)}function hg(s){eg=!0,gg(s)}function ig(){if(!fg&&dg!==null){fg=!0;var s=0,e=C$2;try{var a=dg;for(C$2=1;s<a.length;s++){var h=a[s];do h=h(!0);while(h!==null)}dg=null,eg=!1}catch(d){throw dg!==null&&(dg=dg.slice(s+1)),$b$1(ec$2,ig),d}finally{C$2=e,fg=!1}}return null}var jg=ta$1.ReactCurrentBatchConfig;function kg(s,e){if(s&&s.defaultProps){e=A$1({},e),s=s.defaultProps;for(var a in s)e[a]===void 0&&(e[a]=s[a]);return e}return e}var lg=Tf(null),mg=null,ng=null,og=null;function pg(){og=ng=mg=null}function qg(s){var e=lg.current;E$1(lg),s._currentValue=e}function rg(s,e,a){for(;s!==null;){var h=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,h!==null&&(h.childLanes|=e)):h!==null&&(h.childLanes&e)!==e&&(h.childLanes|=e),s===a)break;s=s.return}}function sg(s,e){mg=s,og=ng=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&e)!==0&&(tg=!0),s.firstContext=null)}function ug(s){var e=s._currentValue;if(og!==s)if(s={context:s,memoizedValue:e,next:null},ng===null){if(mg===null)throw Error(p$2(308));ng=s,mg.dependencies={lanes:0,firstContext:s}}else ng=ng.next=s;return e}var vg=null,wg=!1;function xg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function zg(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function Ag(s,e){var a=s.updateQueue;a!==null&&(a=a.shared,Bg(s)?(s=a.interleaved,s===null?(e.next=e,vg===null?vg=[a]:vg.push(a)):(e.next=s.next,s.next=e),a.interleaved=e):(s=a.pending,s===null?e.next=e:(e.next=s.next,s.next=e),a.pending=e))}function Cg(s,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var h=e.lanes;h&=s.pendingLanes,a|=h,e.lanes=a,Bc$2(s,a)}}function Dg(s,e){var a=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=e:g=g.next=e}else d=g=e;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=e:s.next=e,a.lastBaseUpdate=e}function Eg(s,e,a,h){var d=s.updateQueue;wg=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var et=b,ot=et.next;et.next=null,_===null?g=ot:_.next=ot,_=et;var gt=s.alternate;gt!==null&&(gt=gt.updateQueue,b=gt.lastBaseUpdate,b!==_&&(b===null?gt.firstBaseUpdate=ot:b.next=ot,gt.lastBaseUpdate=et))}if(g!==null){var yt=d.baseState;_=0,gt=ot=et=null,b=g;do{var mt=b.lane,St=b.eventTime;if((h&mt)===mt){gt!==null&&(gt=gt.next={eventTime:St,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var _t=s,xt=b;switch(mt=e,St=a,xt.tag){case 1:if(_t=xt.payload,typeof _t=="function"){yt=_t.call(St,yt,mt);break e}yt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=xt.payload,mt=typeof _t=="function"?_t.call(St,yt,mt):_t,mt==null)break e;yt=A$1({},yt,mt);break e;case 2:wg=!0}}b.callback!==null&&b.lane!==0&&(s.flags|=64,mt=d.effects,mt===null?d.effects=[b]:mt.push(b))}else St={eventTime:St,lane:mt,tag:b.tag,payload:b.payload,callback:b.callback,next:null},gt===null?(ot=gt=St,et=yt):gt=gt.next=St,_|=mt;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;mt=b,b=mt.next,mt.next=null,d.lastBaseUpdate=mt,d.shared.pending=null}}while(1);if(gt===null&&(et=yt),d.baseState=et,d.firstBaseUpdate=ot,d.lastBaseUpdate=gt,e=d.shared.interleaved,e!==null){d=e;do _|=d.lane,d=d.next;while(d!==e)}else g===null&&(d.shared.lanes=0);Fg|=_,s.lanes=_,s.memoizedState=yt}}function Gg(s,e,a){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var h=s[e],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(p$2(191,d));d.call(h)}}}var Hg=new aa$2.Component().refs;function Ig(s,e,a,h){e=s.memoizedState,a=a(h,e),a=a==null?e:A$1({},e,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Mg={isMounted:function(s){return(s=s._reactInternals)?Ub$1(s)===s:!1},enqueueSetState:function(s,e,a){s=s._reactInternals;var h=Jg(),d=Kg(s),g=zg(h,d);g.payload=e,a!=null&&(g.callback=a),Ag(s,g),e=Lg(s,d,h),e!==null&&Cg(e,s,d)},enqueueReplaceState:function(s,e,a){s=s._reactInternals;var h=Jg(),d=Kg(s),g=zg(h,d);g.tag=1,g.payload=e,a!=null&&(g.callback=a),Ag(s,g),e=Lg(s,d,h),e!==null&&Cg(e,s,d)},enqueueForceUpdate:function(s,e){s=s._reactInternals;var a=Jg(),h=Kg(s),d=zg(a,h);d.tag=2,e!=null&&(d.callback=e),Ag(s,d),e=Lg(s,h,a),e!==null&&Cg(e,s,h)}};function Ng(s,e,a,h,d,g,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,g,_):e.prototype&&e.prototype.isPureReactComponent?!He$1(a,h)||!He$1(d,g):!0}function Og(s,e,a){var h=!1,d=Uf,g=e.contextType;return typeof g=="object"&&g!==null?g=ug(g):(d=Yf(e)?Wf:H$1.current,h=e.contextTypes,g=(h=h!=null)?Xf(s,d):Uf),e=new e(a,g),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mg,s.stateNode=e,e._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=d,s.__reactInternalMemoizedMaskedChildContext=g),e}function Pg(s,e,a,h){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,h),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,h),e.state!==s&&Mg.enqueueReplaceState(e,e.state,null)}function Qg(s,e,a,h){var d=s.stateNode;d.props=a,d.state=s.memoizedState,d.refs=Hg,xg(s);var g=e.contextType;typeof g=="object"&&g!==null?d.context=ug(g):(g=Yf(e)?Wf:H$1.current,d.context=Xf(s,g)),d.state=s.memoizedState,g=e.getDerivedStateFromProps,typeof g=="function"&&(Ig(s,e,g,a),d.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(e=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),e!==d.state&&Mg.enqueueReplaceState(d,d.state,null),Eg(s,a,d,h),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308)}var Rg=[],Sg=0,Tg=null,Ug=0,Vg=[],Wg=0,Xg=null,Yg=1,Zg="";function $g(s,e){Rg[Sg++]=Ug,Rg[Sg++]=Tg,Tg=s,Ug=e}function ah$1(s,e,a){Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Xg=s;var h=Yg;s=Zg;var d=32-nc$2(h)-1;h&=~(1<<d),a+=1;var g=32-nc$2(e)+d;if(30<g){var _=d-d%5;g=(h&(1<<_)-1).toString(32),h>>=_,d-=_,Yg=1<<32-nc$2(e)+d|a<<d|h,Zg=g+s}else Yg=1<<g|a<<d|h,Zg=s}function bh$1(s){s.return!==null&&($g(s,1),ah$1(s,1,0))}function ch$1(s){for(;s===Tg;)Tg=Rg[--Sg],Rg[Sg]=null,Ug=Rg[--Sg],Rg[Sg]=null;for(;s===Xg;)Xg=Vg[--Wg],Vg[Wg]=null,Zg=Vg[--Wg],Vg[Wg]=null,Yg=Vg[--Wg],Vg[Wg]=null}var dh=null,eh$1=null,I$1=!1,fh=null;function gh(s,e){var a=hh$1(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=s,e=s.deletions,e===null?(s.deletions=[a],s.flags|=16):e.push(a)}function ih$1(s,e){switch(s.tag){case 5:var a=s.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,dh=s,eh$1=Kf(e.firstChild),!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,dh=s,eh$1=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=Xg!==null?{id:Yg,overflow:Zg}:null,s.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=hh$1(18,null,null,0),a.stateNode=e,a.return=s,s.child=a,dh=s,eh$1=null,!0):!1;default:return!1}}function jh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function kh$1(s){if(I$1){var e=eh$1;if(e){var a=e;if(!ih$1(s,e)){if(jh(s))throw Error(p$2(418));e=Kf(a.nextSibling);var h=dh;e&&ih$1(s,e)?gh(h,a):(s.flags=s.flags&-4097|2,I$1=!1,dh=s)}}else{if(jh(s))throw Error(p$2(418));s.flags=s.flags&-4097|2,I$1=!1,dh=s}}}function lh$1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;dh=s}function mh(s){if(s!==dh)return!1;if(!I$1)return lh$1(s),I$1=!0,!1;var e;if((e=s.tag!==3)&&!(e=s.tag!==5)&&(e=s.type,e=e!=="head"&&e!=="body"&&!Df(s.type,s.memoizedProps)),e&&(e=eh$1)){if(jh(s)){for(s=eh$1;s;)s=Kf(s.nextSibling);throw Error(p$2(418))}for(;e;)gh(s,e),e=Kf(e.nextSibling)}if(lh$1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$2(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(e===0){eh$1=Kf(s.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}s=s.nextSibling}eh$1=null}}else eh$1=dh?Kf(s.stateNode.nextSibling):null;return!0}function nh$1(){eh$1=dh=null,I$1=!1}function oh(s){fh===null?fh=[s]:fh.push(s)}function ph(s,e,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$2(309));var h=a.stateNode}if(!h)throw Error(p$2(147,s));var d=h,g=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===g?e.ref:(e=function(_){var b=d.refs;b===Hg&&(b=d.refs={}),_===null?delete b[g]:b[g]=_},e._stringRef=g,e)}if(typeof s!="string")throw Error(p$2(284));if(!a._owner)throw Error(p$2(290,s))}return s}function qh$1(s,e){throw s=Object.prototype.toString.call(e),Error(p$2(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s))}function rh$1(s){var e=s._init;return e(s._payload)}function sh$1(s){function e(wt,vt){if(s){var kt=wt.deletions;kt===null?(wt.deletions=[vt],wt.flags|=16):kt.push(vt)}}function a(wt,vt){if(!s)return null;for(;vt!==null;)e(wt,vt),vt=vt.sibling;return null}function h(wt,vt){for(wt=new Map;vt!==null;)vt.key!==null?wt.set(vt.key,vt):wt.set(vt.index,vt),vt=vt.sibling;return wt}function d(wt,vt){return wt=th(wt,vt),wt.index=0,wt.sibling=null,wt}function g(wt,vt,kt){return wt.index=kt,s?(kt=wt.alternate,kt!==null?(kt=kt.index,kt<vt?(wt.flags|=2,vt):kt):(wt.flags|=2,vt)):(wt.flags|=1048576,vt)}function _(wt){return s&&wt.alternate===null&&(wt.flags|=2),wt}function b(wt,vt,kt,Dt){return vt===null||vt.tag!==6?(vt=uh$1(kt,wt.mode,Dt),vt.return=wt,vt):(vt=d(vt,kt),vt.return=wt,vt)}function et(wt,vt,kt,Dt){var Nt=kt.type;return Nt===wa$2?gt(wt,vt,kt.props.children,Dt,kt.key):vt!==null&&(vt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ga$1&&rh$1(Nt)===vt.type)?(Dt=d(vt,kt.props),Dt.ref=ph(wt,vt,kt),Dt.return=wt,Dt):(Dt=vh$1(kt.type,kt.key,kt.props,null,wt.mode,Dt),Dt.ref=ph(wt,vt,kt),Dt.return=wt,Dt)}function ot(wt,vt,kt,Dt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==kt.containerInfo||vt.stateNode.implementation!==kt.implementation?(vt=wh(kt,wt.mode,Dt),vt.return=wt,vt):(vt=d(vt,kt.children||[]),vt.return=wt,vt)}function gt(wt,vt,kt,Dt,Nt){return vt===null||vt.tag!==7?(vt=xh$1(kt,wt.mode,Dt,Nt),vt.return=wt,vt):(vt=d(vt,kt),vt.return=wt,vt)}function yt(wt,vt,kt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=uh$1(""+vt,wt.mode,kt),vt.return=wt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case ua$1:return kt=vh$1(vt.type,vt.key,vt.props,null,wt.mode,kt),kt.ref=ph(wt,null,vt),kt.return=wt,kt;case va$2:return vt=wh(vt,wt.mode,kt),vt.return=wt,vt;case Ga$1:var Dt=vt._init;return yt(wt,Dt(vt._payload),kt)}if(db$2(vt)||Ja$1(vt))return vt=xh$1(vt,wt.mode,kt,null),vt.return=wt,vt;qh$1(wt,vt)}return null}function mt(wt,vt,kt,Dt){var Nt=vt!==null?vt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Nt!==null?null:b(wt,vt,""+kt,Dt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case ua$1:return kt.key===Nt?et(wt,vt,kt,Dt):null;case va$2:return kt.key===Nt?ot(wt,vt,kt,Dt):null;case Ga$1:return Nt=kt._init,mt(wt,vt,Nt(kt._payload),Dt)}if(db$2(kt)||Ja$1(kt))return Nt!==null?null:gt(wt,vt,kt,Dt,null);qh$1(wt,kt)}return null}function St(wt,vt,kt,Dt,Nt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return wt=wt.get(kt)||null,b(vt,wt,""+Dt,Nt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case ua$1:return wt=wt.get(Dt.key===null?kt:Dt.key)||null,et(vt,wt,Dt,Nt);case va$2:return wt=wt.get(Dt.key===null?kt:Dt.key)||null,ot(vt,wt,Dt,Nt);case Ga$1:var Mt=Dt._init;return St(wt,vt,kt,Mt(Dt._payload),Nt)}if(db$2(Dt)||Ja$1(Dt))return wt=wt.get(kt)||null,gt(vt,wt,Dt,Nt,null);qh$1(vt,Dt)}return null}function _t(wt,vt,kt,Dt){for(var Nt=null,Mt=null,Ht=vt,Ft=vt=0,Wt=null;Ht!==null&&Ft<kt.length;Ft++){Ht.index>Ft?(Wt=Ht,Ht=null):Wt=Ht.sibling;var On=mt(wt,Ht,kt[Ft],Dt);if(On===null){Ht===null&&(Ht=Wt);break}s&&Ht&&On.alternate===null&&e(wt,Ht),vt=g(On,vt,Ft),Mt===null?Nt=On:Mt.sibling=On,Mt=On,Ht=Wt}if(Ft===kt.length)return a(wt,Ht),I$1&&$g(wt,Ft),Nt;if(Ht===null){for(;Ft<kt.length;Ft++)Ht=yt(wt,kt[Ft],Dt),Ht!==null&&(vt=g(Ht,vt,Ft),Mt===null?Nt=Ht:Mt.sibling=Ht,Mt=Ht);return I$1&&$g(wt,Ft),Nt}for(Ht=h(wt,Ht);Ft<kt.length;Ft++)Wt=St(Ht,wt,Ft,kt[Ft],Dt),Wt!==null&&(s&&Wt.alternate!==null&&Ht.delete(Wt.key===null?Ft:Wt.key),vt=g(Wt,vt,Ft),Mt===null?Nt=Wt:Mt.sibling=Wt,Mt=Wt);return s&&Ht.forEach(function(ir){return e(wt,ir)}),I$1&&$g(wt,Ft),Nt}function xt(wt,vt,kt,Dt){var Nt=Ja$1(kt);if(typeof Nt!="function")throw Error(p$2(150));if(kt=Nt.call(kt),kt==null)throw Error(p$2(151));for(var Mt=Nt=null,Ht=vt,Ft=vt=0,Wt=null,On=kt.next();Ht!==null&&!On.done;Ft++,On=kt.next()){Ht.index>Ft?(Wt=Ht,Ht=null):Wt=Ht.sibling;var ir=mt(wt,Ht,On.value,Dt);if(ir===null){Ht===null&&(Ht=Wt);break}s&&Ht&&ir.alternate===null&&e(wt,Ht),vt=g(ir,vt,Ft),Mt===null?Nt=ir:Mt.sibling=ir,Mt=ir,Ht=Wt}if(On.done)return a(wt,Ht),I$1&&$g(wt,Ft),Nt;if(Ht===null){for(;!On.done;Ft++,On=kt.next())On=yt(wt,On.value,Dt),On!==null&&(vt=g(On,vt,Ft),Mt===null?Nt=On:Mt.sibling=On,Mt=On);return I$1&&$g(wt,Ft),Nt}for(Ht=h(wt,Ht);!On.done;Ft++,On=kt.next())On=St(Ht,wt,Ft,On.value,Dt),On!==null&&(s&&On.alternate!==null&&Ht.delete(On.key===null?Ft:On.key),vt=g(On,vt,Ft),Mt===null?Nt=On:Mt.sibling=On,Mt=On);return s&&Ht.forEach(function(ar){return e(wt,ar)}),I$1&&$g(wt,Ft),Nt}function Ot(wt,vt,kt,Dt){if(typeof kt=="object"&&kt!==null&&kt.type===wa$2&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case ua$1:e:{for(var Nt=kt.key,Mt=vt;Mt!==null;){if(Mt.key===Nt){if(Nt=kt.type,Nt===wa$2){if(Mt.tag===7){a(wt,Mt.sibling),vt=d(Mt,kt.props.children),vt.return=wt,wt=vt;break e}}else if(Mt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ga$1&&rh$1(Nt)===Mt.type){a(wt,Mt.sibling),vt=d(Mt,kt.props),vt.ref=ph(wt,Mt,kt),vt.return=wt,wt=vt;break e}a(wt,Mt);break}else e(wt,Mt);Mt=Mt.sibling}kt.type===wa$2?(vt=xh$1(kt.props.children,wt.mode,Dt,kt.key),vt.return=wt,wt=vt):(Dt=vh$1(kt.type,kt.key,kt.props,null,wt.mode,Dt),Dt.ref=ph(wt,vt,kt),Dt.return=wt,wt=Dt)}return _(wt);case va$2:e:{for(Mt=kt.key;vt!==null;){if(vt.key===Mt)if(vt.tag===4&&vt.stateNode.containerInfo===kt.containerInfo&&vt.stateNode.implementation===kt.implementation){a(wt,vt.sibling),vt=d(vt,kt.children||[]),vt.return=wt,wt=vt;break e}else{a(wt,vt);break}else e(wt,vt);vt=vt.sibling}vt=wh(kt,wt.mode,Dt),vt.return=wt,wt=vt}return _(wt);case Ga$1:return Mt=kt._init,Ot(wt,vt,Mt(kt._payload),Dt)}if(db$2(kt))return _t(wt,vt,kt,Dt);if(Ja$1(kt))return xt(wt,vt,kt,Dt);qh$1(wt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,vt!==null&&vt.tag===6?(a(wt,vt.sibling),vt=d(vt,kt),vt.return=wt,wt=vt):(a(wt,vt),vt=uh$1(kt,wt.mode,Dt),vt.return=wt,wt=vt),_(wt)):a(wt,vt)}return Ot}var yh=sh$1(!0),zh=sh$1(!1),Ah$1={},Bh$1=Tf(Ah$1),Ch$1=Tf(Ah$1),Dh$1=Tf(Ah$1);function Eh$1(s){if(s===Ah$1)throw Error(p$2(174));return s}function Fh$1(s,e){switch(G$1(Dh$1,e),G$1(Ch$1,s),G$1(Bh$1,Ah$1),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kb$1(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=kb$1(e,s)}E$1(Bh$1),G$1(Bh$1,e)}function Gh(){E$1(Bh$1),E$1(Ch$1),E$1(Dh$1)}function Hh(s){Eh$1(Dh$1.current);var e=Eh$1(Bh$1.current),a=kb$1(e,s.type);e!==a&&(G$1(Ch$1,s),G$1(Bh$1,a))}function Ih$1(s){Ch$1.current===s&&(E$1(Bh$1),E$1(Ch$1))}var K$2=Tf(0);function Jh(s){for(var e=s;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh$1=[];function Lh$1(){for(var s=0;s<Kh$1.length;s++)Kh$1[s]._workInProgressVersionPrimary=null;Kh$1.length=0}var Mh$1=ta$1.ReactCurrentDispatcher,Nh$1=ta$1.ReactCurrentBatchConfig,Oh$1=0,L$2=null,M$2=null,N$2=null,Ph$1=!1,Qh=!1,Rh$1=0,Sh$1=0;function O$1(){throw Error(p$2(321))}function Th$1(s,e){if(e===null)return!1;for(var a=0;a<e.length&&a<s.length;a++)if(!Ge$1(s[a],e[a]))return!1;return!0}function Uh$1(s,e,a,h,d,g){if(Oh$1=g,L$2=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mh$1.current=s===null||s.memoizedState===null?Vh$1:Wh,s=a(h,d),Qh){g=0;do{if(Qh=!1,Rh$1=0,25<=g)throw Error(p$2(301));g+=1,N$2=M$2=null,e.updateQueue=null,Mh$1.current=Xh,s=a(h,d)}while(Qh)}if(Mh$1.current=Yh,e=M$2!==null&&M$2.next!==null,Oh$1=0,N$2=M$2=L$2=null,Ph$1=!1,e)throw Error(p$2(300));return s}function Zh(){var s=Rh$1!==0;return Rh$1=0,s}function $h(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return N$2===null?L$2.memoizedState=N$2=s:N$2=N$2.next=s,N$2}function ai(){if(M$2===null){var s=L$2.alternate;s=s!==null?s.memoizedState:null}else s=M$2.next;var e=N$2===null?L$2.memoizedState:N$2.next;if(e!==null)N$2=e,M$2=s;else{if(s===null)throw Error(p$2(310));M$2=s,s={memoizedState:M$2.memoizedState,baseState:M$2.baseState,baseQueue:M$2.baseQueue,queue:M$2.queue,next:null},N$2===null?L$2.memoizedState=N$2=s:N$2=N$2.next=s}return N$2}function bi(s,e){return typeof e=="function"?e(s):e}function ci(s){var e=ai(),a=e.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=s;var h=M$2,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var b=_=null,et=null,ot=g;do{var gt=ot.lane;if((Oh$1&gt)===gt)et!==null&&(et=et.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),h=ot.hasEagerState?ot.eagerState:s(h,ot.action);else{var yt={lane:gt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};et===null?(b=et=yt,_=h):et=et.next=yt,L$2.lanes|=gt,Fg|=gt}ot=ot.next}while(ot!==null&&ot!==g);et===null?_=h:et.next=b,Ge$1(h,e.memoizedState)||(tg=!0),e.memoizedState=h,e.baseState=_,e.baseQueue=et,a.lastRenderedState=h}if(s=a.interleaved,s!==null){d=s;do g=d.lane,L$2.lanes|=g,Fg|=g,d=d.next;while(d!==s)}else d===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function di(s){var e=ai(),a=e.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=s;var h=a.dispatch,d=a.pending,g=e.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=s(g,_.action),_=_.next;while(_!==d);Ge$1(g,e.memoizedState)||(tg=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),a.lastRenderedState=g}return[g,h]}function ei$1(){}function fi(s,e){var a=L$2,h=ai(),d=e(),g=!Ge$1(h.memoizedState,d);if(g&&(h.memoizedState=d,tg=!0),h=h.queue,gi(hi.bind(null,a,h,s),[s]),h.getSnapshot!==e||g||N$2!==null&&N$2.memoizedState.tag&1){if(a.flags|=2048,ii$1(9,ji.bind(null,a,h,d,e),void 0,null),P$1===null)throw Error(p$2(349));(Oh$1&30)!==0||ki(a,e,d)}return d}function ki(s,e,a){s.flags|=16384,s={getSnapshot:e,value:a},e=L$2.updateQueue,e===null?(e={lastEffect:null,stores:null},L$2.updateQueue=e,e.stores=[s]):(a=e.stores,a===null?e.stores=[s]:a.push(s))}function ji(s,e,a,h){e.value=a,e.getSnapshot=h,li(e)&&Lg(s,1,-1)}function hi(s,e,a){return a(function(){li(e)&&Lg(s,1,-1)})}function li(s){var e=s.getSnapshot;s=s.value;try{var a=e();return!Ge$1(s,a)}catch{return!0}}function mi(s){var e=$h();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},e.queue=s,s=s.dispatch=ni$1.bind(null,L$2,s),[e.memoizedState,s]}function ii$1(s,e,a,h){return s={tag:s,create:e,destroy:a,deps:h,next:null},e=L$2.updateQueue,e===null?(e={lastEffect:null,stores:null},L$2.updateQueue=e,e.lastEffect=s.next=s):(a=e.lastEffect,a===null?e.lastEffect=s.next=s:(h=a.next,a.next=s,s.next=h,e.lastEffect=s)),s}function oi$1(){return ai().memoizedState}function pi(s,e,a,h){var d=$h();L$2.flags|=s,d.memoizedState=ii$1(1|e,a,void 0,h===void 0?null:h)}function qi(s,e,a,h){var d=ai();h=h===void 0?null:h;var g=void 0;if(M$2!==null){var _=M$2.memoizedState;if(g=_.destroy,h!==null&&Th$1(h,_.deps)){d.memoizedState=ii$1(e,a,g,h);return}}L$2.flags|=s,d.memoizedState=ii$1(1|e,a,g,h)}function ri$1(s,e){return pi(8390656,8,s,e)}function gi(s,e){return qi(2048,8,s,e)}function si$1(s,e){return qi(4,2,s,e)}function ti$1(s,e){return qi(4,4,s,e)}function ui$1(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function vi(s,e,a){return a=a!=null?a.concat([s]):null,qi(4,4,ui$1.bind(null,e,s),a)}function wi(){}function xi(s,e){var a=ai();e=e===void 0?null:e;var h=a.memoizedState;return h!==null&&e!==null&&Th$1(e,h[1])?h[0]:(a.memoizedState=[s,e],s)}function yi(s,e){var a=ai();e=e===void 0?null:e;var h=a.memoizedState;return h!==null&&e!==null&&Th$1(e,h[1])?h[0]:(s=s(),a.memoizedState=[s,e],s)}function zi(s,e,a){return(Oh$1&21)===0?(s.baseState&&(s.baseState=!1,tg=!0),s.memoizedState=a):(Ge$1(a,e)||(a=xc$1(),L$2.lanes|=a,Fg|=a,s.baseState=!0),e)}function Ai(s,e){var a=C$2;C$2=a!==0&&4>a?a:4,s(!0);var h=Nh$1.transition;Nh$1.transition={};try{s(!1),e()}finally{C$2=a,Nh$1.transition=h}}function Bi$1(){return ai().memoizedState}function Ci(s,e,a){var h=Kg(s);a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Di(s)?Ei(e,a):(Fi$1(s,e,a),a=Jg(),s=Lg(s,h,a),s!==null&&Gi(s,e,h))}function ni$1(s,e,a){var h=Kg(s),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Di(s))Ei(e,d);else{Fi$1(s,e,d);var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var _=e.lastRenderedState,b=g(_,a);if(d.hasEagerState=!0,d.eagerState=b,Ge$1(b,_))return}catch{}finally{}a=Jg(),s=Lg(s,h,a),s!==null&&Gi(s,e,h)}}function Di(s){var e=s.alternate;return s===L$2||e!==null&&e===L$2}function Ei(s,e){Qh=Ph$1=!0;var a=s.pending;a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e}function Fi$1(s,e,a){Bg(s)?(s=e.interleaved,s===null?(a.next=a,vg===null?vg=[e]:vg.push(e)):(a.next=s.next,s.next=a),e.interleaved=a):(s=e.pending,s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a)}function Gi(s,e,a){if((a&4194240)!==0){var h=e.lanes;h&=s.pendingLanes,a|=h,e.lanes=a,Bc$2(s,a)}}var Yh={readContext:ug,useCallback:O$1,useContext:O$1,useEffect:O$1,useImperativeHandle:O$1,useInsertionEffect:O$1,useLayoutEffect:O$1,useMemo:O$1,useReducer:O$1,useRef:O$1,useState:O$1,useDebugValue:O$1,useDeferredValue:O$1,useTransition:O$1,useMutableSource:O$1,useSyncExternalStore:O$1,useId:O$1,unstable_isNewReconciler:!1},Vh$1={readContext:ug,useCallback:function(s,e){return $h().memoizedState=[s,e===void 0?null:e],s},useContext:ug,useEffect:ri$1,useImperativeHandle:function(s,e,a){return a=a!=null?a.concat([s]):null,pi(4194308,4,ui$1.bind(null,e,s),a)},useLayoutEffect:function(s,e){return pi(4194308,4,s,e)},useInsertionEffect:function(s,e){return pi(4,2,s,e)},useMemo:function(s,e){var a=$h();return e=e===void 0?null:e,s=s(),a.memoizedState=[s,e],s},useReducer:function(s,e,a){var h=$h();return e=a!==void 0?a(e):e,h.memoizedState=h.baseState=e,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},h.queue=s,s=s.dispatch=Ci.bind(null,L$2,s),[h.memoizedState,s]},useRef:function(s){var e=$h();return s={current:s},e.memoizedState=s},useState:mi,useDebugValue:wi,useDeferredValue:function(s){return $h().memoizedState=s},useTransition:function(){var s=mi(!1),e=s[0];return s=Ai.bind(null,s[1]),$h().memoizedState=s,[e,s]},useMutableSource:function(){},useSyncExternalStore:function(s,e,a){var h=L$2,d=$h();if(I$1){if(a===void 0)throw Error(p$2(407));a=a()}else{if(a=e(),P$1===null)throw Error(p$2(349));(Oh$1&30)!==0||ki(h,e,a)}d.memoizedState=a;var g={value:a,getSnapshot:e};return d.queue=g,ri$1(hi.bind(null,h,g,s),[s]),h.flags|=2048,ii$1(9,ji.bind(null,h,g,a,e),void 0,null),a},useId:function(){var s=$h(),e=P$1.identifierPrefix;if(I$1){var a=Zg,h=Yg;a=(h&~(1<<32-nc$2(h)-1)).toString(32)+a,e=":"+e+"R"+a,a=Rh$1++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=Sh$1++,e=":"+e+"r"+a.toString(32)+":";return s.memoizedState=e},unstable_isNewReconciler:!1},Wh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si$1,useLayoutEffect:ti$1,useMemo:yi,useReducer:ci,useRef:oi$1,useState:function(){return ci(bi)},useDebugValue:wi,useDeferredValue:function(s){var e=ai();return zi(e,M$2.memoizedState,s)},useTransition:function(){var s=ci(bi)[0],e=ai().memoizedState;return[s,e]},useMutableSource:ei$1,useSyncExternalStore:fi,useId:Bi$1,unstable_isNewReconciler:!1},Xh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si$1,useLayoutEffect:ti$1,useMemo:yi,useReducer:di,useRef:oi$1,useState:function(){return di(bi)},useDebugValue:wi,useDeferredValue:function(s){var e=ai();return M$2===null?e.memoizedState=s:zi(e,M$2.memoizedState,s)},useTransition:function(){var s=di(bi)[0],e=ai().memoizedState;return[s,e]},useMutableSource:ei$1,useSyncExternalStore:fi,useId:Bi$1,unstable_isNewReconciler:!1};function Hi(s,e){try{var a="",h=e;do a+=Oa$1(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:e,stack:d}}function Ii(s,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Ji$1=typeof WeakMap=="function"?WeakMap:Map;function Ki(s,e,a){a=zg(-1,a),a.tag=3,a.payload={element:null};var h=e.value;return a.callback=function(){Li$1||(Li$1=!0,Mi=h),Ii(s,e)},a}function Ni(s,e,a){a=zg(-1,a),a.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=e.value;a.payload=function(){return h(d)},a.callback=function(){Ii(s,e)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Ii(s,e),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var _=e.stack;this.componentDidCatch(e.value,{componentStack:_!==null?_:""})}),a}function Pi(s,e,a){var h=s.pingCache;if(h===null){h=s.pingCache=new Ji$1;var d=new Set;h.set(e,d)}else d=h.get(e),d===void 0&&(d=new Set,h.set(e,d));d.has(a)||(d.add(a),s=Qi.bind(null,s,e,a),e.then(s,s))}function Ri(s){do{var e;if((e=s.tag===13)&&(e=s.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return s;s=s.return}while(s!==null);return null}function Si(s,e,a,h,d){return(s.mode&1)===0?(s===e?s.flags|=65536:(s.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=zg(-1,1),e.tag=2,Ag(a,e))),a.lanes|=1),s):(s.flags|=65536,s.lanes=d,s)}var Ti,Ui$1,Vi,Wi;Ti=function(s,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ui$1=function(){};Vi=function(s,e,a,h){var d=s.memoizedProps;if(d!==h){s=e.stateNode,Eh$1(Bh$1.current);var g=null;switch(a){case"input":d=Xa$1(s,d),h=Xa$1(s,h),g=[];break;case"select":d=A$1({},d,{value:void 0}),h=A$1({},h,{value:void 0}),g=[];break;case"textarea":d=fb$1(s,d),h=fb$1(s,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Af)}tb$1(a,h);var _;a=null;for(ot in d)if(!h.hasOwnProperty(ot)&&d.hasOwnProperty(ot)&&d[ot]!=null)if(ot==="style"){var b=d[ot];for(_ in b)b.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea$1.hasOwnProperty(ot)?g||(g=[]):(g=g||[]).push(ot,null));for(ot in h){var et=h[ot];if(b=d!=null?d[ot]:void 0,h.hasOwnProperty(ot)&&et!==b&&(et!=null||b!=null))if(ot==="style")if(b){for(_ in b)!b.hasOwnProperty(_)||et&&et.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in et)et.hasOwnProperty(_)&&b[_]!==et[_]&&(a||(a={}),a[_]=et[_])}else a||(g||(g=[]),g.push(ot,a)),a=et;else ot==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,b=b?b.__html:void 0,et!=null&&b!==et&&(g=g||[]).push(ot,et)):ot==="children"?typeof et!="string"&&typeof et!="number"||(g=g||[]).push(ot,""+et):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(ot)?(et!=null&&ot==="onScroll"&&D$2("scroll",s),g||b===et||(g=[])):(g=g||[]).push(ot,et))}a&&(g=g||[]).push("style",a);var ot=g;(e.updateQueue=ot)&&(e.flags|=4)}};Wi=function(s,e,a,h){a!==h&&(e.flags|=4)};function Xi(s,e){if(!I$1)switch(s.tailMode){case"hidden":e=s.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Q$2(s){var e=s.alternate!==null&&s.alternate.child===s.child,a=0,h=0;if(e)for(var d=s.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=h,s.childLanes=a,e}function Yi(s,e,a){var h=e.pendingProps;switch(ch$1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Q$2(e),null;case 1:return Yf(e.type)&&Zf(),Q$2(e),null;case 3:return h=e.stateNode,Gh(),E$1(Vf),E$1(H$1),Lh$1(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(mh(e)?e.flags|=4:s===null||s.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,fh!==null&&(Zi(fh),fh=null))),Ui$1(s,e),Q$2(e),null;case 5:Ih$1(e);var d=Eh$1(Dh$1.current);if(a=e.type,s!==null&&e.stateNode!=null)Vi(s,e,a,h,d),s.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!h){if(e.stateNode===null)throw Error(p$2(166));return Q$2(e),null}if(s=Eh$1(Bh$1.current),mh(e)){h=e.stateNode,a=e.type;var g=e.memoizedProps;switch(h[Nf]=e,h[Of]=g,s=(e.mode&1)!==0,a){case"dialog":D$2("cancel",h),D$2("close",h);break;case"iframe":case"object":case"embed":D$2("load",h);break;case"video":case"audio":for(d=0;d<kf.length;d++)D$2(kf[d],h);break;case"source":D$2("error",h);break;case"img":case"image":case"link":D$2("error",h),D$2("load",h);break;case"details":D$2("toggle",h);break;case"input":Ya$1(h,g),D$2("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},D$2("invalid",h);break;case"textarea":gb$1(h,g),D$2("invalid",h)}tb$1(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var b=g[_];_==="children"?typeof b=="string"?h.textContent!==b&&(g.suppressHydrationWarning!==!0&&zf(h.textContent,b,s),d=["children",b]):typeof b=="number"&&h.textContent!==""+b&&(g.suppressHydrationWarning!==!0&&zf(h.textContent,b,s),d=["children",""+b]):ea$1.hasOwnProperty(_)&&b!=null&&_==="onScroll"&&D$2("scroll",h)}switch(a){case"input":Ua$2(h),cb$1(h,g,!0);break;case"textarea":Ua$2(h),ib$1(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Af)}h=d,e.updateQueue=h,h!==null&&(e.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=jb$1(a)),s==="http://www.w3.org/1999/xhtml"?a==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=_.createElement(a,{is:h.is}):(s=_.createElement(a),a==="select"&&(_=s,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):s=_.createElementNS(s,a),s[Nf]=e,s[Of]=h,Ti(s,e,!1,!1),e.stateNode=s;e:{switch(_=ub$1(a,h),a){case"dialog":D$2("cancel",s),D$2("close",s),d=h;break;case"iframe":case"object":case"embed":D$2("load",s),d=h;break;case"video":case"audio":for(d=0;d<kf.length;d++)D$2(kf[d],s);d=h;break;case"source":D$2("error",s),d=h;break;case"img":case"image":case"link":D$2("error",s),D$2("load",s),d=h;break;case"details":D$2("toggle",s),d=h;break;case"input":Ya$1(s,h),d=Xa$1(s,h),D$2("invalid",s);break;case"option":d=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},d=A$1({},h,{value:void 0}),D$2("invalid",s);break;case"textarea":gb$1(s,h),d=fb$1(s,h),D$2("invalid",s);break;default:d=h}tb$1(a,d),b=d;for(g in b)if(b.hasOwnProperty(g)){var et=b[g];g==="style"?rb$1(s,et):g==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&mb$1(s,et)):g==="children"?typeof et=="string"?(a!=="textarea"||et!=="")&&nb$1(s,et):typeof et=="number"&&nb$1(s,""+et):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea$1.hasOwnProperty(g)?et!=null&&g==="onScroll"&&D$2("scroll",s):et!=null&&sa$2(s,g,et,_))}switch(a){case"input":Ua$2(s),cb$1(s,h,!1);break;case"textarea":Ua$2(s),ib$1(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ra$1(h.value));break;case"select":s.multiple=!!h.multiple,g=h.value,g!=null?eb(s,!!h.multiple,g,!1):h.defaultValue!=null&&eb(s,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(s.onclick=Af)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Q$2(e),null;case 6:if(s&&e.stateNode!=null)Wi(s,e,s.memoizedProps,h);else{if(typeof h!="string"&&e.stateNode===null)throw Error(p$2(166));if(a=Eh$1(Dh$1.current),Eh$1(Bh$1.current),mh(e)){if(h=e.stateNode,a=e.memoizedProps,h[Nf]=e,(g=h.nodeValue!==a)&&(s=dh,s!==null))switch(s.tag){case 3:zf(h.nodeValue,a,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zf(h.nodeValue,a,(s.mode&1)!==0)}g&&(e.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Nf]=e,e.stateNode=h}return Q$2(e),null;case 13:if(E$1(K$2),h=e.memoizedState,I$1&&eh$1!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(h=eh$1;h;)h=Kf(h.nextSibling);return nh$1(),e.flags|=98560,e}if(h!==null&&h.dehydrated!==null){if(h=mh(e),s===null){if(!h)throw Error(p$2(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p$2(317));h[Nf]=e}else nh$1(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return Q$2(e),null}return fh!==null&&(Zi(fh),fh=null),(e.flags&128)!==0?(e.lanes=a,e):(h=h!==null,a=!1,s===null?mh(e):a=s.memoizedState!==null,h!==a&&h&&(e.child.flags|=8192,(e.mode&1)!==0&&(s===null||(K$2.current&1)!==0?R$1===0&&(R$1=3):$i$1())),e.updateQueue!==null&&(e.flags|=4),Q$2(e),null);case 4:return Gh(),Ui$1(s,e),s===null&&rf(e.stateNode.containerInfo),Q$2(e),null;case 10:return qg(e.type._context),Q$2(e),null;case 17:return Yf(e.type)&&Zf(),Q$2(e),null;case 19:if(E$1(K$2),g=e.memoizedState,g===null)return Q$2(e),null;if(h=(e.flags&128)!==0,_=g.rendering,_===null)if(h)Xi(g,!1);else{if(R$1!==0||s!==null&&(s.flags&128)!==0)for(s=e.child;s!==null;){if(_=Jh(s),_!==null){for(e.flags|=128,Xi(g,!1),h=_.updateQueue,h!==null&&(e.updateQueue=h,e.flags|=4),e.subtreeFlags=0,h=a,a=e.child;a!==null;)g=a,s=h,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,s=_.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return G$1(K$2,K$2.current&1|2),e.child}s=s.sibling}g.tail!==null&&B$2()>aj&&(e.flags|=128,h=!0,Xi(g,!1),e.lanes=4194304)}else{if(!h)if(s=Jh(_),s!==null){if(e.flags|=128,h=!0,a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Xi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!I$1)return Q$2(e),null}else 2*B$2()-g.renderingStartTime>aj&&a!==1073741824&&(e.flags|=128,h=!0,Xi(g,!1),e.lanes=4194304);g.isBackwards?(_.sibling=e.child,e.child=_):(a=g.last,a!==null?a.sibling=_:e.child=_,g.last=_)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=B$2(),e.sibling=null,a=K$2.current,G$1(K$2,h?a&1|2:a&1),e):(Q$2(e),null);case 22:case 23:return bj(),h=e.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(e.flags|=8192),h&&(e.mode&1)!==0?(cj&1073741824)!==0&&(Q$2(e),e.subtreeFlags&6&&(e.flags|=8192)):Q$2(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}var dj=ta$1.ReactCurrentOwner,tg=!1;function ej(s,e,a,h){e.child=s===null?zh(e,null,a,h):yh(e,s.child,a,h)}function fj(s,e,a,h,d){a=a.render;var g=e.ref;return sg(e,d),h=Uh$1(s,e,a,h,g,d),a=Zh(),s!==null&&!tg?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~d,gj(s,e,d)):(I$1&&a&&bh$1(e),e.flags|=1,ej(s,e,h,d),e.child)}function hj(s,e,a,h,d){if(s===null){var g=a.type;return typeof g=="function"&&!ij(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=g,jj(s,e,g,h,d)):(s=vh$1(a.type,null,h,e,e.mode,d),s.ref=e.ref,s.return=e,e.child=s)}if(g=s.child,(s.lanes&d)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:He$1,a(_,h)&&s.ref===e.ref)return gj(s,e,d)}return e.flags|=1,s=th(g,h),s.ref=e.ref,s.return=e,e.child=s}function jj(s,e,a,h,d){if(s!==null){var g=s.memoizedProps;if(He$1(g,h)&&s.ref===e.ref)if(tg=!1,e.pendingProps=h=g,(s.lanes&d)!==0)(s.flags&131072)!==0&&(tg=!0);else return e.lanes=s.lanes,gj(s,e,d)}return kj(s,e,a,h,d)}function lj(s,e,a){var h=e.pendingProps,d=h.children,g=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(mj,cj),cj|=a;else if((a&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,G$1(mj,cj),cj|=h;else return s=g!==null?g.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s,cachePool:null,transitions:null},e.updateQueue=null,G$1(mj,cj),cj|=s,null;else g!==null?(h=g.baseLanes|a,e.memoizedState=null):h=a,G$1(mj,cj),cj|=h;return ej(s,e,d,a),e.child}function nj(s,e){var a=e.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function kj(s,e,a,h,d){var g=Yf(a)?Wf:H$1.current;return g=Xf(e,g),sg(e,d),a=Uh$1(s,e,a,h,g,d),h=Zh(),s!==null&&!tg?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~d,gj(s,e,d)):(I$1&&h&&bh$1(e),e.flags|=1,ej(s,e,a,d),e.child)}function oj(s,e,a,h,d){if(Yf(a)){var g=!0;bg(e)}else g=!1;if(sg(e,d),e.stateNode===null)s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),Og(e,a,h),Qg(e,a,h,d),h=!0;else if(s===null){var _=e.stateNode,b=e.memoizedProps;_.props=b;var et=_.context,ot=a.contextType;typeof ot=="object"&&ot!==null?ot=ug(ot):(ot=Yf(a)?Wf:H$1.current,ot=Xf(e,ot));var gt=a.getDerivedStateFromProps,yt=typeof gt=="function"||typeof _.getSnapshotBeforeUpdate=="function";yt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==h||et!==ot)&&Pg(e,_,h,ot),wg=!1;var mt=e.memoizedState;_.state=mt,Eg(e,h,_,d),et=e.memoizedState,b!==h||mt!==et||Vf.current||wg?(typeof gt=="function"&&(Ig(e,a,gt,h),et=e.memoizedState),(b=wg||Ng(e,a,b,h,mt,et,ot))?(yt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(e.flags|=4194308)):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=h,e.memoizedState=et),_.props=h,_.state=et,_.context=ot,h=b):(typeof _.componentDidMount=="function"&&(e.flags|=4194308),h=!1)}else{_=e.stateNode,yg(s,e),b=e.memoizedProps,ot=e.type===e.elementType?b:kg(e.type,b),_.props=ot,yt=e.pendingProps,mt=_.context,et=a.contextType,typeof et=="object"&&et!==null?et=ug(et):(et=Yf(a)?Wf:H$1.current,et=Xf(e,et));var St=a.getDerivedStateFromProps;(gt=typeof St=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==yt||mt!==et)&&Pg(e,_,h,et),wg=!1,mt=e.memoizedState,_.state=mt,Eg(e,h,_,d);var _t=e.memoizedState;b!==yt||mt!==_t||Vf.current||wg?(typeof St=="function"&&(Ig(e,a,St,h),_t=e.memoizedState),(ot=wg||Ng(e,a,ot,h,mt,_t,et)||!1)?(gt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,_t,et),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,_t,et)),typeof _.componentDidUpdate=="function"&&(e.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===s.memoizedProps&&mt===s.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&mt===s.memoizedState||(e.flags|=1024),e.memoizedProps=h,e.memoizedState=_t),_.props=h,_.state=_t,_.context=et,h=ot):(typeof _.componentDidUpdate!="function"||b===s.memoizedProps&&mt===s.memoizedState||(e.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&mt===s.memoizedState||(e.flags|=1024),h=!1)}return pj(s,e,a,h,g,d)}function pj(s,e,a,h,d,g){nj(s,e);var _=(e.flags&128)!==0;if(!h&&!_)return d&&cg(e,a,!1),gj(s,e,g);h=e.stateNode,dj.current=e;var b=_&&typeof a.getDerivedStateFromError!="function"?null:h.render();return e.flags|=1,s!==null&&_?(e.child=yh(e,s.child,null,g),e.child=yh(e,null,b,g)):ej(s,e,b,g),e.memoizedState=h.state,d&&cg(e,a,!0),e.child}function qj(s){var e=s.stateNode;e.pendingContext?$f(s,e.pendingContext,e.pendingContext!==e.context):e.context&&$f(s,e.context,!1),Fh$1(s,e.containerInfo)}function rj(s,e,a,h,d){return nh$1(),oh(d),e.flags|=256,ej(s,e,a,h),e.child}var sj={dehydrated:null,treeContext:null,retryLane:0};function tj(s){return{baseLanes:s,cachePool:null,transitions:null}}function uj(s,e){return{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions}}function vj(s,e,a){var h=e.pendingProps,d=K$2.current,g=!1,_=(e.flags&128)!==0,b;if((b=_)||(b=s!==null&&s.memoizedState===null?!1:(d&2)!==0),b?(g=!0,e.flags&=-129):(s===null||s.memoizedState!==null)&&(d|=1),G$1(K$2,d&1),s===null)return kh$1(e),s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((e.mode&1)===0?e.lanes=1:s.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(d=h.children,s=h.fallback,g?(h=e.mode,g=e.child,d={mode:"hidden",children:d},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=d):g=wj(d,h,0,null),s=xh$1(s,h,a,null),g.return=e,s.return=e,g.sibling=s,e.child=g,e.child.memoizedState=tj(a),e.memoizedState=sj,s):xj(e,d));if(d=s.memoizedState,d!==null){if(b=d.dehydrated,b!==null){if(_)return e.flags&256?(e.flags&=-257,yj(s,e,a,Error(p$2(422)))):e.memoizedState!==null?(e.child=s.child,e.flags|=128,null):(g=h.fallback,d=e.mode,h=wj({mode:"visible",children:h.children},d,0,null),g=xh$1(g,d,a,null),g.flags|=2,h.return=e,g.return=e,h.sibling=g,e.child=h,(e.mode&1)!==0&&yh(e,s.child,null,a),e.child.memoizedState=tj(a),e.memoizedState=sj,g);if((e.mode&1)===0)e=yj(s,e,a,null);else if(b.data==="$!")e=yj(s,e,a,Error(p$2(419)));else if(h=(a&s.childLanes)!==0,tg||h){if(h=P$1,h!==null){switch(a&-a){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}h=(g&(h.suspendedLanes|a))!==0?0:g,h!==0&&h!==d.retryLane&&(d.retryLane=h,Lg(s,h,-1))}$i$1(),e=yj(s,e,a,Error(p$2(421)))}else b.data==="$?"?(e.flags|=128,e.child=s.child,e=zj.bind(null,s),b._reactRetry=e,e=null):(a=d.treeContext,eh$1=Kf(b.nextSibling),dh=e,I$1=!0,fh=null,a!==null&&(Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Yg=a.id,Zg=a.overflow,Xg=e),e=xj(e,e.pendingProps.children),e.flags|=4096);return e}return g?(h=Aj(s,e,h.children,h.fallback,a),g=e.child,d=s.child.memoizedState,g.memoizedState=d===null?tj(a):uj(d,a),g.childLanes=s.childLanes&~a,e.memoizedState=sj,h):(a=Bj(s,e,h.children,a),e.memoizedState=null,a)}return g?(h=Aj(s,e,h.children,h.fallback,a),g=e.child,d=s.child.memoizedState,g.memoizedState=d===null?tj(a):uj(d,a),g.childLanes=s.childLanes&~a,e.memoizedState=sj,h):(a=Bj(s,e,h.children,a),e.memoizedState=null,a)}function xj(s,e){return e=wj({mode:"visible",children:e},s.mode,0,null),e.return=s,s.child=e}function Bj(s,e,a,h){var d=s.child;return s=d.sibling,a=th(d,{mode:"visible",children:a}),(e.mode&1)===0&&(a.lanes=h),a.return=e,a.sibling=null,s!==null&&(h=e.deletions,h===null?(e.deletions=[s],e.flags|=16):h.push(s)),e.child=a}function Aj(s,e,a,h,d){var g=e.mode;s=s.child;var _=s.sibling,b={mode:"hidden",children:a};return(g&1)===0&&e.child!==s?(a=e.child,a.childLanes=0,a.pendingProps=b,e.deletions=null):(a=th(s,b),a.subtreeFlags=s.subtreeFlags&14680064),_!==null?h=th(_,h):(h=xh$1(h,g,d,null),h.flags|=2),h.return=e,a.return=e,a.sibling=h,e.child=a,h}function yj(s,e,a,h){return h!==null&&oh(h),yh(e,s.child,null,a),s=xj(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function Cj(s,e,a){s.lanes|=e;var h=s.alternate;h!==null&&(h.lanes|=e),rg(s.return,e,a)}function Dj(s,e,a,h,d){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function Ej(s,e,a){var h=e.pendingProps,d=h.revealOrder,g=h.tail;if(ej(s,e,h.children,a),h=K$2.current,(h&2)!==0)h=h&1|2,e.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cj(s,a,e);else if(s.tag===19)Cj(s,a,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(G$1(K$2,h),(e.mode&1)===0)e.memoizedState=null;else switch(d){case"forwards":for(a=e.child,d=null;a!==null;)s=a.alternate,s!==null&&Jh(s)===null&&(d=a),a=a.sibling;a=d,a===null?(d=e.child,e.child=null):(d=a.sibling,a.sibling=null),Dj(e,!1,d,a,g);break;case"backwards":for(a=null,d=e.child,e.child=null;d!==null;){if(s=d.alternate,s!==null&&Jh(s)===null){e.child=d;break}s=d.sibling,d.sibling=a,a=d,d=s}Dj(e,!0,a,null,g);break;case"together":Dj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gj(s,e,a){if(s!==null&&(e.dependencies=s.dependencies),Fg|=e.lanes,(a&e.childLanes)===0)return null;if(s!==null&&e.child!==s.child)throw Error(p$2(153));if(e.child!==null){for(s=e.child,a=th(s,s.pendingProps),e.child=a,a.return=e;s.sibling!==null;)s=s.sibling,a=a.sibling=th(s,s.pendingProps),a.return=e;a.sibling=null}return e.child}function Fj(s,e,a){switch(e.tag){case 3:qj(e),nh$1();break;case 5:Hh(e);break;case 1:Yf(e.type)&&bg(e);break;case 4:Fh$1(e,e.stateNode.containerInfo);break;case 10:var h=e.type._context,d=e.memoizedProps.value;G$1(lg,h._currentValue),h._currentValue=d;break;case 13:if(h=e.memoizedState,h!==null)return h.dehydrated!==null?(G$1(K$2,K$2.current&1),e.flags|=128,null):(a&e.child.childLanes)!==0?vj(s,e,a):(G$1(K$2,K$2.current&1),s=gj(s,e,a),s!==null?s.sibling:null);G$1(K$2,K$2.current&1);break;case 19:if(h=(a&e.childLanes)!==0,(s.flags&128)!==0){if(h)return Ej(s,e,a);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G$1(K$2,K$2.current),h)break;return null;case 22:case 23:return e.lanes=0,lj(s,e,a)}return gj(s,e,a)}function Gj(s,e){switch(ch$1(e),e.tag){case 1:return Yf(e.type)&&Zf(),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return Gh(),E$1(Vf),E$1(H$1),Lh$1(),s=e.flags,(s&65536)!==0&&(s&128)===0?(e.flags=s&-65537|128,e):null;case 5:return Ih$1(e),null;case 13:if(E$1(K$2),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));nh$1()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return E$1(K$2),null;case 4:return Gh(),null;case 10:return qg(e.type._context),null;case 22:case 23:return bj(),null;case 24:return null;default:return null}}var Hj=!1,S$1=!1,Ij=typeof WeakSet=="function"?WeakSet:Set,T$1=null;function Jj(s,e){var a=s.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){U$2(s,e,h)}else a.current=null}function Kj(s,e,a){try{a()}catch(h){U$2(s,e,h)}}var Lj=!1;function Mj(s,e){if(Bf=cd$1,s=Le(),Me$1(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,b=-1,et=-1,ot=0,gt=0,yt=s,mt=null;t:for(;;){for(var St;yt!==a||d!==0&&yt.nodeType!==3||(b=_+d),yt!==g||h!==0&&yt.nodeType!==3||(et=_+h),yt.nodeType===3&&(_+=yt.nodeValue.length),(St=yt.firstChild)!==null;)mt=yt,yt=St;for(;;){if(yt===s)break t;if(mt===a&&++ot===d&&(b=_),mt===g&&++gt===h&&(et=_),(St=yt.nextSibling)!==null)break;yt=mt,mt=yt.parentNode}yt=St}a=b===-1||et===-1?null:{start:b,end:et}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cf={focusedElem:s,selectionRange:a},cd$1=!1,T$1=e;T$1!==null;)if(e=T$1,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,T$1=s;else for(;T$1!==null;){e=T$1;try{var _t=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var xt=_t.memoizedProps,Ot=_t.memoizedState,wt=e.stateNode,vt=wt.getSnapshotBeforeUpdate(e.elementType===e.type?xt:kg(e.type,xt),Ot);wt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var kt=e.stateNode.containerInfo;if(kt.nodeType===1)kt.textContent="";else if(kt.nodeType===9){var Dt=kt.body;Dt!=null&&(Dt.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Nt){U$2(e,e.return,Nt)}if(s=e.sibling,s!==null){s.return=e.return,T$1=s;break}T$1=e.return}return _t=Lj,Lj=!1,_t}function Nj(s,e,a){var h=e.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&s)===s){var g=d.destroy;d.destroy=void 0,g!==void 0&&Kj(e,a,g)}d=d.next}while(d!==h)}}function Oj(s,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&s)===s){var h=a.create;a.destroy=h()}a=a.next}while(a!==e)}}function Pj(s){var e=s.ref;if(e!==null){var a=s.stateNode;switch(s.tag){case 5:s=a;break;default:s=a}typeof e=="function"?e(s):e.current=s}}function Qj(s){var e=s.alternate;e!==null&&(s.alternate=null,Qj(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&(delete e[Nf],delete e[Of],delete e[nf],delete e[Pf],delete e[Qf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Rj(s){return s.tag===5||s.tag===3||s.tag===4}function Sj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Rj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tj(s,e,a){var h=s.tag;if(h===5||h===6)s=s.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(s,e):a.insertBefore(s,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(s,a)):(e=a,e.appendChild(s)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Af));else if(h!==4&&(s=s.child,s!==null))for(Tj(s,e,a),s=s.sibling;s!==null;)Tj(s,e,a),s=s.sibling}function Uj(s,e,a){var h=s.tag;if(h===5||h===6)s=s.stateNode,e?a.insertBefore(s,e):a.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Uj(s,e,a),s=s.sibling;s!==null;)Uj(s,e,a),s=s.sibling}var V$1=null,Vj=!1;function Wj(s,e,a){for(a=a.child;a!==null;)Xj(s,e,a),a=a.sibling}function Xj(s,e,a){if(kc$1&&typeof kc$1.onCommitFiberUnmount=="function")try{kc$1.onCommitFiberUnmount(jc$1,a)}catch{}switch(a.tag){case 5:S$1||Jj(a,e);case 6:var h=V$1,d=Vj;V$1=null,Wj(s,e,a),V$1=h,Vj=d,V$1!==null&&(Vj?(s=V$1,a=a.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):V$1.removeChild(a.stateNode));break;case 18:V$1!==null&&(Vj?(s=V$1,a=a.stateNode,s.nodeType===8?Jf(s.parentNode,a):s.nodeType===1&&Jf(s,a),ad$1(s)):Jf(V$1,a.stateNode));break;case 4:h=V$1,d=Vj,V$1=a.stateNode.containerInfo,Vj=!0,Wj(s,e,a),V$1=h,Vj=d;break;case 0:case 11:case 14:case 15:if(!S$1&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Kj(a,e,_),d=d.next}while(d!==h)}Wj(s,e,a);break;case 1:if(!S$1&&(Jj(a,e),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(b){U$2(a,e,b)}Wj(s,e,a);break;case 21:Wj(s,e,a);break;case 22:a.mode&1?(S$1=(h=S$1)||a.memoizedState!==null,Wj(s,e,a),S$1=h):Wj(s,e,a);break;default:Wj(s,e,a)}}function Yj(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new Ij),e.forEach(function(h){var d=Zj.bind(null,s,h);a.has(h)||(a.add(h),h.then(d,d))})}}function ak(s,e){var a=e.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=s,_=e,b=_;e:for(;b!==null;){switch(b.tag){case 5:V$1=b.stateNode,Vj=!1;break e;case 3:V$1=b.stateNode.containerInfo,Vj=!0;break e;case 4:V$1=b.stateNode.containerInfo,Vj=!0;break e}b=b.return}if(V$1===null)throw Error(p$2(160));Xj(g,_,d),V$1=null,Vj=!1;var et=d.alternate;et!==null&&(et.return=null),d.return=null}catch(ot){U$2(d,e,ot)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bk(e,s),e=e.sibling}function bk(s,e){var a=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ak(e,s),ck(s),h&4){try{Nj(3,s,s.return),Oj(3,s)}catch(_t){U$2(s,s.return,_t)}try{Nj(5,s,s.return)}catch(_t){U$2(s,s.return,_t)}}break;case 1:ak(e,s),ck(s),h&512&&a!==null&&Jj(a,a.return);break;case 5:if(ak(e,s),ck(s),h&512&&a!==null&&Jj(a,a.return),s.flags&32){var d=s.stateNode;try{nb$1(d,"")}catch(_t){U$2(s,s.return,_t)}}if(h&4&&(d=s.stateNode,d!=null)){var g=s.memoizedProps,_=a!==null?a.memoizedProps:g,b=s.type,et=s.updateQueue;if(s.updateQueue=null,et!==null)try{b==="input"&&g.type==="radio"&&g.name!=null&&Za$2(d,g),ub$1(b,_);var ot=ub$1(b,g);for(_=0;_<et.length;_+=2){var gt=et[_],yt=et[_+1];gt==="style"?rb$1(d,yt):gt==="dangerouslySetInnerHTML"?mb$1(d,yt):gt==="children"?nb$1(d,yt):sa$2(d,gt,yt,ot)}switch(b){case"input":$a$1(d,g);break;case"textarea":hb$1(d,g);break;case"select":var mt=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var St=g.value;St!=null?eb(d,!!g.multiple,St,!1):mt!==!!g.multiple&&(g.defaultValue!=null?eb(d,!!g.multiple,g.defaultValue,!0):eb(d,!!g.multiple,g.multiple?[]:"",!1))}d[Of]=g}catch(_t){U$2(s,s.return,_t)}}break;case 6:if(ak(e,s),ck(s),h&4){if(s.stateNode===null)throw Error(p$2(162));ot=s.stateNode,gt=s.memoizedProps;try{ot.nodeValue=gt}catch(_t){U$2(s,s.return,_t)}}break;case 3:if(ak(e,s),ck(s),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ad$1(e.containerInfo)}catch(_t){U$2(s,s.return,_t)}break;case 4:ak(e,s),ck(s);break;case 13:ak(e,s),ck(s),ot=s.child,ot.flags&8192&&ot.memoizedState!==null&&(ot.alternate===null||ot.alternate.memoizedState===null)&&(dk=B$2()),h&4&&Yj(s);break;case 22:if(ot=a!==null&&a.memoizedState!==null,s.mode&1?(S$1=(gt=S$1)||ot,ak(e,s),S$1=gt):ak(e,s),ck(s),h&8192){gt=s.memoizedState!==null;e:for(yt=null,mt=s;;){if(mt.tag===5){if(yt===null){yt=mt;try{d=mt.stateNode,gt?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(b=mt.stateNode,et=mt.memoizedProps.style,_=et!=null&&et.hasOwnProperty("display")?et.display:null,b.style.display=qb$1("display",_))}catch(_t){U$2(s,s.return,_t)}}}else if(mt.tag===6){if(yt===null)try{mt.stateNode.nodeValue=gt?"":mt.memoizedProps}catch(_t){U$2(s,s.return,_t)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===s)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===s)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===s)break e;yt===mt&&(yt=null),mt=mt.return}yt===mt&&(yt=null),mt.sibling.return=mt.return,mt=mt.sibling}if(gt&&!ot&&(s.mode&1)!==0)for(T$1=s,s=s.child;s!==null;){for(ot=T$1=s;T$1!==null;){switch(gt=T$1,yt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Nj(4,gt,gt.return);break;case 1:if(Jj(gt,gt.return),g=gt.stateNode,typeof g.componentWillUnmount=="function"){mt=gt,St=gt.return;try{d=mt,g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(_t){U$2(mt,St,_t)}}break;case 5:Jj(gt,gt.return);break;case 22:if(gt.memoizedState!==null){ek(ot);continue}}yt!==null?(yt.return=gt,T$1=yt):ek(ot)}s=s.sibling}}break;case 19:ak(e,s),ck(s),h&4&&Yj(s);break;case 21:break;default:ak(e,s),ck(s)}}function ck(s){var e=s.flags;if(e&2){try{e:{for(var a=s.return;a!==null;){if(Rj(a)){var h=a;break e}a=a.return}throw Error(p$2(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(nb$1(d,""),h.flags&=-33);var g=Sj(s);Uj(s,g,d);break;case 3:case 4:var _=h.stateNode.containerInfo,b=Sj(s);Tj(s,b,_);break;default:throw Error(p$2(161))}}catch(et){U$2(s,s.return,et)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function fk(s,e,a){T$1=s,gk(s)}function gk(s,e,a){for(var h=(s.mode&1)!==0;T$1!==null;){var d=T$1,g=d.child;if(d.tag===22&&h){var _=d.memoizedState!==null||Hj;if(!_){var b=d.alternate,et=b!==null&&b.memoizedState!==null||S$1;b=Hj;var ot=S$1;if(Hj=_,(S$1=et)&&!ot)for(T$1=d;T$1!==null;)_=T$1,et=_.child,_.tag===22&&_.memoizedState!==null?hk(d):et!==null?(et.return=_,T$1=et):hk(d);for(;g!==null;)T$1=g,gk(g),g=g.sibling;T$1=d,Hj=b,S$1=ot}ik(s)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,T$1=g):ik(s)}}function ik(s){for(;T$1!==null;){var e=T$1;if((e.flags&8772)!==0){var a=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:S$1||Oj(5,e);break;case 1:var h=e.stateNode;if(e.flags&4&&!S$1)if(a===null)h.componentDidMount();else{var d=e.elementType===e.type?a.memoizedProps:kg(e.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=e.updateQueue;g!==null&&Gg(e,g,h);break;case 3:var _=e.updateQueue;if(_!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}Gg(e,_,a)}break;case 5:var b=e.stateNode;if(a===null&&e.flags&4){a=b;var et=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&a.focus();break;case"img":et.src&&(a.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var ot=e.alternate;if(ot!==null){var gt=ot.memoizedState;if(gt!==null){var yt=gt.dehydrated;yt!==null&&ad$1(yt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(p$2(163))}S$1||e.flags&512&&Pj(e)}catch(mt){U$2(e,e.return,mt)}}if(e===s){T$1=null;break}if(a=e.sibling,a!==null){a.return=e.return,T$1=a;break}T$1=e.return}}function ek(s){for(;T$1!==null;){var e=T$1;if(e===s){T$1=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T$1=a;break}T$1=e.return}}function hk(s){for(;T$1!==null;){var e=T$1;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{Oj(4,e)}catch(et){U$2(e,a,et)}break;case 1:var h=e.stateNode;if(typeof h.componentDidMount=="function"){var d=e.return;try{h.componentDidMount()}catch(et){U$2(e,d,et)}}var g=e.return;try{Pj(e)}catch(et){U$2(e,g,et)}break;case 5:var _=e.return;try{Pj(e)}catch(et){U$2(e,_,et)}}}catch(et){U$2(e,e.return,et)}if(e===s){T$1=null;break}var b=e.sibling;if(b!==null){b.return=e.return,T$1=b;break}T$1=e.return}}var jk=Math.ceil,kk=ta$1.ReactCurrentDispatcher,lk=ta$1.ReactCurrentOwner,mk=ta$1.ReactCurrentBatchConfig,W$2=0,P$1=null,X$2=null,Y$2=0,cj=0,mj=Tf(0),R$1=0,nk=null,Fg=0,ok=0,pk=0,qk=null,rk=null,dk=0,aj=1/0,sk=null,Li$1=!1,Mi=null,Oi=null,tk=!1,uk=null,vk=0,wk=0,xk=null,yk=-1,zk=0;function Jg(){return(W$2&6)!==0?B$2():yk!==-1?yk:yk=B$2()}function Kg(s){return(s.mode&1)===0?1:(W$2&2)!==0&&Y$2!==0?Y$2&-Y$2:jg.transition!==null?(zk===0&&(zk=xc$1()),zk):(s=C$2,s!==0||(s=window.event,s=s===void 0?16:id$1(s.type)),s)}function Lg(s,e,a){if(50<wk)throw wk=0,xk=null,Error(p$2(185));var h=Ak(s,e);return h===null?null:(zc$2(h,e,a),((W$2&2)===0||h!==P$1)&&(h===P$1&&((W$2&2)===0&&(ok|=e),R$1===4&&Bk(h,Y$2)),Ck(h,a),e===1&&W$2===0&&(s.mode&1)===0&&(aj=B$2()+500,eg&&ig())),h)}function Ak(s,e){s.lanes|=e;var a=s.alternate;for(a!==null&&(a.lanes|=e),a=s,s=s.return;s!==null;)s.childLanes|=e,a=s.alternate,a!==null&&(a.childLanes|=e),a=s,s=s.return;return a.tag===3?a.stateNode:null}function Bg(s){return(P$1!==null||vg!==null)&&(s.mode&1)!==0&&(W$2&2)===0}function Ck(s,e){var a=s.callbackNode;vc$1(s,e);var h=tc$1(s,s===P$1?Y$2:0);if(h===0)a!==null&&ac$2(a),s.callbackNode=null,s.callbackPriority=0;else if(e=h&-h,s.callbackPriority!==e){if(a!=null&&ac$2(a),e===1)s.tag===0?hg(Dk.bind(null,s)):gg(Dk.bind(null,s)),If(function(){W$2===0&&ig()}),a=null;else{switch(Cc$1(h)){case 1:a=ec$2;break;case 4:a=fc$2;break;case 16:a=gc$2;break;case 536870912:a=ic$2;break;default:a=gc$2}a=Ek(a,Fk.bind(null,s))}s.callbackPriority=e,s.callbackNode=a}}function Fk(s,e){if(yk=-1,zk=0,(W$2&6)!==0)throw Error(p$2(327));var a=s.callbackNode;if(Gk()&&s.callbackNode!==a)return null;var h=tc$1(s,s===P$1?Y$2:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||e)e=Hk(s,h);else{e=h;var d=W$2;W$2|=2;var g=Ik();(P$1!==s||Y$2!==e)&&(sk=null,aj=B$2()+500,Jk(s,e));do try{Kk();break}catch(b){Lk(s,b)}while(1);pg(),kk.current=g,W$2=d,X$2!==null?e=0:(P$1=null,Y$2=0,e=R$1)}if(e!==0){if(e===2&&(d=wc$2(s),d!==0&&(h=d,e=Mk(s,d))),e===1)throw a=nk,Jk(s,0),Bk(s,h),Ck(s,B$2()),a;if(e===6)Bk(s,h);else{if(d=s.current.alternate,(h&30)===0&&!Nk(d)&&(e=Hk(s,h),e===2&&(g=wc$2(s),g!==0&&(h=g,e=Mk(s,g))),e===1))throw a=nk,Jk(s,0),Bk(s,h),Ck(s,B$2()),a;switch(s.finishedWork=d,s.finishedLanes=h,e){case 0:case 1:throw Error(p$2(345));case 2:Ok(s,rk,sk);break;case 3:if(Bk(s,h),(h&130023424)===h&&(e=dk+500-B$2(),10<e)){if(tc$1(s,0)!==0)break;if(d=s.suspendedLanes,(d&h)!==h){Jg(),s.pingedLanes|=s.suspendedLanes&d;break}s.timeoutHandle=Ef(Ok.bind(null,s,rk,sk),e);break}Ok(s,rk,sk);break;case 4:if(Bk(s,h),(h&4194240)===h)break;for(e=s.eventTimes,d=-1;0<h;){var _=31-nc$2(h);g=1<<_,_=e[_],_>d&&(d=_),h&=~g}if(h=d,h=B$2()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*jk(h/1960))-h,10<h){s.timeoutHandle=Ef(Ok.bind(null,s,rk,sk),h);break}Ok(s,rk,sk);break;case 5:Ok(s,rk,sk);break;default:throw Error(p$2(329))}}}return Ck(s,B$2()),s.callbackNode===a?Fk.bind(null,s):null}function Mk(s,e){var a=qk;return s.current.memoizedState.isDehydrated&&(Jk(s,e).flags|=256),s=Hk(s,e),s!==2&&(e=rk,rk=a,e!==null&&Zi(e)),s}function Zi(s){rk===null?rk=s:rk.push.apply(rk,s)}function Nk(s){for(var e=s;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!Ge$1(g(),d))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bk(s,e){for(e&=~pk,e&=~ok,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var a=31-nc$2(e),h=1<<a;s[a]=-1,e&=~h}}function Dk(s){if((W$2&6)!==0)throw Error(p$2(327));Gk();var e=tc$1(s,0);if((e&1)===0)return Ck(s,B$2()),null;var a=Hk(s,e);if(s.tag!==0&&a===2){var h=wc$2(s);h!==0&&(e=h,a=Mk(s,h))}if(a===1)throw a=nk,Jk(s,0),Bk(s,e),Ck(s,B$2()),a;if(a===6)throw Error(p$2(345));return s.finishedWork=s.current.alternate,s.finishedLanes=e,Ok(s,rk,sk),Ck(s,B$2()),null}function Pk(s,e){var a=W$2;W$2|=1;try{return s(e)}finally{W$2=a,W$2===0&&(aj=B$2()+500,eg&&ig())}}function Qk(s){uk!==null&&uk.tag===0&&(W$2&6)===0&&Gk();var e=W$2;W$2|=1;var a=mk.transition,h=C$2;try{if(mk.transition=null,C$2=1,s)return s()}finally{C$2=h,mk.transition=a,W$2=e,(W$2&6)===0&&ig()}}function bj(){cj=mj.current,E$1(mj)}function Jk(s,e){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,Ff(a)),X$2!==null)for(a=X$2.return;a!==null;){var h=a;switch(ch$1(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zf();break;case 3:Gh(),E$1(Vf),E$1(H$1),Lh$1();break;case 5:Ih$1(h);break;case 4:Gh();break;case 13:E$1(K$2);break;case 19:E$1(K$2);break;case 10:qg(h.type._context);break;case 22:case 23:bj()}a=a.return}if(P$1=s,X$2=s=th(s.current,null),Y$2=cj=e,R$1=0,nk=null,pk=ok=Fg=0,rk=qk=null,vg!==null){for(e=0;e<vg.length;e++)if(a=vg[e],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,h.next=_}a.pending=h}vg=null}return s}function Lk(s,e){do{var a=X$2;try{if(pg(),Mh$1.current=Yh,Ph$1){for(var h=L$2.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Ph$1=!1}if(Oh$1=0,N$2=M$2=L$2=null,Qh=!1,Rh$1=0,lk.current=null,a===null||a.return===null){R$1=1,nk=e,X$2=null;break}e:{var g=s,_=a.return,b=a,et=e;if(e=Y$2,b.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var ot=et,gt=b,yt=gt.tag;if((gt.mode&1)===0&&(yt===0||yt===11||yt===15)){var mt=gt.alternate;mt?(gt.updateQueue=mt.updateQueue,gt.memoizedState=mt.memoizedState,gt.lanes=mt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var St=Ri(_);if(St!==null){St.flags&=-257,Si(St,_,b,g,e),St.mode&1&&Pi(g,ot,e),e=St,et=ot;var _t=e.updateQueue;if(_t===null){var xt=new Set;xt.add(et),e.updateQueue=xt}else _t.add(et);break e}else{if((e&1)===0){Pi(g,ot,e),$i$1();break e}et=Error(p$2(426))}}else if(I$1&&b.mode&1){var Ot=Ri(_);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),Si(Ot,_,b,g,e),oh(et);break e}}g=et,R$1!==4&&(R$1=2),qk===null?qk=[g]:qk.push(g),et=Hi(et,b),b=_;do{switch(b.tag){case 3:b.flags|=65536,e&=-e,b.lanes|=e;var wt=Ki(b,et,e);Dg(b,wt);break e;case 1:g=et;var vt=b.type,kt=b.stateNode;if((b.flags&128)===0&&(typeof vt.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(Oi===null||!Oi.has(kt)))){b.flags|=65536,e&=-e,b.lanes|=e;var Dt=Ni(b,g,e);Dg(b,Dt);break e}}b=b.return}while(b!==null)}Rk(a)}catch(Nt){e=Nt,X$2===a&&a!==null&&(X$2=a=a.return);continue}break}while(1)}function Ik(){var s=kk.current;return kk.current=Yh,s===null?Yh:s}function $i$1(){(R$1===0||R$1===3||R$1===2)&&(R$1=4),P$1===null||(Fg&268435455)===0&&(ok&268435455)===0||Bk(P$1,Y$2)}function Hk(s,e){var a=W$2;W$2|=2;var h=Ik();(P$1!==s||Y$2!==e)&&(sk=null,Jk(s,e));do try{Sk();break}catch(d){Lk(s,d)}while(1);if(pg(),W$2=a,kk.current=h,X$2!==null)throw Error(p$2(261));return P$1=null,Y$2=0,R$1}function Sk(){for(;X$2!==null;)Tk(X$2)}function Kk(){for(;X$2!==null&&!bc$2();)Tk(X$2)}function Tk(s){var e=Uk(s.alternate,s,cj);s.memoizedProps=s.pendingProps,e===null?Rk(s):X$2=e,lk.current=null}function Rk(s){var e=s;do{var a=e.alternate;if(s=e.return,(e.flags&32768)===0){if(a=Yi(a,e,cj),a!==null){X$2=a;return}}else{if(a=Gj(a,e),a!==null){a.flags&=32767,X$2=a;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{R$1=6,X$2=null;return}}if(e=e.sibling,e!==null){X$2=e;return}X$2=e=s}while(e!==null);R$1===0&&(R$1=5)}function Ok(s,e,a){var h=C$2,d=mk.transition;try{mk.transition=null,C$2=1,Vk(s,e,a,h)}finally{mk.transition=d,C$2=h}return null}function Vk(s,e,a,h){do Gk();while(uk!==null);if((W$2&6)!==0)throw Error(p$2(327));a=s.finishedWork;var d=s.finishedLanes;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(p$2(177));s.callbackNode=null,s.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ac$2(s,g),s===P$1&&(X$2=P$1=null,Y$2=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||tk||(tk=!0,Ek(gc$2,function(){return Gk(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=mk.transition,mk.transition=null;var _=C$2;C$2=1;var b=W$2;W$2|=4,lk.current=null,Mj(s,a),bk(a,s),Ne$1(Cf),cd$1=!!Bf,Cf=Bf=null,s.current=a,fk(a),cc$2(),W$2=b,C$2=_,mk.transition=g}else s.current=a;if(tk&&(tk=!1,uk=s,vk=d),g=s.pendingLanes,g===0&&(Oi=null),lc$2(a.stateNode),Ck(s,B$2()),e!==null)for(h=s.onRecoverableError,a=0;a<e.length;a++)h(e[a]);if(Li$1)throw Li$1=!1,s=Mi,Mi=null,s;return(vk&1)!==0&&s.tag!==0&&Gk(),g=s.pendingLanes,(g&1)!==0?s===xk?wk++:(wk=0,xk=s):wk=0,ig(),null}function Gk(){if(uk!==null){var s=Cc$1(vk),e=mk.transition,a=C$2;try{if(mk.transition=null,C$2=16>s?16:s,uk===null)var h=!1;else{if(s=uk,uk=null,vk=0,(W$2&6)!==0)throw Error(p$2(331));var d=W$2;for(W$2|=4,T$1=s.current;T$1!==null;){var g=T$1,_=g.child;if((T$1.flags&16)!==0){var b=g.deletions;if(b!==null){for(var et=0;et<b.length;et++){var ot=b[et];for(T$1=ot;T$1!==null;){var gt=T$1;switch(gt.tag){case 0:case 11:case 15:Nj(8,gt,g)}var yt=gt.child;if(yt!==null)yt.return=gt,T$1=yt;else for(;T$1!==null;){gt=T$1;var mt=gt.sibling,St=gt.return;if(Qj(gt),gt===ot){T$1=null;break}if(mt!==null){mt.return=St,T$1=mt;break}T$1=St}}}var _t=g.alternate;if(_t!==null){var xt=_t.child;if(xt!==null){_t.child=null;do{var Ot=xt.sibling;xt.sibling=null,xt=Ot}while(xt!==null)}}T$1=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,T$1=_;else e:for(;T$1!==null;){if(g=T$1,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Nj(9,g,g.return)}var wt=g.sibling;if(wt!==null){wt.return=g.return,T$1=wt;break e}T$1=g.return}}var vt=s.current;for(T$1=vt;T$1!==null;){_=T$1;var kt=_.child;if((_.subtreeFlags&2064)!==0&&kt!==null)kt.return=_,T$1=kt;else e:for(_=vt;T$1!==null;){if(b=T$1,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Oj(9,b)}}catch(Nt){U$2(b,b.return,Nt)}if(b===_){T$1=null;break e}var Dt=b.sibling;if(Dt!==null){Dt.return=b.return,T$1=Dt;break e}T$1=b.return}}if(W$2=d,ig(),kc$1&&typeof kc$1.onPostCommitFiberRoot=="function")try{kc$1.onPostCommitFiberRoot(jc$1,s)}catch{}h=!0}return h}finally{C$2=a,mk.transition=e}}return!1}function Wk(s,e,a){e=Hi(a,e),e=Ki(s,e,1),Ag(s,e),e=Jg(),s=Ak(s,1),s!==null&&(zc$2(s,1,e),Ck(s,e))}function U$2(s,e,a){if(s.tag===3)Wk(s,s,a);else for(;e!==null;){if(e.tag===3){Wk(e,s,a);break}else if(e.tag===1){var h=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oi===null||!Oi.has(h))){s=Hi(a,s),s=Ni(e,s,1),Ag(e,s),s=Jg(),e=Ak(e,1),e!==null&&(zc$2(e,1,s),Ck(e,s));break}}e=e.return}}function Qi(s,e,a){var h=s.pingCache;h!==null&&h.delete(e),e=Jg(),s.pingedLanes|=s.suspendedLanes&a,P$1===s&&(Y$2&a)===a&&(R$1===4||R$1===3&&(Y$2&130023424)===Y$2&&500>B$2()-dk?Jk(s,0):pk|=a),Ck(s,e)}function Xk(s,e){e===0&&((s.mode&1)===0?e=1:(e=rc$2,rc$2<<=1,(rc$2&130023424)===0&&(rc$2=4194304)));var a=Jg();s=Ak(s,e),s!==null&&(zc$2(s,e,a),Ck(s,a))}function zj(s){var e=s.memoizedState,a=0;e!==null&&(a=e.retryLane),Xk(s,a)}function Zj(s,e){var a=0;switch(s.tag){case 13:var h=s.stateNode,d=s.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(p$2(314))}h!==null&&h.delete(e),Xk(s,a)}var Uk;Uk=function(s,e,a){if(s!==null)if(s.memoizedProps!==e.pendingProps||Vf.current)tg=!0;else{if((s.lanes&a)===0&&(e.flags&128)===0)return tg=!1,Fj(s,e,a);tg=(s.flags&131072)!==0}else tg=!1,I$1&&(e.flags&1048576)!==0&&ah$1(e,Ug,e.index);switch(e.lanes=0,e.tag){case 2:var h=e.type;s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),s=e.pendingProps;var d=Xf(e,H$1.current);sg(e,a),d=Uh$1(null,e,h,s,d,a);var g=Zh();return e.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yf(h)?(g=!0,bg(e)):g=!1,e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xg(e),d.updater=Mg,e.stateNode=d,d._reactInternals=e,Qg(e,h,s,a),e=pj(null,e,h,!0,g,a)):(e.tag=0,I$1&&g&&bh$1(e),ej(null,e,d,a),e=e.child),e;case 16:h=e.elementType;e:{switch(s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),s=e.pendingProps,d=h._init,h=d(h._payload),e.type=h,d=e.tag=Yk(h),s=kg(h,s),d){case 0:e=kj(null,e,h,s,a);break e;case 1:e=oj(null,e,h,s,a);break e;case 11:e=fj(null,e,h,s,a);break e;case 14:e=hj(null,e,h,kg(h.type,s),a);break e}throw Error(p$2(306,h,""))}return e;case 0:return h=e.type,d=e.pendingProps,d=e.elementType===h?d:kg(h,d),kj(s,e,h,d,a);case 1:return h=e.type,d=e.pendingProps,d=e.elementType===h?d:kg(h,d),oj(s,e,h,d,a);case 3:e:{if(qj(e),s===null)throw Error(p$2(387));h=e.pendingProps,g=e.memoizedState,d=g.element,yg(s,e),Eg(e,h,null,a);var _=e.memoizedState;if(h=_.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){d=Error(p$2(423)),e=rj(s,e,h,a,d);break e}else if(h!==d){d=Error(p$2(424)),e=rj(s,e,h,a,d);break e}else for(eh$1=Kf(e.stateNode.containerInfo.firstChild),dh=e,I$1=!0,fh=null,a=zh(e,null,h,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nh$1(),h===d){e=gj(s,e,a);break e}ej(s,e,h,a)}e=e.child}return e;case 5:return Hh(e),s===null&&kh$1(e),h=e.type,d=e.pendingProps,g=s!==null?s.memoizedProps:null,_=d.children,Df(h,d)?_=null:g!==null&&Df(h,g)&&(e.flags|=32),nj(s,e),ej(s,e,_,a),e.child;case 6:return s===null&&kh$1(e),null;case 13:return vj(s,e,a);case 4:return Fh$1(e,e.stateNode.containerInfo),h=e.pendingProps,s===null?e.child=yh(e,null,h,a):ej(s,e,h,a),e.child;case 11:return h=e.type,d=e.pendingProps,d=e.elementType===h?d:kg(h,d),fj(s,e,h,d,a);case 7:return ej(s,e,e.pendingProps,a),e.child;case 8:return ej(s,e,e.pendingProps.children,a),e.child;case 12:return ej(s,e,e.pendingProps.children,a),e.child;case 10:e:{if(h=e.type._context,d=e.pendingProps,g=e.memoizedProps,_=d.value,G$1(lg,h._currentValue),h._currentValue=_,g!==null)if(Ge$1(g.value,_)){if(g.children===d.children&&!Vf.current){e=gj(s,e,a);break e}}else for(g=e.child,g!==null&&(g.return=e);g!==null;){var b=g.dependencies;if(b!==null){_=g.child;for(var et=b.firstContext;et!==null;){if(et.context===h){if(g.tag===1){et=zg(-1,a&-a),et.tag=2;var ot=g.updateQueue;if(ot!==null){ot=ot.shared;var gt=ot.pending;gt===null?et.next=et:(et.next=gt.next,gt.next=et),ot.pending=et}}g.lanes|=a,et=g.alternate,et!==null&&(et.lanes|=a),rg(g.return,a,e),b.lanes|=a;break}et=et.next}}else if(g.tag===10)_=g.type===e.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(p$2(341));_.lanes|=a,b=_.alternate,b!==null&&(b.lanes|=a),rg(_,a,e),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===e){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}ej(s,e,d.children,a),e=e.child}return e;case 9:return d=e.type,h=e.pendingProps.children,sg(e,a),d=ug(d),h=h(d),e.flags|=1,ej(s,e,h,a),e.child;case 14:return h=e.type,d=kg(h,e.pendingProps),d=kg(h.type,d),hj(s,e,h,d,a);case 15:return jj(s,e,e.type,e.pendingProps,a);case 17:return h=e.type,d=e.pendingProps,d=e.elementType===h?d:kg(h,d),s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Yf(h)?(s=!0,bg(e)):s=!1,sg(e,a),Og(e,h,d),Qg(e,h,d,a),pj(null,e,h,!0,s,a);case 19:return Ej(s,e,a);case 22:return lj(s,e,a)}throw Error(p$2(156,e.tag))};function Ek(s,e){return $b$1(s,e)}function Zk(s,e,a,h){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hh$1(s,e,a,h){return new Zk(s,e,a,h)}function ij(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yk(s){if(typeof s=="function")return ij(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ca$1)return 11;if(s===Fa$2)return 14}return 2}function th(s,e){var a=s.alternate;return a===null?(a=hh$1(s.tag,e,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=e,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&14680064,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function vh$1(s,e,a,h,d,g){var _=2;if(h=s,typeof s=="function")ij(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case wa$2:return xh$1(a.children,d,g,e);case xa$1:_=8,d|=8;break;case za$1:return s=hh$1(12,a,e,d|2),s.elementType=za$1,s.lanes=g,s;case Da$1:return s=hh$1(13,a,e,d),s.elementType=Da$1,s.lanes=g,s;case Ea$1:return s=hh$1(19,a,e,d),s.elementType=Ea$1,s.lanes=g,s;case Ha$1:return wj(a,d,g,e);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Aa$2:_=10;break e;case Ba$1:_=9;break e;case Ca$1:_=11;break e;case Fa$2:_=14;break e;case Ga$1:_=16,h=null;break e}throw Error(p$2(130,s==null?s:typeof s,""))}return e=hh$1(_,a,e,d),e.elementType=s,e.type=h,e.lanes=g,e}function xh$1(s,e,a,h){return s=hh$1(7,s,h,e),s.lanes=a,s}function wj(s,e,a,h){return s=hh$1(22,s,h,e),s.elementType=Ha$1,s.lanes=a,s.stateNode={},s}function uh$1(s,e,a){return s=hh$1(6,s,null,e),s.lanes=a,s}function wh(s,e,a){return e=hh$1(4,s.children!==null?s.children:[],s.key,e),e.lanes=a,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function $k(s,e,a,h,d){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc$2(0),this.expirationTimes=yc$2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc$2(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function al(s,e,a,h,d,g,_,b,et){return s=new $k(s,e,a,b,et),e===1?(e=1,g===!0&&(e|=8)):e=0,g=hh$1(3,null,null,e),s.current=g,g.stateNode=s,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(g),s}function bl(s,e,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va$2,key:h==null?null:""+h,children:s,containerInfo:e,implementation:a}}function cl(s){if(!s)return Uf;s=s._reactInternals;e:{if(Ub$1(s)!==s||s.tag!==1)throw Error(p$2(170));var e=s;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(s.tag===1){var a=s.type;if(Yf(a))return ag(s,a,e)}return e}function dl(s,e,a,h,d,g,_,b,et){return s=al(a,h,!0,s,d,g,_,b,et),s.context=cl(null),a=s.current,h=Jg(),d=Kg(a),g=zg(h,d),g.callback=e!=null?e:null,Ag(a,g),s.current.lanes=d,zc$2(s,d,h),Ck(s,h),s}function el(s,e,a,h){var d=e.current,g=Jg(),_=Kg(d);return a=cl(a),e.context===null?e.context=a:e.pendingContext=a,e=zg(g,_),e.payload={element:s},h=h===void 0?null:h,h!==null&&(e.callback=h),Ag(d,e),s=Lg(d,_,g),s!==null&&Cg(s,d,_),_}function fl$1(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function gl(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<e?a:e}}function hl(s,e){gl(s,e),(s=s.alternate)&&gl(s,e)}function il$1(){return null}var jl=typeof reportError=="function"?reportError:function(s){console.error(s)};function kl(s){this._internalRoot=s}ll.prototype.render=kl.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(p$2(409));el(s,e,null,null)};ll.prototype.unmount=kl.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Qk(function(){el(null,s,null,null)}),e[tf]=null}};function ll(s){this._internalRoot=s}ll.prototype.unstable_scheduleHydration=function(s){if(s){var e=Gc$2();s={blockedOn:null,target:s,priority:e};for(var a=0;a<Pc$2.length&&e!==0&&e<Pc$2[a].priority;a++);Pc$2.splice(a,0,s),a===0&&Uc$1(s)}};function ml(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function nl$1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ol$1(){}function pl(s,e,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var ot=fl$1(_);g.call(ot)}}var _=dl(e,h,s,0,null,!1,!1,"",ol$1);return s._reactRootContainer=_,s[tf]=_.current,rf(s.nodeType===8?s.parentNode:s),Qk(),_}for(;d=s.lastChild;)s.removeChild(d);if(typeof h=="function"){var b=h;h=function(){var ot=fl$1(et);b.call(ot)}}var et=al(s,0,!1,null,null,!1,!1,"",ol$1);return s._reactRootContainer=et,s[tf]=et.current,rf(s.nodeType===8?s.parentNode:s),Qk(function(){el(e,et,a,h)}),et}function ql(s,e,a,h,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var b=d;d=function(){var et=fl$1(_);b.call(et)}}el(e,_,s,d)}else _=pl(a,e,s,d,h);return fl$1(_)}Dc$1=function(s){switch(s.tag){case 3:var e=s.stateNode;if(e.current.memoizedState.isDehydrated){var a=sc$2(e.pendingLanes);a!==0&&(Bc$2(e,a|1),Ck(e,B$2()),(W$2&6)===0&&(aj=B$2()+500,ig()))}break;case 13:var h=Jg();Qk(function(){return Lg(s,1,h)}),hl(s,1)}};Ec$2=function(s){if(s.tag===13){var e=Jg();Lg(s,134217728,e),hl(s,134217728)}};Fc$2=function(s){if(s.tag===13){var e=Jg(),a=Kg(s);Lg(s,a,e),hl(s,a)}};Gc$2=function(){return C$2};Hc$2=function(s,e){var a=C$2;try{return C$2=s,e()}finally{C$2=a}};xb=function(s,e,a){switch(e){case"input":if($a$1(s,a),e=a.name,a.type==="radio"&&e!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var h=a[e];if(h!==s&&h.form===s.form){var d=Cb$1(h);if(!d)throw Error(p$2(90));Va$2(h),$a$1(h,d)}}}break;case"textarea":hb$1(s,a);break;case"select":e=a.value,e!=null&&eb(s,!!a.multiple,e,!1)}};Fb$1=Pk;Gb$1=Qk;var rl={usingClientEntryPoint:!1,Events:[Bb$1,te$1,Cb$1,Db$1,Eb$1,Pk]},sl$1={findFiberByHostInstance:Vc$1,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},tl={bundleType:sl$1.bundleType,version:sl$1.version,rendererPackageName:sl$1.rendererPackageName,rendererConfig:sl$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Yb$1(s),s===null?null:s.stateNode},findFiberByHostInstance:sl$1.findFiberByHostInstance||il$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ul$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul$1.isDisabled&&ul$1.supportsFiber)try{jc$1=ul$1.inject(tl),kc$1=ul$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl;reactDom_production_min.createPortal=function(s,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(e))throw Error(p$2(200));return bl(s,e,null,a)};reactDom_production_min.createRoot=function(s,e){if(!ml(s))throw Error(p$2(299));var a=!1,h="",d=jl;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(h=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=al(s,1,!1,null,null,a,!1,h,d),s[tf]=e.current,rf(s.nodeType===8?s.parentNode:s),new kl(e)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(p$2(188)):(s=Object.keys(s).join(","),Error(p$2(268,s)));return s=Yb$1(e),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Qk(s)};reactDom_production_min.hydrate=function(s,e,a){if(!nl$1(e))throw Error(p$2(200));return ql(null,s,e,!0,a)};reactDom_production_min.hydrateRoot=function(s,e,a){if(!ml(s))throw Error(p$2(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",_=jl;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),e=dl(e,null,s,1,a!=null?a:null,d,!1,g,_),s[tf]=e.current,rf(s),h)for(s=0;s<h.length;s++)a=h[s],d=a._getVersion,d=d(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,d]:e.mutableSourceEagerHydrationData.push(a,d);return new ll(e)};reactDom_production_min.render=function(s,e,a){if(!nl$1(e))throw Error(p$2(200));return ql(null,s,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(s){if(!nl$1(s))throw Error(p$2(40));return s._reactRootContainer?(Qk(function(){ql(null,null,s,!1,function(){s._reactRootContainer=null,s[tf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Pk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,e,a,h){if(!nl$1(a))throw Error(p$2(200));if(s==null||s._reactInternals===void 0)throw Error(p$2(38));return ql(s,e,a,!1,h)};reactDom_production_min.version="18.1.0-next-22edb9f77-20220426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var m$1=reactDom.exports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(s[h]=a[h])}return s},_extends$1.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(s){return s},BeforeUnloadEventType="beforeunload",HashChangeEventType="hashchange",PopStateEventType="popstate";function createHashHistory(s){s===void 0&&(s={});var e=s,a=e.window,h=a===void 0?document.defaultView:a,d=h.history;function g(){var Ft=parsePath(h.location.hash.substr(1)),Wt=Ft.pathname,On=Wt===void 0?"/":Wt,ir=Ft.search,ar=ir===void 0?"":ir,lr=Ft.hash,hr=lr===void 0?"":lr,cr=d.state||{};return[cr.idx,readOnly({pathname:On,search:ar,hash:hr,state:cr.usr||null,key:cr.key||"default"})]}var _=null;function b(){if(_)St.call(_),_=null;else{var Ft=Action.Pop,Wt=g(),On=Wt[0],ir=Wt[1];if(St.length){if(On!=null){var ar=gt-On;ar&&(_={action:Ft,location:ir,retry:function(){Mt(ar*-1)}},Mt(ar))}}else kt(Ft)}}h.addEventListener(PopStateEventType,b),h.addEventListener(HashChangeEventType,function(){var Ft=g(),Wt=Ft[1];createPath(Wt)!==createPath(yt)&&b()});var et=Action.Pop,ot=g(),gt=ot[0],yt=ot[1],mt=createEvents(),St=createEvents();gt==null&&(gt=0,d.replaceState(_extends$1({},d.state,{idx:gt}),""));function _t(){var Ft=document.querySelector("base"),Wt="";if(Ft&&Ft.getAttribute("href")){var On=h.location.href,ir=On.indexOf("#");Wt=ir===-1?On:On.slice(0,ir)}return Wt}function xt(Ft){return _t()+"#"+(typeof Ft=="string"?Ft:createPath(Ft))}function Ot(Ft,Wt){return Wt===void 0&&(Wt=null),readOnly(_extends$1({pathname:yt.pathname,hash:"",search:""},typeof Ft=="string"?parsePath(Ft):Ft,{state:Wt,key:createKey()}))}function wt(Ft,Wt){return[{usr:Ft.state,key:Ft.key,idx:Wt},xt(Ft)]}function vt(Ft,Wt,On){return!St.length||(St.call({action:Ft,location:Wt,retry:On}),!1)}function kt(Ft){et=Ft;var Wt=g();gt=Wt[0],yt=Wt[1],mt.call({action:et,location:yt})}function Dt(Ft,Wt){var On=Action.Push,ir=Ot(Ft,Wt);function ar(){Dt(Ft,Wt)}if(vt(On,ir,ar)){var lr=wt(ir,gt+1),hr=lr[0],cr=lr[1];try{d.pushState(hr,"",cr)}catch{h.location.assign(cr)}kt(On)}}function Nt(Ft,Wt){var On=Action.Replace,ir=Ot(Ft,Wt);function ar(){Nt(Ft,Wt)}if(vt(On,ir,ar)){var lr=wt(ir,gt),hr=lr[0],cr=lr[1];d.replaceState(hr,"",cr),kt(On)}}function Mt(Ft){d.go(Ft)}var Ht={get action(){return et},get location(){return yt},createHref:xt,push:Dt,replace:Nt,go:Mt,back:function(){Mt(-1)},forward:function(){Mt(1)},listen:function(Wt){return mt.push(Wt)},block:function(Wt){var On=St.push(Wt);return St.length===1&&h.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){On(),St.length||h.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return Ht}function promptBeforeUnload(s){s.preventDefault(),s.returnValue=""}function createEvents(){var s=[];return{get length(){return s.length},push:function(a){return s.push(a),function(){s=s.filter(function(h){return h!==a})}},call:function(a){s.forEach(function(h){return h&&h(a)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(s){var e=s.pathname,a=e===void 0?"/":e,h=s.search,d=h===void 0?"":h,g=s.hash,_=g===void 0?"":g;return d&&d!=="?"&&(a+=d.charAt(0)==="?"?d:"?"+d),_&&_!=="#"&&(a+=_.charAt(0)==="#"?_:"#"+_),a}function parsePath(s){var e={};if(s){var a=s.indexOf("#");a>=0&&(e.hash=s.substr(a),s=s.substr(0,a));var h=s.indexOf("?");h>=0&&(e.search=s.substr(h),s=s.substr(0,h)),s&&(e.pathname=s)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]});function invariant(s,e){if(!s)throw new Error(e)}function matchRoutes(s,e,a){a===void 0&&(a="/");let h=typeof e=="string"?parsePath(e):e,d=stripBasename(h.pathname||"/",a);if(d==null)return null;let g=flattenRoutes(s);rankRouteBranches(g);let _=null;for(let b=0;_==null&&b<g.length;++b)_=matchRouteBranch(g[b],d);return _}function flattenRoutes(s,e,a,h){return e===void 0&&(e=[]),a===void 0&&(a=[]),h===void 0&&(h=""),s.forEach((d,g)=>{let _={relativePath:d.path||"",caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};_.relativePath.startsWith("/")&&(_.relativePath.startsWith(h)||invariant(!1),_.relativePath=_.relativePath.slice(h.length));let b=joinPaths([h,_.relativePath]),et=a.concat(_);d.children&&d.children.length>0&&(d.index===!0&&invariant(!1),flattenRoutes(d.children,e,et,b)),!(d.path==null&&!d.index)&&e.push({path:b,score:computeScore(b,d.index),routesMeta:et})}),e}function rankRouteBranches(s){s.sort((e,a)=>e.score!==a.score?a.score-e.score:compareIndexes(e.routesMeta.map(h=>h.childrenIndex),a.routesMeta.map(h=>h.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,e){let a=s.split("/"),h=a.length;return a.some(isSplat)&&(h+=splatPenalty),e&&(h+=indexRouteValue),a.filter(d=>!isSplat(d)).reduce((d,g)=>d+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),h)}function compareIndexes(s,e){return s.length===e.length&&s.slice(0,-1).every((h,d)=>h===e[d])?s[s.length-1]-e[e.length-1]:0}function matchRouteBranch(s,e){let{routesMeta:a}=s,h={},d="/",g=[];for(let _=0;_<a.length;++_){let b=a[_],et=_===a.length-1,ot=d==="/"?e:e.slice(d.length)||"/",gt=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:et},ot);if(!gt)return null;Object.assign(h,gt.params);let yt=b.route;g.push({params:h,pathname:joinPaths([d,gt.pathname]),pathnameBase:normalizePathname(joinPaths([d,gt.pathnameBase])),route:yt}),gt.pathnameBase!=="/"&&(d=joinPaths([d,gt.pathnameBase]))}return g}function matchPath(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,h]=compilePath(s.path,s.caseSensitive,s.end),d=e.match(a);if(!d)return null;let g=d[0],_=g.replace(/(.)\/+$/,"$1"),b=d.slice(1);return{params:h.reduce((ot,gt,yt)=>{if(gt==="*"){let mt=b[yt]||"";_=g.slice(0,g.length-mt.length).replace(/(.)\/+$/,"$1")}return ot[gt]=safelyDecodeURIComponent(b[yt]||""),ot},{}),pathname:g,pathnameBase:_,pattern:s}}function compilePath(s,e,a){e===void 0&&(e=!1),a===void 0&&(a=!0);let h=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(_,b)=>(h.push(b),"([^\\/]+)"));return s.endsWith("*")?(h.push("*"),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d+=a?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(d,e?void 0:"i"),h]}function safelyDecodeURIComponent(s,e){try{return decodeURIComponent(s)}catch{return s}}function resolvePath(s,e){e===void 0&&(e="/");let{pathname:a,search:h="",hash:d=""}=typeof s=="string"?parsePath(s):s;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,e):e,search:normalizeSearch(h),hash:normalizeHash(d)}}function resolvePathname(s,e){let a=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function resolveTo(s,e,a){let h=typeof s=="string"?parsePath(s):s,d=s===""||h.pathname===""?"/":h.pathname,g;if(d==null)g=a;else{let b=e.length-1;if(d.startsWith("..")){let et=d.split("/");for(;et[0]==="..";)et.shift(),b-=1;h.pathname=et.join("/")}g=b>=0?e[b]:"/"}let _=resolvePath(h,g);return d&&d!=="/"&&d.endsWith("/")&&!_.pathname.endsWith("/")&&(_.pathname+="/"),_}function getToPathname(s){return s===""||s.pathname===""?"/":typeof s=="string"?parsePath(s).pathname:s.pathname}function stripBasename(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let a=s.charAt(e.length);return a&&a!=="/"?null:s.slice(e.length)||"/"}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function useHref(s){useInRouterContext()||invariant(!1);let{basename:e,navigator:a}=react.exports.useContext(NavigationContext),{hash:h,pathname:d,search:g}=useResolvedPath(s),_=d;if(e!=="/"){let b=getToPathname(s),et=b!=null&&b.endsWith("/");_=d==="/"?e+(et?"/":""):joinPaths([e,d])}return a.createHref({pathname:_,search:g,hash:h})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:s,navigator:e}=react.exports.useContext(NavigationContext),{matches:a}=react.exports.useContext(RouteContext),{pathname:h}=useLocation(),d=JSON.stringify(a.map(b=>b.pathnameBase)),g=react.exports.useRef(!1);return react.exports.useEffect(()=>{g.current=!0}),react.exports.useCallback(function(b,et){if(et===void 0&&(et={}),!g.current)return;if(typeof b=="number"){e.go(b);return}let ot=resolveTo(b,JSON.parse(d),h);s!=="/"&&(ot.pathname=joinPaths([s,ot.pathname])),(et.replace?e.replace:e.push)(ot,et.state)},[s,e,d,h])}function useParams(){let{matches:s}=react.exports.useContext(RouteContext),e=s[s.length-1];return e?e.params:{}}function useResolvedPath(s){let{matches:e}=react.exports.useContext(RouteContext),{pathname:a}=useLocation(),h=JSON.stringify(e.map(d=>d.pathnameBase));return react.exports.useMemo(()=>resolveTo(s,JSON.parse(h),a),[s,h,a])}function useRoutes(s,e){useInRouterContext()||invariant(!1);let{matches:a}=react.exports.useContext(RouteContext),h=a[a.length-1],d=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let _=useLocation(),b;if(e){var et;let mt=typeof e=="string"?parsePath(e):e;g==="/"||((et=mt.pathname)==null?void 0:et.startsWith(g))||invariant(!1),b=mt}else b=_;let ot=b.pathname||"/",gt=g==="/"?ot:ot.slice(g.length)||"/",yt=matchRoutes(s,{pathname:gt});return _renderMatches(yt&&yt.map(mt=>Object.assign({},mt,{params:Object.assign({},d,mt.params),pathname:joinPaths([g,mt.pathname]),pathnameBase:mt.pathnameBase==="/"?g:joinPaths([g,mt.pathnameBase])})),a)}function _renderMatches(s,e){return e===void 0&&(e=[]),s==null?null:s.reduceRight((a,h,d)=>react.exports.createElement(RouteContext.Provider,{children:h.route.element!==void 0?h.route.element:a,value:{outlet:a,matches:e.concat(s.slice(0,d+1))}}),null)}function Route(s){invariant(!1)}function Router(s){let{basename:e="/",children:a=null,location:h,navigationType:d=Action.Pop,navigator:g,static:_=!1}=s;useInRouterContext()&&invariant(!1);let b=normalizePathname(e),et=react.exports.useMemo(()=>({basename:b,navigator:g,static:_}),[b,g,_]);typeof h=="string"&&(h=parsePath(h));let{pathname:ot="/",search:gt="",hash:yt="",state:mt=null,key:St="default"}=h,_t=react.exports.useMemo(()=>{let xt=stripBasename(ot,b);return xt==null?null:{pathname:xt,search:gt,hash:yt,state:mt,key:St}},[b,ot,gt,yt,mt,St]);return _t==null?null:react.exports.createElement(NavigationContext.Provider,{value:et},react.exports.createElement(LocationContext.Provider,{children:a,value:{location:_t,navigationType:d}}))}function Routes(s){let{children:e,location:a}=s;return useRoutes(createRoutesFromChildren(e),a)}function createRoutesFromChildren(s){let e=[];return react.exports.Children.forEach(s,a=>{if(!react.exports.isValidElement(a))return;if(a.type===react.exports.Fragment){e.push.apply(e,createRoutesFromChildren(a.props.children));return}a.type!==Route&&invariant(!1);let h={caseSensitive:a.props.caseSensitive,element:a.props.element,index:a.props.index,path:a.props.path};a.props.children&&(h.children=createRoutesFromChildren(a.props.children)),e.push(h)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(s[h]=a[h])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,e){if(s==null)return{};var a={},h=Object.keys(s),d,g;for(g=0;g<h.length;g++)d=h[g],!(e.indexOf(d)>=0)&&(a[d]=s[d]);return a}const _excluded=["onClick","reloadDocument","replace","state","target","to"];function HashRouter(s){let{basename:e,children:a,window:h}=s,d=react.exports.useRef();d.current==null&&(d.current=createHashHistory({window:h}));let g=d.current,[_,b]=react.exports.useState({action:g.action,location:g.location});return react.exports.useLayoutEffect(()=>g.listen(b),[g]),react.exports.createElement(Router,{basename:e,children:a,location:_.location,navigationType:_.action,navigator:g})}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const Link=react.exports.forwardRef(function(e,a){let{onClick:h,reloadDocument:d,replace:g=!1,state:_,target:b,to:et}=e,ot=_objectWithoutPropertiesLoose(e,_excluded),gt=useHref(et),yt=useLinkClickHandler(et,{replace:g,state:_,target:b});function mt(St){h&&h(St),!St.defaultPrevented&&!d&&yt(St)}return react.exports.createElement("a",_extends({},ot,{href:gt,onClick:mt,ref:a,target:b}))});function useLinkClickHandler(s,e){let{target:a,replace:h,state:d}=e===void 0?{}:e,g=useNavigate(),_=useLocation(),b=useResolvedPath(s);return react.exports.useCallback(et=>{if(et.button===0&&(!a||a==="_self")&&!isModifiedEvent(et)){et.preventDefault();let ot=!!h||createPath(_)===createPath(b);g(s,{replace:ot,state:d})}},[_,g,b,h,d,a,s])}function useSearchParams(s){let e=react.exports.useRef(createSearchParams(s)),a=useLocation(),h=react.exports.useMemo(()=>{let _=createSearchParams(a.search);for(let b of e.current.keys())_.has(b)||e.current.getAll(b).forEach(et=>{_.append(b,et)});return _},[a.search]),d=useNavigate(),g=react.exports.useCallback((_,b)=>{d("?"+createSearchParams(_),b)},[d]);return[h,g]}function createSearchParams(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,a)=>{let h=s[a];return e.concat(Array.isArray(h)?h.map(d=>[a,d]):[[a,h]])},[]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(s){const e=[];let a=0;for(let h=0;h<s.length;h++){let d=s.charCodeAt(h);d<128?e[a++]=d:d<2048?(e[a++]=d>>6|192,e[a++]=d&63|128):(d&64512)===55296&&h+1<s.length&&(s.charCodeAt(h+1)&64512)===56320?(d=65536+((d&1023)<<10)+(s.charCodeAt(++h)&1023),e[a++]=d>>18|240,e[a++]=d>>12&63|128,e[a++]=d>>6&63|128,e[a++]=d&63|128):(e[a++]=d>>12|224,e[a++]=d>>6&63|128,e[a++]=d&63|128)}return e},byteArrayToString=function(s){const e=[];let a=0,h=0;for(;a<s.length;){const d=s[a++];if(d<128)e[h++]=String.fromCharCode(d);else if(d>191&&d<224){const g=s[a++];e[h++]=String.fromCharCode((d&31)<<6|g&63)}else if(d>239&&d<365){const g=s[a++],_=s[a++],b=s[a++],et=((d&7)<<18|(g&63)<<12|(_&63)<<6|b&63)-65536;e[h++]=String.fromCharCode(55296+(et>>10)),e[h++]=String.fromCharCode(56320+(et&1023))}else{const g=s[a++],_=s[a++];e[h++]=String.fromCharCode((d&15)<<12|(g&63)<<6|_&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[];for(let d=0;d<s.length;d+=3){const g=s[d],_=d+1<s.length,b=_?s[d+1]:0,et=d+2<s.length,ot=et?s[d+2]:0,gt=g>>2,yt=(g&3)<<4|b>>4;let mt=(b&15)<<2|ot>>6,St=ot&63;et||(St=64,_||(mt=64)),h.push(a[gt],a[yt],a[mt],a[St])}return h.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(stringToByteArray$1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):byteArrayToString(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,h=[];for(let d=0;d<s.length;){const g=a[s.charAt(d++)],b=d<s.length?a[s.charAt(d)]:0;++d;const ot=d<s.length?a[s.charAt(d)]:64;++d;const yt=d<s.length?a[s.charAt(d)]:64;if(++d,g==null||b==null||ot==null||yt==null)throw Error();const mt=g<<2|b>>4;if(h.push(mt),ot!==64){const St=b<<4&240|ot>>2;if(h.push(St),yt!==64){const _t=ot<<6&192|yt;h.push(_t)}}}return h},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}},base64Encode=function(s){const e=stringToByteArray$1(s);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(s){return base64Encode(s).replace(/\./g,"")},base64Decode=function(s){try{return base64.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,h)=>{a?this.reject(a):this.resolve(h),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,h))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isElectron(){return getUA().indexOf("Electron/")>=0}function isIE(){const s=getUA();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function isUWP(){return getUA().indexOf("MSAppHost/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((s,e)=>{try{let a=!0;const h="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(h);d.onsuccess=()=>{d.result.close(),a||self.indexedDB.deleteDatabase(h),s(!0)},d.onupgradeneeded=()=>{a=!1},d.onerror=()=>{var g;e(((g=d.error)===null||g===void 0?void 0:g.message)||"")}}catch(a){e(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,a,h){super(a),this.code=e,this.customData=h,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,a,h){this.service=e,this.serviceName=a,this.errors=h}create(e,...a){const h=a[0]||{},d=`${this.service}/${e}`,g=this.errors[e],_=g?replaceTemplate(g,h):"Error",b=`${this.serviceName}: ${_} (${d}).`;return new FirebaseError(d,b,h)}}function replaceTemplate(s,e){return s.replace(PATTERN,(a,h)=>{const d=e[h];return d!=null?String(d):`<${h}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function deepEqual(s,e){if(s===e)return!0;const a=Object.keys(s),h=Object.keys(e);for(const d of a){if(!h.includes(d))return!1;const g=s[d],_=e[d];if(isObject$a(g)&&isObject$a(_)){if(!deepEqual(g,_))return!1}else if(g!==_)return!1}for(const d of h)if(!a.includes(d))return!1;return!0}function isObject$a(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring$2(s){const e=[];for(const[a,h]of Object.entries(s))Array.isArray(h)?h.forEach(d=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(h));return e.length?"&"+e.join("&"):""}function createSubscribe(s,e){const a=new ObserverProxy(s,e);return a.subscribe.bind(a)}class ObserverProxy{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(h=>{this.error(h)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,h){let d;if(e===void 0&&a===void 0&&h===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?d=e:d={next:e,error:a,complete:h},d.next===void 0&&(d.next=noop),d.error===void 0&&(d.error=noop),d.complete===void 0&&(d.complete=noop);const g=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch{}}),this.observers.push(d),g}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(h){typeof console!="undefined"&&console.error&&console.error(h)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(s,e){if(typeof s!="object"||s===null)return!1;for(const a of e)if(a in s&&typeof s[a]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(s){return s&&s._delegate?s._delegate:s}class Component{constructor(e,a,h){this.name=e,this.instanceFactory=a,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const h=new Deferred;if(this.instancesDeferred.set(a,h),this.isInitialized(a)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:a});d&&h.resolve(d)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){var a;const h=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),d=(a=e==null?void 0:e.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(h)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:h})}catch(g){if(d)return null;throw g}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[a,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);try{const g=this.getOrInitializeService({instanceIdentifier:d});h.resolve(g)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,h=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:h,options:a});for(const[g,_]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(g);h===b&&_.resolve(d)}return d}onInit(e,a){var h;const d=this.normalizeInstanceIdentifier(a),g=(h=this.onInitCallbacks.get(d))!==null&&h!==void 0?h:new Set;g.add(e),this.onInitCallbacks.set(d,g);const _=this.instances.get(d);return _&&e(_,d),()=>{g.delete(e)}}invokeOnInitCallbacks(e,a){const h=this.onInitCallbacks.get(a);if(!!h)for(const d of h)try{d(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let h=this.instances.get(e);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:a}),this.instances.set(e,h),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(h,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,h)}catch{}return h||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(s){return s===DEFAULT_ENTRY_NAME$1?void 0:s}function isComponentEager(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new Provider(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(s,e,...a)=>{if(e<s.logLevel)return;const h=new Date().toISOString(),d=ConsoleMethod[e];if(d)console[d](`[${h}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(s,e)=>e.some(a=>s instanceof a);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(s){const e=new Promise((a,h)=>{const d=()=>{s.removeEventListener("success",g),s.removeEventListener("error",_)},g=()=>{a(wrap(s.result)),d()},_=()=>{h(s.error),d()};s.addEventListener("success",g),s.addEventListener("error",_)});return e.then(a=>{a instanceof IDBCursor&&cursorRequestMap.set(a,s)}).catch(()=>{}),reverseTransformCache.set(e,s),e}function cacheDonePromiseForTransaction(s){if(transactionDoneMap.has(s))return;const e=new Promise((a,h)=>{const d=()=>{s.removeEventListener("complete",g),s.removeEventListener("error",_),s.removeEventListener("abort",_)},g=()=>{a(),d()},_=()=>{h(s.error||new DOMException("AbortError","AbortError")),d()};s.addEventListener("complete",g),s.addEventListener("error",_),s.addEventListener("abort",_)});transactionDoneMap.set(s,e)}let idbProxyTraps={get(s,e,a){if(s instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(s);if(e==="objectStoreNames")return s.objectStoreNames||transactionStoreNamesMap.get(s);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return wrap(s[e])},set(s,e,a){return s[e]=a,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function replaceTraps(s){idbProxyTraps=s(idbProxyTraps)}function wrapFunction(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const h=s.call(unwrap(this),e,...a);return transactionStoreNamesMap.set(h,e.sort?e.sort():[e]),wrap(h)}:getCursorAdvanceMethods().includes(s)?function(...e){return s.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(s.apply(unwrap(this),e))}}function transformCachableValue(s){return typeof s=="function"?wrapFunction(s):(s instanceof IDBTransaction&&cacheDonePromiseForTransaction(s),instanceOfAny(s,getIdbProxyableTypes())?new Proxy(s,idbProxyTraps):s)}function wrap(s){if(s instanceof IDBRequest)return promisifyRequest(s);if(transformCache.has(s))return transformCache.get(s);const e=transformCachableValue(s);return e!==s&&(transformCache.set(s,e),reverseTransformCache.set(e,s)),e}const unwrap=s=>reverseTransformCache.get(s);function openDB(s,e,{blocked:a,upgrade:h,blocking:d,terminated:g}={}){const _=indexedDB.open(s,e),b=wrap(_);return h&&_.addEventListener("upgradeneeded",et=>{h(wrap(_.result),et.oldVersion,et.newVersion,wrap(_.transaction))}),a&&_.addEventListener("blocked",()=>a()),b.then(et=>{g&&et.addEventListener("close",()=>g()),d&&et.addEventListener("versionchange",()=>d())}).catch(()=>{}),b}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const a=e.replace(/FromIndex$/,""),h=e!==a,d=writeMethods.includes(a);if(!(a in(h?IDBIndex:IDBObjectStore).prototype)||!(d||readMethods.includes(a)))return;const g=async function(_,...b){const et=this.transaction(_,d?"readwrite":"readonly");let ot=et.store;return h&&(ot=ot.index(b.shift())),(await Promise.all([ot[a](...b),d&&et.done]))[0]};return cachedMethods.set(e,g),g}replaceTraps(s=>Ir(Cr({},s),{get:(e,a,h)=>getMethod(e,a)||s.get(e,a,h),has:(e,a)=>!!getMethod(e,a)||s.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(isVersionServiceProvider(a)){const h=a.getImmediate();return`${h.library}/${h.version}`}else return null}).filter(a=>a).join(" ")}}function isVersionServiceProvider(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$2="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(s,e){try{s.container.addComponent(e)}catch(a){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,a)}}function _registerComponent(s){const e=s.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,s);for(const a of _apps.values())_addComponent(a,s);return!0}function _getProvider(s,e){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,a,h){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=h,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(s,e={}){typeof e!="object"&&(e={name:e});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),h=a.name;if(typeof h!="string"||!h)throw ERROR_FACTORY.create("bad-app-name",{appName:String(h)});const d=_apps.get(h);if(d){if(deepEqual(s,d.options)&&deepEqual(a,d.config))return d;throw ERROR_FACTORY.create("duplicate-app",{appName:h})}const g=new ComponentContainer(h);for(const b of _components.values())g.addComponent(b);const _=new FirebaseAppImpl(s,a,g);return _apps.set(h,_),_}function getApp(s=DEFAULT_ENTRY_NAME){const e=_apps.get(s);if(!e)throw ERROR_FACTORY.create("no-app",{appName:s});return e}function registerVersion(s,e,a){var h;let d=(h=PLATFORM_LOG_STRING[s])!==null&&h!==void 0?h:s;a&&(d+=`-${a}`);const g=d.match(/\s|\//),_=e.match(/\s|\//);if(g||_){const b=[`Unable to register library "${d}" with version "${e}":`];g&&b.push(`library name "${d}" contains illegal characters (whitespace or "/")`),g&&_&&b.push("and"),_&&b.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(b.join(" "));return}_registerComponent(new Component(`${d}-version`,()=>({library:d,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(STORE_NAME)}}}).catch(s=>{throw ERROR_FACTORY.create("storage-open",{originalErrorMessage:s.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(s){var e;try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(s))}catch(a){throw ERROR_FACTORY.create("storage-get",{originalErrorMessage:(e=a)===null||e===void 0?void 0:e.message})}}async function writeHeartbeatsToIndexedDB(s,e){var a;try{const d=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await d.objectStore(STORE_NAME).put(e,computeKey(s)),d.done}catch(h){throw ERROR_FACTORY.create("storage-set",{originalErrorMessage:(a=h)===null||a===void 0?void 0:a.message})}}function computeKey(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(a),this._heartbeatsCachePromise=this._storage.read().then(h=>(this._heartbeatsCache=h,h))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h)))return this._heartbeatsCache.heartbeats.push({date:h,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:h}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),d=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,h.length>0?(this._heartbeatsCache.heartbeats=h,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(s,e=MAX_HEADER_BYTES){const a=[];let h=s.slice();for(const d of s){const g=a.find(_=>_.agent===d.agent);if(g){if(g.dates.push(d.date),countBytes(a)>e){g.dates.pop();break}}else if(a.push({agent:d.agent,dates:[d.date]}),countBytes(a)>e){a.pop();break}h=h.slice(1)}return{heartbeatsToSend:a,unsentEntries:h}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var a;if(await this._canUseIndexedDBPromise){const d=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:d.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var a;if(await this._canUseIndexedDBPromise){const d=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...e.heartbeats]})}else return}}function countBytes(s){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(s){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,s),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(s,e){var a={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&e.indexOf(h)<0&&(a[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,h=Object.getOwnPropertySymbols(s);d<h.length;d++)e.indexOf(h[d])<0&&Object.prototype.propertyIsEnumerable.call(s,h[d])&&(a[h[d]]=s[h[d]]);return a}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(s,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(s,...e){throw createErrorInternal(s,...e)}function _createError(s,...e){return createErrorInternal(s,...e)}function _errorWithCustomMessage(s,e,a){const h=Object.assign(Object.assign({},prodErrorMap()),{[e]:a});return new ErrorFactory("auth","Firebase",h).create(e,{appName:s.name})}function _assertInstanceOf(s,e,a){const h=a;if(!(e instanceof h))throw h.name!==e.constructor.name&&_fail(s,"argument-error"),_errorWithCustomMessage(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(s,...e){if(typeof s!="string"){const a=e[0],h=[...e.slice(1)];return h[0]&&(h[0].appName=s.name),s._errorFactory.create(a,...h)}return _DEFAULT_AUTH_ERROR_FACTORY.create(s,...e)}function _assert(s,e,...a){if(!s)throw createErrorInternal(e,...a)}function debugFail(s){const e="INTERNAL ASSERTION FAILED: "+s;throw _logError(e),new Error(e)}function debugAssert(s,e){s||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(s){debugAssert(s instanceof Function,"Expected a class definition");let e=instanceCache.get(s);return e?(debugAssert(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,instanceCache.set(s,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(s,e){const a=_getProvider(s,"auth");if(a.isInitialized()){const d=a.getImmediate(),g=a.getOptions();if(deepEqual(g,e!=null?e:{}))return d;_fail(d,"already-initialized")}return a.initialize({options:e})}function _initializeAuthInstance(s,e){const a=(e==null?void 0:e.persistence)||[],h=(Array.isArray(a)?a:[a]).map(_getInstance);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(h,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator=="undefined")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,a){this.shortDelay=e,this.longDelay=a,debugAssert(a>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(s,e){debugAssert(s.emulator,"Emulator should always be set here");const{url:a}=s.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,a,h){this.fetchImpl=e,a&&(this.headersImpl=a),h&&(this.responseImpl=h)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function _performApiRequest(s,e,a,h,d={}){return _performFetchWithErrorHandling(s,d,async()=>{let g={},_={};h&&(e==="GET"?_=h:g={body:JSON.stringify(h)});const b=querystring$2(Object.assign({key:s.config.apiKey},_)).slice(1),et=await s._getAdditionalHeaders();return et["Content-Type"]="application/json",s.languageCode&&(et["X-Firebase-Locale"]=s.languageCode),FetchProvider.fetch()(_getFinalTarget(s,s.config.apiHost,a,b),Object.assign({method:e,headers:et,referrerPolicy:"no-referrer"},g))})}async function _performFetchWithErrorHandling(s,e,a){s._canInitEmulator=!1;const h=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const d=new NetworkTimeout(s),g=await Promise.race([a(),d.promise]);d.clearNetworkTimeout();const _=await g.json();if("needConfirmation"in _)throw _makeTaggedError(s,"account-exists-with-different-credential",_);if(g.ok&&!("errorMessage"in _))return _;{const b=g.ok?_.errorMessage:_.error.message,[et,ot]=b.split(" : ");if(et==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(s,"credential-already-in-use",_);if(et==="EMAIL_EXISTS")throw _makeTaggedError(s,"email-already-in-use",_);if(et==="USER_DISABLED")throw _makeTaggedError(s,"user-disabled",_);const gt=h[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw _errorWithCustomMessage(s,gt,ot);_fail(s,gt)}}catch(d){if(d instanceof FirebaseError)throw d;_fail(s,"network-request-failed")}}async function _performSignInRequest(s,e,a,h,d={}){const g=await _performApiRequest(s,e,a,h,d);return"mfaPendingCredential"in g&&_fail(s,"multi-factor-auth-required",{_serverResponse:g}),g}function _getFinalTarget(s,e,a,h){const d=`${e}${a}?${h}`;return s.config.emulator?_emulatorUrl(s.config,d):`${s.config.apiScheme}://${d}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,h)=>{this.timer=setTimeout(()=>h(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(s,e,a){const h={appName:s.name};a.email&&(h.email=a.email),a.phoneNumber&&(h.phoneNumber=a.phoneNumber);const d=_createError(s,e,h);return d.customData._tokenResponse=a,d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(s,e){return _performApiRequest(s,"POST","/v1/accounts:delete",e)}async function getAccountInfo(s,e){return _performApiRequest(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(s){if(!!s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(s,e=!1){const a=getModularInstance(s),h=await a.getIdToken(e),d=_parseToken(h);_assert(d&&d.exp&&d.auth_time&&d.iat,a.auth,"internal-error");const g=typeof d.firebase=="object"?d.firebase:void 0,_=g==null?void 0:g.sign_in_provider;return{claims:d,token:h,authTime:utcTimestampToDateString(secondsStringToMilliseconds(d.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(d.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(d.exp)),signInProvider:_||null,signInSecondFactor:(g==null?void 0:g.sign_in_second_factor)||null}}function secondsStringToMilliseconds(s){return Number(s)*1e3}function _parseToken(s){var e;const[a,h,d]=s.split(".");if(a===void 0||h===void 0||d===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const g=base64Decode(h);return g?JSON.parse(g):(_logError("Failed to decode base64 JWT payload"),null)}catch(g){return _logError("Caught error parsing JWT payload as JSON",(e=g)===null||e===void 0?void 0:e.toString()),null}}function _tokenExpiresIn(s){const e=_parseToken(s);return _assert(e,"internal-error"),_assert(typeof e.exp!="undefined","internal-error"),_assert(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(s,e,a=!1){if(a)return e;try{return await e}catch(h){throw h instanceof FirebaseError&&isUserInvalidated(h)&&s.auth.currentUser===s&&await s.auth.signOut(),h}}function isUserInvalidated({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var a;if(e){const h=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),h}else{this.errorBackoff=3e4;const d=((a=this.user.stsTokenManager.expirationTime)!==null&&a!==void 0?a:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(a){((e=a)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(s){var e;const a=s.auth,h=await s.getIdToken(),d=await _logoutIfInvalidated(s,getAccountInfo(a,{idToken:h}));_assert(d==null?void 0:d.users.length,a,"internal-error");const g=d.users[0];s._notifyReloadListener(g);const _=!((e=g.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(g.providerUserInfo):[],b=mergeProviderData(s.providerData,_),et=s.isAnonymous,ot=!(s.email&&g.passwordHash)&&!(b!=null&&b.length),gt=et?ot:!1,yt={uid:g.localId,displayName:g.displayName||null,photoURL:g.photoUrl||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,tenantId:g.tenantId||null,providerData:b,metadata:new UserMetadata(g.createdAt,g.lastLoginAt),isAnonymous:gt};Object.assign(s,yt)}async function reload(s){const e=getModularInstance(s);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(s,e){return[...s.filter(h=>!e.some(d=>d.providerId===h.providerId)),...e]}function extractProviderData(s){return s.map(e=>{var{providerId:a}=e,h=__rest(e,["providerId"]);return{providerId:a,uid:h.rawId||"",displayName:h.displayName||null,email:h.email||null,phoneNumber:h.phoneNumber||null,photoURL:h.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(s,e){const a=await _performFetchWithErrorHandling(s,{},async()=>{const h=querystring$2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:d,apiKey:g}=s.config,_=_getFinalTarget(s,d,"/v1/token",`key=${g}`),b=await s._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(_,{method:"POST",headers:b,body:h})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken!="undefined","internal-error"),_assert(typeof e.refreshToken!="undefined","internal-error");const a="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}async getToken(e,a=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!a&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:h,refreshToken:d,expiresIn:g}=await requestStsToken(e,a);this.updateTokensAndExpiration(h,d,Number(g))}updateTokensAndExpiration(e,a,h){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+h*1e3}static fromJSON(e,a){const{refreshToken:h,accessToken:d,expirationTime:g}=a,_=new StsTokenManager;return h&&(_assert(typeof h=="string","internal-error",{appName:e}),_.refreshToken=h),d&&(_assert(typeof d=="string","internal-error",{appName:e}),_.accessToken=d),g&&(_assert(typeof g=="number","internal-error",{appName:e}),_.expirationTime=g),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(s,e){_assert(typeof s=="string"||typeof s=="undefined","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:a,auth:h,stsTokenManager:d}=e,g=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=h,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=g.displayName||null,this.email=g.email||null,this.emailVerified=g.emailVerified||!1,this.phoneNumber=g.phoneNumber||null,this.photoURL=g.photoURL||null,this.isAnonymous=g.isAnonymous||!1,this.tenantId=g.tenantId||null,this.providerData=g.providerData?[...g.providerData]:[],this.metadata=new UserMetadata(g.createdAt||void 0,g.lastLoginAt||void 0)}async getIdToken(e){const a=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>Object.assign({},a)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let h=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),h=!0),a&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),h&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){var h,d,g,_,b,et,ot,gt;const yt=(h=a.displayName)!==null&&h!==void 0?h:void 0,mt=(d=a.email)!==null&&d!==void 0?d:void 0,St=(g=a.phoneNumber)!==null&&g!==void 0?g:void 0,_t=(_=a.photoURL)!==null&&_!==void 0?_:void 0,xt=(b=a.tenantId)!==null&&b!==void 0?b:void 0,Ot=(et=a._redirectEventId)!==null&&et!==void 0?et:void 0,wt=(ot=a.createdAt)!==null&&ot!==void 0?ot:void 0,vt=(gt=a.lastLoginAt)!==null&&gt!==void 0?gt:void 0,{uid:kt,emailVerified:Dt,isAnonymous:Nt,providerData:Mt,stsTokenManager:Ht}=a;_assert(kt&&Ht,e,"internal-error");const Ft=StsTokenManager.fromJSON(this.name,Ht);_assert(typeof kt=="string",e,"internal-error"),assertStringOrUndefined(yt,e.name),assertStringOrUndefined(mt,e.name),_assert(typeof Dt=="boolean",e,"internal-error"),_assert(typeof Nt=="boolean",e,"internal-error"),assertStringOrUndefined(St,e.name),assertStringOrUndefined(_t,e.name),assertStringOrUndefined(xt,e.name),assertStringOrUndefined(Ot,e.name),assertStringOrUndefined(wt,e.name),assertStringOrUndefined(vt,e.name);const Wt=new UserImpl({uid:kt,auth:e,email:mt,emailVerified:Dt,displayName:yt,isAnonymous:Nt,photoURL:_t,phoneNumber:St,tenantId:xt,stsTokenManager:Ft,createdAt:wt,lastLoginAt:vt});return Mt&&Array.isArray(Mt)&&(Wt.providerData=Mt.map(On=>Object.assign({},On))),Ot&&(Wt._redirectEventId=Ot),Wt}static async _fromIdTokenResponse(e,a,h=!1){const d=new StsTokenManager;d.updateFromServerResponse(a);const g=new UserImpl({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:h});return await _reloadWithoutSaving(g),g}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(s,e,a){return`firebase:${s}:${e}:${a}`}class PersistenceUserManager{constructor(e,a,h){this.persistence=e,this.auth=a,this.userKey=h;const{config:d,name:g}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,d.apiKey,g),this.fullPersistenceKey=_persistenceKeyName("persistence",d.apiKey,g),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,h="authUser"){if(!a.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,h);const d=(await Promise.all(a.map(async ot=>{if(await ot._isAvailable())return ot}))).filter(ot=>ot);let g=d[0]||_getInstance(inMemoryPersistence);const _=_persistenceKeyName(h,e.config.apiKey,e.name);let b=null;for(const ot of a)try{const gt=await ot._get(_);if(gt){const yt=UserImpl._fromJSON(e,gt);ot!==g&&(b=yt),g=ot;break}}catch{}const et=d.filter(ot=>ot._shouldAllowMigration);return!g._shouldAllowMigration||!et.length?new PersistenceUserManager(g,e,h):(g=et[0],b&&await g._set(_,b.toJSON()),await Promise.all(a.map(async ot=>{if(ot!==g)try{await ot._remove(_)}catch{}})),new PersistenceUserManager(g,e,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,h=s.match(a);if((h==null?void 0:h.length)===2)return h[1]}return"Other"}function _isFirefox(s=getUA()){return/firefox\//i.test(s)}function _isSafari(s=getUA()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(s=getUA()){return/crios\//i.test(s)}function _isIEMobile(s=getUA()){return/iemobile/i.test(s)}function _isAndroid(s=getUA()){return/android/i.test(s)}function _isBlackBerry(s=getUA()){return/blackberry/i.test(s)}function _isWebOS(s=getUA()){return/webos/i.test(s)}function _isIOS(s=getUA()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _isIOSStandalone(s=getUA()){var e;return _isIOS(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(s=getUA()){return _isIOS(s)||_isAndroid(s)||_isWebOS(s)||_isBlackBerry(s)||/windows phone/i.test(s)||_isIEMobile(s)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(s,e=[]){let a;switch(s){case"Browser":a=_getBrowserName(getUA());break;case"Worker":a=`${_getBrowserName(getUA())}-${s}`;break;default:a=s}const h=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${SDK_VERSION}/${h}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const h=g=>new Promise((_,b)=>{try{const et=e(g);_(et)}catch(et){b(et)}});h.onAbort=a,this.queue.push(h);const d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(e){var a;if(this.auth.currentUser===e)return;const h=[];try{for(const d of this.queue)await d(e),d.onAbort&&h.push(d.onAbort)}catch(d){h.reverse();for(const g of h)try{g()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(a=d)===null||a===void 0?void 0:a.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,a,h){this.app=e,this.heartbeatServiceProvider=a,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=_getInstance(a)),this._initializationPromise=this.queue(async()=>{var h,d;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((h=this._popupRedirectResolver)===null||h===void 0)&&h._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((d=this.currentUser)===null||d===void 0?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var a;const h=await this.assertedPersistence.getCurrentUser();let d=h,g=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const _=(a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId,b=d==null?void 0:d._redirectEventId,et=await this.tryRedirectSignIn(e);(!_||_===b)&&(et==null?void 0:et.user)&&(d=et.user,g=!0)}if(!d)return this.directlySetCurrentUser(null);if(!d._redirectEventId){if(g)try{await this.beforeStateQueue.runMiddleware(d)}catch(_){d=h,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(_))}return d?this.reloadAndSetCurrentUserOrClear(d):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===d._redirectEventId?this.directlySetCurrentUser(d):this.reloadAndSetCurrentUserOrClear(d)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){var a;try{await _reloadWithoutSaving(e)}catch(h){if(((a=h)===null||a===void 0?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const a=e?getModularInstance(e):null;return a&&_assert(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,a,h){return this.registerStateListener(this.authStateSubscription,e,a,h)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,h){return this.registerStateListener(this.idTokenSubscription,e,a,h)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,a){const h=await this.getOrInitRedirectPersistenceManager(a);return e===null?h.removeCurrentUser():h.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&_getInstance(e)||this._popupRedirectResolver;_assert(a,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var a,h;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)===null||a===void 0?void 0:a._redirectEventId)===e?this._currentUser:((h=this.redirectUser)===null||h===void 0?void 0:h._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const h=(a=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&a!==void 0?a:null;this.lastNotifiedUid!==h&&(this.lastNotifiedUid=h,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,h,d){if(this._deleted)return()=>{};const g=typeof a=="function"?a:a.next.bind(a),_=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(_,this,"internal-error"),_.then(()=>g(this.currentUser)),typeof a=="function"?e.addObserver(a,h,d):e.addObserver(a)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const a={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);const h=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return h&&(a["X-Firebase-Client"]=h),a}}function _castAuth(s){return getModularInstance(s)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(a=>this.observer=a)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,a){this.providerId=e,this.signInMethod=a}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,a){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(s,e){return _performSignInRequest(s,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const a=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(a.idToken=e.idToken),e.accessToken&&(a.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(a.nonce=e.nonce),e.pendingToken&&(a.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(a.accessToken=e.oauthToken,a.secret=e.oauthTokenSecret):_fail("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e,{providerId:h,signInMethod:d}=a,g=__rest(a,["providerId","signInMethod"]);if(!h||!d)return null;const _=new OAuthCredential(h,d);return _.idToken=g.idToken||void 0,_.accessToken=g.accessToken||void 0,_.secret=g.secret,_.nonce=g.nonce,_.pendingToken=g.pendingToken||null,_}_getIdTokenResponse(e){const a=this.buildRequest();return signInWithIdp(e,a)}_linkToIdToken(e,a){const h=this.buildRequest();return h.idToken=a,signInWithIdp(e,h)}_getReauthenticationResolver(e){const a=this.buildRequest();return a.autoCreate=!1,signInWithIdp(e,a)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),e.postBody=querystring$2(a)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,a){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:a})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:a,oauthAccessToken:h}=e;if(!a&&!h)return null;try{return GoogleAuthProvider.credential(a,h)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,a){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:a})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:a,oauthTokenSecret:h}=e;if(!a||!h)return null;try{return TwitterAuthProvider.credential(a,h)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,a,h,d=!1){const g=await UserImpl._fromIdTokenResponse(e,h,d),_=providerIdForResponse(h);return new UserCredentialImpl({user:g,providerId:_,_tokenResponse:h,operationType:a})}static async _forOperation(e,a,h){await e._updateTokensIfNecessary(h,!0);const d=providerIdForResponse(h);return new UserCredentialImpl({user:e,providerId:d,_tokenResponse:h,operationType:a})}}function providerIdForResponse(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,a,h,d){var g;super(a.code,a.message),this.operationType=h,this.user=d,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(g=e.tenantId)!==null&&g!==void 0?g:void 0,_serverResponse:a.customData._serverResponse,operationType:h}}static _fromErrorAndOperation(e,a,h,d){return new MultiFactorError(e,a,h,d)}}function _processCredentialSavingMfaContextIfNecessary(s,e,a,h){return(e==="reauthenticate"?a._getReauthenticationResolver(s):a._getIdTokenResponse(s)).catch(g=>{throw g.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(s,g,e,h):g})}async function _link$1(s,e,a=!1){const h=await _logoutIfInvalidated(s,e._linkToIdToken(s.auth,await s.getIdToken()),a);return UserCredentialImpl._forOperation(s,"link",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(s,e,a=!1){var h;const{auth:d}=s,g="reauthenticate";try{const _=await _logoutIfInvalidated(s,_processCredentialSavingMfaContextIfNecessary(d,g,e,s),a);_assert(_.idToken,d,"internal-error");const b=_parseToken(_.idToken);_assert(b,d,"internal-error");const{sub:et}=b;return _assert(s.uid===et,d,"user-mismatch"),UserCredentialImpl._forOperation(s,g,_)}catch(_){throw((h=_)===null||h===void 0?void 0:h.code)==="auth/user-not-found"&&_fail(d,"user-mismatch"),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(s,e,a=!1){const h="signIn",d=await _processCredentialSavingMfaContextIfNecessary(s,h,e),g=await UserCredentialImpl._fromIdTokenResponse(s,h,d);return a||await s._updateCurrentUser(g.user),g}function signOut(s){return getModularInstance(s).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,a){this.storageRetriever=e,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,a){return this.storage.setItem(e,JSON.stringify(a)),Promise.resolve()}_get(e){const a=this.storage.getItem(e);return Promise.resolve(a?JSON.parse(a):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const s=getUA();return _isSafari(s)||_isIOS(s)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,a)=>this.onStorageEvent(e,a),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const a of Object.keys(this.listeners)){const h=this.storage.getItem(a),d=this.localCache[a];h!==d&&e(a,d,h)}}onStorageEvent(e,a=!1){if(!e.key){this.forAllChangedKeys((_,b,et)=>{this.notifyListeners(_,et)});return}const h=e.key;if(a?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _=this.storage.getItem(h);if(e.newValue!==_)e.newValue!==null?this.storage.setItem(h,e.newValue):this.storage.removeItem(h);else if(this.localCache[h]===e.newValue&&!a)return}const d=()=>{const _=this.storage.getItem(h);!a&&this.localCache[h]===_||this.notifyListeners(h,_)},g=this.storage.getItem(h);_isIE10()&&g!==e.newValue&&e.newValue!==e.oldValue?setTimeout(d,IE10_LOCAL_STORAGE_SYNC_DELAY):d()}notifyListeners(e,a){this.localCache[e]=a;const h=this.listeners[e];if(h)for(const d of Array.from(h))d(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,a,h)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:a,newValue:h}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,a){await super._set(e,a),this.localCache[e]=JSON.stringify(a)}async _get(e){const a=await super._get(e);return this.localCache[e]=JSON.stringify(a),a}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,a){}_removeListener(e,a){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(s){return Promise.all(s.map(async e=>{try{const a=await e;return{fulfilled:!0,value:a}}catch(a){return{fulfilled:!1,reason:a}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const a=this.receivers.find(d=>d.isListeningto(e));if(a)return a;const h=new Receiver(e);return this.receivers.push(h),h}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const a=e,{eventId:h,eventType:d,data:g}=a.data,_=this.handlersMap[d];if(!(_!=null&&_.size))return;a.ports[0].postMessage({status:"ack",eventId:h,eventType:d});const b=Array.from(_).map(async ot=>ot(a.origin,g)),et=await _allSettled(b);a.ports[0].postMessage({status:"done",eventId:h,eventType:d,response:et})}_subscribe(e,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(a)}_unsubscribe(e,a){this.handlersMap[e]&&a&&this.handlersMap[e].delete(a),(!a||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(s="",e=10){let a="";for(let h=0;h<e;h++)a+=Math.floor(Math.random()*10);return s+a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,a,h=50){const d=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!d)throw new Error("connection_unavailable");let g,_;return new Promise((b,et)=>{const ot=_generateEventId("",20);d.port1.start();const gt=setTimeout(()=>{et(new Error("unsupported_event"))},h);_={messageChannel:d,onMessage(yt){const mt=yt;if(mt.data.eventId===ot)switch(mt.data.status){case"ack":clearTimeout(gt),g=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),b(mt.data.response);break;default:clearTimeout(gt),clearTimeout(g),et(new Error("invalid_response"));break}}},this.handlers.add(_),d.port1.addEventListener("message",_.onMessage),this.target.postMessage({eventType:e,eventId:ot,data:a},[d.port2])}).finally(()=>{_&&this.removeMessageHandler(_)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(s){_window().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope!="undefined"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,a)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function getObjectStore(s,e){return s.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const s=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(s).toPromise()}function _openDatabase(){const s=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,a)=>{s.addEventListener("error",()=>{a(s.error)}),s.addEventListener("upgradeneeded",()=>{const h=s.result;try{h.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(d){a(d)}}),s.addEventListener("success",async()=>{const h=s.result;h.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(h):(h.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(s,e,a){const h=getObjectStore(s,!0).put({[DB_DATA_KEYPATH]:e,value:a});return new DBPromise(h).toPromise()}async function getObject(s,e){const a=getObjectStore(s,!1).get(e),h=await new DBPromise(a).toPromise();return h===void 0?null:h.value}function _deleteObject(s,e){const a=getObjectStore(s,!0).delete(e);return new DBPromise(a).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let a=0;for(;;)try{const h=await this._openDb();return await e(h)}catch(h){if(a++>_TRANSACTION_RETRY_COUNT)throw h;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(e,a)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const h=await this.sender._send("ping",{},800);!h||((e=h[0])===null||e===void 0?void 0:e.fulfilled)&&((a=h[0])===null||a===void 0?void 0:a.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,a){return this._withPendingWrite(async()=>(await this._withRetries(h=>_putObject(h,e,a)),this.localCache[e]=a,this.notifyServiceWorker(e)))}async _get(e){const a=await this._withRetries(h=>getObject(h,e));return this.localCache[e]=a,a}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(a=>_deleteObject(a,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(d=>{const g=getObjectStore(d,!1).getAll();return new DBPromise(g).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const a=[],h=new Set;for(const{fbase_key:d,value:g}of e)h.add(d),JSON.stringify(this.localCache[d])!==JSON.stringify(g)&&(this.notifyListeners(d,g),a.push(d));for(const d of Object.keys(this.localCache))this.localCache[d]&&!h.has(d)&&(this.notifyListeners(d,null),a.push(d));return a}notifyListeners(e,a){this.localCache[e]=a;const h=this.listeners[e];if(h)for(const d of Array.from(h))d(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}function _loadJS(s){return new Promise((e,a)=>{const h=document.createElement("script");h.setAttribute("src",s),h.onload=e,h.onerror=d=>{const g=_createError("internal-error");g.customData=d,a(g)},h.type="text/javascript",h.charset="UTF-8",getScriptParentElement().appendChild(h)})}function _generateCallbackName(s){return`__${s}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(s,e){return e?_getInstance(e):(_assert(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,a){return signInWithIdp(e,this._buildIdpRequest(a))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(a.idToken=e),a}}function _signIn(s){return _signInWithCredential(s.auth,new IdpCredential(s),s.bypassAuthState)}function _reauth(s){const{auth:e,user:a}=s;return _assert(a,e,"internal-error"),_reauthenticate(a,new IdpCredential(s),s.bypassAuthState)}async function _link(s){const{auth:e,user:a}=s;return _assert(a,e,"internal-error"),_link$1(a,new IdpCredential(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,a,h,d,g=!1){this.auth=e,this.resolver=h,this.user=d,this.bypassAuthState=g,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(e,a)=>{this.pendingPromise={resolve:e,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(h){this.reject(h)}})}async onAuthEvent(e){const{urlResponse:a,sessionId:h,postBody:d,tenantId:g,error:_,type:b}=e;if(_){this.reject(_);return}const et={auth:this.auth,requestUri:a,sessionId:h,tenantId:g||void 0,postBody:d||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(et))}catch(ot){this.reject(ot)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(s,e,a){const h=_castAuth(s);_assertInstanceOf(s,e,FederatedAuthProvider);const d=_withDefaultResolver(h,a);return new PopupOperation(h,"signInViaPopup",e,d).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,a,h,d,g){super(e,a,d,g),this.provider=h,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var a,h;if(!((h=(a=this.authWindow)===null||a===void 0?void 0:a.window)===null||h===void 0)&&h.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,a,h=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,h),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const h=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(h)}catch(a){e=()=>Promise.reject(a)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const a=await this.auth._redirectUserForId(e.eventId);if(a)return this.user=a,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(s,e){const a=pendingRedirectKey(e),h=resolverPersistence(s);if(!await h._isAvailable())return!1;const d=await h._get(a)==="true";return await h._remove(a),d}function _overrideRedirectResult(s,e){redirectOutcomeMap.set(s._key(),e)}function resolverPersistence(s){return _getInstance(s._redirectPersistence)}function pendingRedirectKey(s){return _persistenceKeyName(PENDING_REDIRECT_KEY,s.config.apiKey,s.name)}async function _getRedirectResult(s,e,a=!1){const h=_castAuth(s),d=_withDefaultResolver(h,e),_=await new RedirectAction(h,d,a).execute();return _&&!a&&(delete _.user._redirectEventId,await h._persistUserIfCurrent(_.user),await h._setRedirectUser(null,e)),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let a=!1;return this.consumers.forEach(h=>{this.isEventForConsumer(e,h)&&(a=!0,this.sendToConsumer(e,h),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=e,a=!0)),a}sendToConsumer(e,a){var h;if(e.error&&!isNullRedirectEvent(e)){const d=((h=e.error.code)===null||h===void 0?void 0:h.split("auth/")[1])||"internal-error";a.onError(_createError(this.auth,d))}else a.onAuthEvent(e)}isEventForConsumer(e,a){const h=a.eventId===null||!!e.eventId&&e.eventId===a.eventId;return a.filter.includes(e.type)&&h}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(s,e={}){return _performApiRequest(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(s);for(const a of e)try{if(matchDomain(a))return}catch{}_fail(s,"unauthorized-domain")}function matchDomain(s){const e=_getCurrentUrl(),{protocol:a,hostname:h}=new URL(e);if(s.startsWith("chrome-extension://")){const _=new URL(s);return _.hostname===""&&h===""?a==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):a==="chrome-extension:"&&_.hostname===h}if(!HTTP_REGEX.test(a))return!1;if(IP_ADDRESS_REGEX.test(s))return h===s;const d=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(h)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const s=_window().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let a=0;a<s.CP.length;a++)s.CP[a]=null}}function loadGapi(s){return new Promise((e,a)=>{var h,d,g;function _(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),a(_createError(s,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((d=(h=_window().gapi)===null||h===void 0?void 0:h.iframes)===null||d===void 0)&&d.Iframe)e(gapi.iframes.getContext());else if(!((g=_window().gapi)===null||g===void 0)&&g.load)_();else{const b=_generateCallbackName("iframefcb");return _window()[b]=()=>{gapi.load?_():a(_createError(s,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${b}`).catch(et=>a(et))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(s){return cachedGApiLoader=cachedGApiLoader||loadGapi(s),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(s){const e=s.config;_assert(e.authDomain,s,"auth-domain-config-required");const a=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${s.config.authDomain}/${IFRAME_PATH}`,h={apiKey:e.apiKey,appName:s.name,v:SDK_VERSION},d=EID_FROM_APIHOST.get(s.config.apiHost);d&&(h.eid=d);const g=s._getFrameworks();return g.length&&(h.fw=g.join(",")),`${a}?${querystring$2(h).slice(1)}`}async function _openIframe(s){const e=await _loadGapi(s),a=_window().gapi;return _assert(a,s,"internal-error"),e.open({where:document.body,url:getIframeUrl(s),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},h=>new Promise(async(d,g)=>{await h.restyle({setHideOnLeave:!1});const _=_createError(s,"network-request-failed"),b=_window().setTimeout(()=>{g(_)},PING_TIMEOUT.get());function et(){_window().clearTimeout(b),d(h)}h.ping(et).then(et,()=>{g(_)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(s,e,a,h=DEFAULT_WIDTH,d=DEFAULT_HEIGHT){const g=Math.max((window.screen.availHeight-d)/2,0).toString(),_=Math.max((window.screen.availWidth-h)/2,0).toString();let b="";const et=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:h.toString(),height:d.toString(),top:g,left:_}),ot=getUA().toLowerCase();a&&(b=_isChromeIOS(ot)?TARGET_BLANK:a),_isFirefox(ot)&&(e=e||FIREFOX_EMPTY_URL,et.scrollbars="yes");const gt=Object.entries(et).reduce((mt,[St,_t])=>`${mt}${St}=${_t},`,"");if(_isIOSStandalone(ot)&&b!=="_self")return openAsNewWindowIOS(e||"",b),new AuthPopup(null);const yt=window.open(e||"",b,gt);_assert(yt,s,"popup-blocked");try{yt.focus()}catch{}return new AuthPopup(yt)}function openAsNewWindowIOS(s,e){const a=document.createElement("a");a.href=s,a.target=e;const h=document.createEvent("MouseEvent");h.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(s,e,a,h,d,g){_assert(s.config.authDomain,s,"auth-domain-config-required"),_assert(s.config.apiKey,s,"invalid-api-key");const _={apiKey:s.config.apiKey,appName:s.name,authType:a,redirectUrl:h,v:SDK_VERSION,eventId:d};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(s.languageCode),_.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(_.customParameters=JSON.stringify(e.getCustomParameters()));for(const[et,ot]of Object.entries(g||{}))_[et]=ot}if(e instanceof BaseOAuthProvider){const et=e.getScopes().filter(ot=>ot!=="");et.length>0&&(_.scopes=et.join(","))}s.tenantId&&(_.tid=s.tenantId);const b=_;for(const et of Object.keys(b))b[et]===void 0&&delete b[et];return`${getHandlerBase(s)}?${querystring$2(b).slice(1)}`}function getHandlerBase({config:s}){return s.emulator?_emulatorUrl(s,EMULATOR_WIDGET_PATH):`https://${s.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,a,h,d){var g;debugAssert((g=this.eventManagers[e._key()])===null||g===void 0?void 0:g.manager,"_initialize() not called before _openPopup()");const _=_getRedirectUrl(e,a,h,_getCurrentUrl(),d);return _open(e,_,_generateEventId())}async _openRedirect(e,a,h,d){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,a,h,_getCurrentUrl(),d)),new Promise(()=>{})}_initialize(e){const a=e._key();if(this.eventManagers[a]){const{manager:d,promise:g}=this.eventManagers[a];return d?Promise.resolve(d):(debugAssert(g,"If manager is not set, promise should be"),g)}const h=this.initAndGetManager(e);return this.eventManagers[a]={promise:h},h.catch(()=>{delete this.eventManagers[a]}),h}async initAndGetManager(e){const a=await _openIframe(e),h=new AuthEventManager(e);return a.register("authEvent",d=>(_assert(d==null?void 0:d.authEvent,e,"invalid-auth-event"),{status:h.onEvent(d.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:h},this.iframes[e._key()]=a,h}_isIframeWebStorageSupported(e,a){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},d=>{var g;const _=(g=d==null?void 0:d[0])===null||g===void 0?void 0:g[WEB_STORAGE_SUPPORT_KEY];_!==void 0&&a(!!_),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const a=e._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=_validateOrigin(e)),this.originValidationPromises[a]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$1="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(h=>{var d;e(((d=h)===null||d===void 0?void 0:d.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);!a||(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(s){_registerComponent(new Component("auth",(e,{options:a})=>{const h=e.getProvider("app").getImmediate(),d=e.getProvider("heartbeat"),{apiKey:g,authDomain:_}=h.options;return((b,et)=>{_assert(g&&!g.includes(":"),"invalid-api-key",{appName:b.name}),_assert(!(_!=null&&_.includes(":")),"argument-error",{appName:b.name});const ot={apiKey:g,authDomain:_,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(s)},gt=new AuthImpl(b,et,ot);return _initializeAuthInstance(gt,a),gt})(h,d)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,h)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const a=_castAuth(e.getProvider("auth").getImmediate());return(h=>new AuthInterop(h))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$1,getVersionForPlatform(s)),registerVersion(name$1,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAuth(s=getApp()){const e=_getProvider(s,"auth");return e.isInitialized()?e.getImmediate():initializeAuth(s,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]})}registerAuth("Browser");var name="firebase",version="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},k$2,goog=goog||{},l$2=commonjsGlobal||self;function aa$1(){}function ba$1(s){var e=typeof s;return e=e!="object"?e:s?Array.isArray(s)?"array":e:"null",e=="array"||e=="object"&&typeof s.length=="number"}function p$1(s){var e=typeof s;return e=="object"&&s!=null||e=="function"}function da(s){return Object.prototype.hasOwnProperty.call(s,ea)&&s[ea]||(s[ea]=++fa)}var ea="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(s,e,a){return s.call.apply(s.bind,arguments)}function ia(s,e,a){if(!s)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,h),s.apply(e,d)}}return function(){return s.apply(e,arguments)}}function q$1(s,e,a){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=ha:q$1=ia,q$1.apply(null,arguments)}function ja(s,e){var a=Array.prototype.slice.call(arguments,1);return function(){var h=a.slice();return h.push.apply(h,arguments),s.apply(this,h)}}function t(s,e){function a(){}a.prototype=e.prototype,s.Z=e.prototype,s.prototype=new a,s.prototype.constructor=s,s.Vb=function(h,d,g){for(var _=Array(arguments.length-2),b=2;b<arguments.length;b++)_[b-2]=arguments[b];return e.prototype[d].apply(h,_)}}function v(){this.s=this.s,this.o=this.o}var ka=0;v.prototype.s=!1;v.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ka!=0)&&da(this)};v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma$1=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if(typeof s=="string")return typeof e!="string"||e.length!=1?-1:s.indexOf(e,0);for(let a=0;a<s.length;a++)if(a in s&&s[a]===e)return a;return-1},na$1=Array.prototype.forEach?function(s,e,a){Array.prototype.forEach.call(s,e,a)}:function(s,e,a){const h=s.length,d=typeof s=="string"?s.split(""):s;for(let g=0;g<h;g++)g in d&&e.call(a,d[g],g,s)};function oa(s){e:{var e=pa$1;const a=s.length,h=typeof s=="string"?s.split(""):s;for(let d=0;d<a;d++)if(d in h&&e.call(void 0,h[d],d,s)){e=d;break e}e=-1}return 0>e?null:typeof s=="string"?s.charAt(e):s[e]}function qa(s){return Array.prototype.concat.apply([],arguments)}function ra(s){const e=s.length;if(0<e){const a=Array(e);for(let h=0;h<e;h++)a[h]=s[h];return a}return[]}function sa$1(s){return/^[\s\xa0]*$/.test(s)}var ta=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function w(s,e){return s.indexOf(e)!=-1}function ua(s,e){return s<e?-1:s>e?1:0}var x$1;e:{var va$1=l$2.navigator;if(va$1){var wa$1=va$1.userAgent;if(wa$1){x$1=wa$1;break e}}x$1=""}function xa(s,e,a){for(const h in s)e.call(a,s[h],h,s)}function ya$1(s){const e={};for(const a in s)e[a]=s[a];return e}var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa$1(s,e){let a,h;for(let d=1;d<arguments.length;d++){h=arguments[d];for(a in h)s[a]=h[a];for(let g=0;g<za.length;g++)a=za[g],Object.prototype.hasOwnProperty.call(h,a)&&(s[a]=h[a])}}function Ca(s){return Ca[" "](s),s}Ca[" "]=aa$1;function Fa$1(s){var e=Ga;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}var Ha=w(x$1,"Opera"),y=w(x$1,"Trident")||w(x$1,"MSIE"),Ia$1=w(x$1,"Edge"),Ja=Ia$1||y,Ka=w(x$1,"Gecko")&&!(w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge"))&&!(w(x$1,"Trident")||w(x$1,"MSIE"))&&!w(x$1,"Edge"),La$1=w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge");function Ma(){var s=l$2.document;return s?s.documentMode:void 0}var Na$1;e:{var Oa="",Pa$1=function(){var s=x$1;if(Ka)return/rv:([^\);]+)(\)|;)/.exec(s);if(Ia$1)return/Edge\/([\d\.]+)/.exec(s);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(La$1)return/WebKit\/(\S+)/.exec(s);if(Ha)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Pa$1&&(Oa=Pa$1?Pa$1[1]:""),y){var Qa=Ma();if(Qa!=null&&Qa>parseFloat(Oa)){Na$1=String(Qa);break e}}Na$1=Oa}var Ga={};function Ra(){return Fa$1(function(){let s=0;const e=ta(String(Na$1)).split("."),a=ta("9").split("."),h=Math.max(e.length,a.length);for(let _=0;s==0&&_<h;_++){var d=e[_]||"",g=a[_]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],d[0].length==0&&g[0].length==0)break;s=ua(d[1].length==0?0:parseInt(d[1],10),g[1].length==0?0:parseInt(g[1],10))||ua(d[2].length==0,g[2].length==0)||ua(d[2],g[2]),d=d[3],g=g[3]}while(s==0)}return 0<=s})}var Sa;if(l$2.document&&y){var Ta=Ma();Sa=Ta||parseInt(Na$1,10)||void 0}else Sa=void 0;var Ua$1=Sa,Va$1=function(){if(!l$2.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{l$2.addEventListener("test",aa$1,e),l$2.removeEventListener("test",aa$1,e)}catch{}return s}();function z$1(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}z$1.prototype.h=function(){this.defaultPrevented=!0};function A(s,e){if(z$1.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var a=this.type=s.type,h=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Ka){e:{try{Ca(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else a=="mouseover"?e=s.fromElement:a=="mouseout"&&(e=s.toElement);this.relatedTarget=e,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Wa[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&A.Z.h.call(this)}}t(A,z$1);var Wa={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var B$1="closure_listenable_"+(1e6*Math.random()|0),Xa=0;function Ya(s,e,a,h,d){this.listener=s,this.proxy=null,this.src=e,this.type=a,this.capture=!!h,this.ia=d,this.key=++Xa,this.ca=this.fa=!1}function Za$1(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function $a(s){this.src=s,this.g={},this.h=0}$a.prototype.add=function(s,e,a,h,d){var g=s.toString();s=this.g[g],s||(s=this.g[g]=[],this.h++);var _=ab(s,e,h,d);return-1<_?(e=s[_],a||(e.fa=!1)):(e=new Ya(e,this.src,g,!!h,d),e.fa=a,s.push(e)),e};function bb(s,e){var a=e.type;if(a in s.g){var h=s.g[a],d=ma$1(h,e),g;(g=0<=d)&&Array.prototype.splice.call(h,d,1),g&&(Za$1(e),s.g[a].length==0&&(delete s.g[a],s.h--))}}function ab(s,e,a,h){for(var d=0;d<s.length;++d){var g=s[d];if(!g.ca&&g.listener==e&&g.capture==!!a&&g.ia==h)return d}return-1}var cb="closure_lm_"+(1e6*Math.random()|0),db$1={};function fb(s,e,a,h,d){if(h&&h.once)return gb(s,e,a,h,d);if(Array.isArray(e)){for(var g=0;g<e.length;g++)fb(s,e[g],a,h,d);return null}return a=hb(a),s&&s[B$1]?s.N(e,a,p$1(h)?!!h.capture:!!h,d):ib(s,e,a,!1,h,d)}function ib(s,e,a,h,d,g){if(!e)throw Error("Invalid event type");var _=p$1(d)?!!d.capture:!!d,b=jb(s);if(b||(s[cb]=b=new $a(s)),a=b.add(e,a,h,_,g),a.proxy)return a;if(h=kb(),a.proxy=h,h.src=s,h.listener=a,s.addEventListener)Va$1||(d=_),d===void 0&&(d=!1),s.addEventListener(e.toString(),h,d);else if(s.attachEvent)s.attachEvent(lb(e.toString()),h);else if(s.addListener&&s.removeListener)s.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return a}function kb(){function s(a){return e.call(s.src,s.listener,a)}var e=mb;return s}function gb(s,e,a,h,d){if(Array.isArray(e)){for(var g=0;g<e.length;g++)gb(s,e[g],a,h,d);return null}return a=hb(a),s&&s[B$1]?s.O(e,a,p$1(h)?!!h.capture:!!h,d):ib(s,e,a,!0,h,d)}function nb(s,e,a,h,d){if(Array.isArray(e))for(var g=0;g<e.length;g++)nb(s,e[g],a,h,d);else h=p$1(h)?!!h.capture:!!h,a=hb(a),s&&s[B$1]?(s=s.i,e=String(e).toString(),e in s.g&&(g=s.g[e],a=ab(g,a,h,d),-1<a&&(Za$1(g[a]),Array.prototype.splice.call(g,a,1),g.length==0&&(delete s.g[e],s.h--)))):s&&(s=jb(s))&&(e=s.g[e.toString()],s=-1,e&&(s=ab(e,a,h,d)),(a=-1<s?e[s]:null)&&ob(a))}function ob(s){if(typeof s!="number"&&s&&!s.ca){var e=s.src;if(e&&e[B$1])bb(e.i,s);else{var a=s.type,h=s.proxy;e.removeEventListener?e.removeEventListener(a,h,s.capture):e.detachEvent?e.detachEvent(lb(a),h):e.addListener&&e.removeListener&&e.removeListener(h),(a=jb(e))?(bb(a,s),a.h==0&&(a.src=null,e[cb]=null)):Za$1(s)}}}function lb(s){return s in db$1?db$1[s]:db$1[s]="on"+s}function mb(s,e){if(s.ca)s=!0;else{e=new A(e,this);var a=s.listener,h=s.ia||s.src;s.fa&&ob(s),s=a.call(h,e)}return s}function jb(s){return s=s[cb],s instanceof $a?s:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(s){return typeof s=="function"?s:(s[pb]||(s[pb]=function(e){return s.handleEvent(e)}),s[pb])}function C$1(){v.call(this),this.i=new $a(this),this.P=this,this.I=null}t(C$1,v);C$1.prototype[B$1]=!0;C$1.prototype.removeEventListener=function(s,e,a,h){nb(this,s,e,a,h)};function D$1(s,e){var a,h=s.I;if(h)for(a=[];h;h=h.I)a.push(h);if(s=s.P,h=e.type||e,typeof e=="string")e=new z$1(e,s);else if(e instanceof z$1)e.target=e.target||s;else{var d=e;e=new z$1(h,s),Aa$1(e,d)}if(d=!0,a)for(var g=a.length-1;0<=g;g--){var _=e.g=a[g];d=qb(_,h,!0,e)&&d}if(_=e.g=s,d=qb(_,h,!0,e)&&d,d=qb(_,h,!1,e)&&d,a)for(g=0;g<a.length;g++)_=e.g=a[g],d=qb(_,h,!1,e)&&d}C$1.prototype.M=function(){if(C$1.Z.M.call(this),this.i){var s=this.i,e;for(e in s.g){for(var a=s.g[e],h=0;h<a.length;h++)Za$1(a[h]);delete s.g[e],s.h--}}this.I=null};C$1.prototype.N=function(s,e,a,h){return this.i.add(String(s),e,!1,a,h)};C$1.prototype.O=function(s,e,a,h){return this.i.add(String(s),e,!0,a,h)};function qb(s,e,a,h){if(e=s.i.g[String(e)],!e)return!0;e=e.concat();for(var d=!0,g=0;g<e.length;++g){var _=e[g];if(_&&!_.ca&&_.capture==a){var b=_.listener,et=_.ia||_.src;_.fa&&bb(s.i,_),d=b.call(et,h)!==!1&&d}}return d&&!h.defaultPrevented}var rb=l$2.JSON.stringify;function sb(){var s=tb;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}class ub{constructor(){this.h=this.g=null}add(e,a){const h=vb.get();h.set(e,a),this.h?this.h.next=h:this.g=h,this.h=h}}var vb=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new wb,s=>s.reset());class wb{constructor(){this.next=this.g=this.h=null}set(e,a){this.h=e,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}function yb(s){l$2.setTimeout(()=>{throw s},0)}function zb(s,e){Ab||Bb(),Cb||(Ab(),Cb=!0),tb.add(s,e)}var Ab;function Bb(){var s=l$2.Promise.resolve(void 0);Ab=function(){s.then(Db)}}var Cb=!1,tb=new ub;function Db(){for(var s;s=sb();){try{s.h.call(s.g)}catch(a){yb(a)}var e=vb;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Cb=!1}function Eb(s,e){C$1.call(this),this.h=s||1,this.g=e||l$2,this.j=q$1(this.kb,this),this.l=Date.now()}t(Eb,C$1);k$2=Eb.prototype;k$2.da=!1;k$2.S=null;k$2.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D$1(this,"tick"),this.da&&(Fb(this),this.start()))}};k$2.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fb(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}k$2.M=function(){Eb.Z.M.call(this),Fb(this),delete this.g};function Gb(s,e,a){if(typeof s=="function")a&&(s=q$1(s,a));else if(s&&typeof s.handleEvent=="function")s=q$1(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l$2.setTimeout(s,e||0)}function Hb(s){s.g=Gb(()=>{s.g=null,s.i&&(s.i=!1,Hb(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}class Ib extends v{constructor(e,a){super(),this.m=e,this.j=a,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hb(this)}M(){super.M(),this.g&&(l$2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E(s){v.call(this),this.h=s,this.g={}}t(E,v);var Jb=[];function Kb(s,e,a,h){Array.isArray(a)||(a&&(Jb[0]=a.toString()),a=Jb);for(var d=0;d<a.length;d++){var g=fb(e,a[d],h||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function Lb(s){xa(s.g,function(e,a){this.g.hasOwnProperty(a)&&ob(e)},s),s.g={}}E.prototype.M=function(){E.Z.M.call(this),Lb(this)};E.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mb(){this.g=!0}Mb.prototype.Aa=function(){this.g=!1};function Nb(s,e,a,h,d,g){s.info(function(){if(s.g)if(g)for(var _="",b=g.split("&"),et=0;et<b.length;et++){var ot=b[et].split("=");if(1<ot.length){var gt=ot[0];ot=ot[1];var yt=gt.split("_");_=2<=yt.length&&yt[1]=="type"?_+(gt+"="+ot+"&"):_+(gt+"=redacted&")}}else _=null;else _=g;return"XMLHTTP REQ ("+h+") [attempt "+d+"]: "+e+`
`+a+`
`+_})}function Ob(s,e,a,h,d,g,_){s.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+d+"]: "+e+`
`+a+`
`+g+" "+_})}function F$1(s,e,a,h){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pb(s,a)+(h?" "+h:"")})}function Qb(s,e){s.info(function(){return"TIMEOUT: "+e})}Mb.prototype.info=function(){};function Pb(s,e){if(!s.g)return e;if(!e)return null;try{var a=JSON.parse(e);if(a){for(s=0;s<a.length;s++)if(Array.isArray(a[s])){var h=a[s];if(!(2>h.length)){var d=h[1];if(Array.isArray(d)&&!(1>d.length)){var g=d[0];if(g!="noop"&&g!="stop"&&g!="close")for(var _=1;_<d.length;_++)d[_]=""}}}}return rb(a)}catch{return e}}var H={},Rb=null;function Sb(){return Rb=Rb||new C$1}H.Ma="serverreachability";function Tb(s){z$1.call(this,H.Ma,s)}t(Tb,z$1);function I(s){const e=Sb();D$1(e,new Tb(e))}H.STAT_EVENT="statevent";function Ub(s,e){z$1.call(this,H.STAT_EVENT,s),this.stat=e}t(Ub,z$1);function J$1(s){const e=Sb();D$1(e,new Ub(e,s))}H.Na="timingevent";function Vb(s,e){z$1.call(this,H.Na,s),this.size=e}t(Vb,z$1);function K$1(s,e){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l$2.setTimeout(function(){s()},e)}var Wb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yb(){}Yb.prototype.h=null;function Zb(s){return s.h||(s.h=s.i())}function $b(){}var L$1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ac$1(){z$1.call(this,"d")}t(ac$1,z$1);function bc$1(){z$1.call(this,"c")}t(bc$1,z$1);var cc$1;function dc$1(){}t(dc$1,Yb);dc$1.prototype.g=function(){return new XMLHttpRequest};dc$1.prototype.i=function(){return{}};cc$1=new dc$1;function M$1(s,e,a,h){this.l=s,this.j=e,this.m=a,this.X=h||1,this.V=new E(this),this.P=ec$1,s=Ja?125:void 0,this.W=new Eb(s),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fc$1}function fc$1(){this.i=null,this.g="",this.h=!1}var ec$1=45e3,gc$1={},hc$1={};k$2=M$1.prototype;k$2.setTimeout=function(s){this.P=s};function ic$1(s,e,a){s.K=1,s.v=jc(N$1(e)),s.s=a,s.U=!0,kc(s,null)}function kc(s,e){s.F=Date.now(),lc$1(s),s.A=N$1(s.v);var a=s.A,h=s.X;Array.isArray(h)||(h=[String(h)]),mc(a.h,"t",h),s.C=0,a=s.l.H,s.h=new fc$1,s.g=nc$1(s.l,a?e:null,!s.s),0<s.O&&(s.L=new Ib(q$1(s.Ia,s,s.g),s.O)),Kb(s.V,s.g,"readystatechange",s.gb),e=s.H?ya$1(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),I(),Nb(s.j,s.u,s.A,s.m,s.X,s.s)}k$2.gb=function(s){s=s.target;const e=this.L;e&&O(s)==3?e.l():this.Ia(s)};k$2.Ia=function(s){try{if(s==this.g)e:{const gt=O(this.g);var e=this.g.Da();const yt=this.g.ba();if(!(3>gt)&&(gt!=3||Ja||this.g&&(this.h.h||this.g.ga()||oc$1(this.g)))){this.I||gt!=4||e==7||(e==8||0>=yt?I(3):I(2)),pc$1(this);var a=this.g.ba();this.N=a;t:if(qc$1(this)){var h=oc$1(this.g);s="";var d=h.length,g=O(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){P(this),rc$1(this);var _="";break t}this.h.i=new l$2.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,s+=this.h.i.decode(h[e],{stream:g&&e==d-1});h.splice(0,d),this.h.g+=s,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=a==200,Ob(this.j,this.u,this.A,this.m,this.X,gt,a),this.i){if(this.$&&!this.J){t:{if(this.g){var b,et=this.g;if((b=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa$1(b)){var ot=b;break t}}ot=null}if(a=ot)F$1(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc$1(this,a);else{this.i=!1,this.o=3,J$1(12),P(this),rc$1(this);break e}}this.U?(tc(this,gt,_),Ja&&this.i&&gt==3&&(Kb(this.V,this.W,"tick",this.fb),this.W.start())):(F$1(this.j,this.m,_,null),sc$1(this,_)),gt==4&&P(this),this.i&&!this.I&&(gt==4?uc$1(this.l,this):(this.i=!1,lc$1(this)))}else a==400&&0<_.indexOf("Unknown SID")?(this.o=3,J$1(12)):(this.o=0,J$1(13)),P(this),rc$1(this)}}}catch{}finally{}};function qc$1(s){return s.g?s.u=="GET"&&s.K!=2&&s.l.Ba:!1}function tc(s,e,a){let h=!0,d;for(;!s.I&&s.C<a.length;)if(d=vc(s,a),d==hc$1){e==4&&(s.o=4,J$1(14),h=!1),F$1(s.j,s.m,null,"[Incomplete Response]");break}else if(d==gc$1){s.o=4,J$1(15),F$1(s.j,s.m,a,"[Invalid Chunk]"),h=!1;break}else F$1(s.j,s.m,d,null),sc$1(s,d);qc$1(s)&&d!=hc$1&&d!=gc$1&&(s.h.g="",s.C=0),e!=4||a.length!=0||s.h.h||(s.o=1,J$1(16),h=!1),s.i=s.i&&h,h?0<a.length&&!s.aa&&(s.aa=!0,e=s.l,e.g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),wc$1(e),e.L=!0,J$1(11))):(F$1(s.j,s.m,a,"[Invalid Chunked Response]"),P(s),rc$1(s))}k$2.fb=function(){if(this.g){var s=O(this.g),e=this.g.ga();this.C<e.length&&(pc$1(this),tc(this,s,e),this.i&&s!=4&&lc$1(this))}};function vc(s,e){var a=s.C,h=e.indexOf(`
`,a);return h==-1?hc$1:(a=Number(e.substring(a,h)),isNaN(a)?gc$1:(h+=1,h+a>e.length?hc$1:(e=e.substr(h,a),s.C=h+a,e)))}k$2.cancel=function(){this.I=!0,P(this)};function lc$1(s){s.Y=Date.now()+s.P,xc(s,s.P)}function xc(s,e){if(s.B!=null)throw Error("WatchDog timer not null");s.B=K$1(q$1(s.eb,s),e)}function pc$1(s){s.B&&(l$2.clearTimeout(s.B),s.B=null)}k$2.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(Qb(this.j,this.A),this.K!=2&&(I(),J$1(17)),P(this),this.o=2,rc$1(this)):xc(this,this.Y-s)};function rc$1(s){s.l.G==0||s.I||uc$1(s.l,s)}function P(s){pc$1(s);var e=s.L;e&&typeof e.na=="function"&&e.na(),s.L=null,Fb(s.W),Lb(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function sc$1(s,e){try{var a=s.l;if(a.G!=0&&(a.g==s||yc$1(a.i,s))){if(a.I=s.N,!s.J&&yc$1(a.i,s)&&a.G==3){try{var h=a.Ca.g.parse(e)}catch{h=null}if(Array.isArray(h)&&h.length==3){var d=h;if(d[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<s.F)zc$1(a),Ac$1(a);else break e;Bc$1(a),J$1(18)}}else a.ta=d[1],0<a.ta-a.U&&37500>d[2]&&a.N&&a.A==0&&!a.v&&(a.v=K$1(q$1(a.ab,a),6e3));if(1>=Cc(a.i)&&a.ka){try{a.ka()}catch{}a.ka=void 0}}else Q$1(a,11)}else if((s.J||a.g==s)&&zc$1(a),!sa$1(e))for(d=a.Ca.g.parse(e),e=0;e<d.length;e++){let ot=d[e];if(a.U=ot[0],ot=ot[1],a.G==2)if(ot[0]=="c"){a.J=ot[1],a.la=ot[2];const gt=ot[3];gt!=null&&(a.ma=gt,a.h.info("VER="+a.ma));const yt=ot[4];yt!=null&&(a.za=yt,a.h.info("SVER="+a.za));const mt=ot[5];mt!=null&&typeof mt=="number"&&0<mt&&(h=1.5*mt,a.K=h,a.h.info("backChannelRequestTimeoutMs_="+h)),h=a;const St=s.g;if(St){const _t=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_t){var g=h.i;!g.g&&(w(_t,"spdy")||w(_t,"quic")||w(_t,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(Dc(g,g.h),g.h=null))}if(h.D){const xt=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;xt&&(h.sa=xt,R(h.F,h.D,xt))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-s.F,a.h.info("Handshake RTT: "+a.O+"ms")),h=a;var _=s;if(h.oa=Ec$1(h,h.H?h.la:null,h.W),_.J){Fc$1(h.i,_);var b=_,et=h.K;et&&b.setTimeout(et),b.B&&(pc$1(b),lc$1(b)),h.g=_}else Gc$1(h);0<a.l.length&&Hc$1(a)}else ot[0]!="stop"&&ot[0]!="close"||Q$1(a,7);else a.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Q$1(a,7):Ic$1(a):ot[0]!="noop"&&a.j&&a.j.wa(ot),a.A=0)}}I(4)}catch{}}function Jc$1(s){if(s.R&&typeof s.R=="function")return s.R();if(typeof s=="string")return s.split("");if(ba$1(s)){for(var e=[],a=s.length,h=0;h<a;h++)e.push(s[h]);return e}e=[],a=0;for(h in s)e[a++]=s[h];return e}function Kc(s,e){if(s.forEach&&typeof s.forEach=="function")s.forEach(e,void 0);else if(ba$1(s)||typeof s=="string")na$1(s,e,void 0);else{if(s.T&&typeof s.T=="function")var a=s.T();else if(s.R&&typeof s.R=="function")a=void 0;else if(ba$1(s)||typeof s=="string"){a=[];for(var h=s.length,d=0;d<h;d++)a.push(d)}else for(d in a=[],h=0,s)a[h++]=d;h=Jc$1(s),d=h.length;for(var g=0;g<d;g++)e.call(void 0,h[g],a&&a[g],s)}}function S(s,e){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var h=0;h<a;h+=2)this.set(arguments[h],arguments[h+1])}else if(s)if(s instanceof S)for(a=s.T(),h=0;h<a.length;h++)this.set(a[h],s.get(a[h]));else for(h in s)this.set(h,s[h])}k$2=S.prototype;k$2.R=function(){Lc(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s};k$2.T=function(){return Lc(this),this.g.concat()};function Lc(s){if(s.i!=s.g.length){for(var e=0,a=0;e<s.g.length;){var h=s.g[e];T(s.h,h)&&(s.g[a++]=h),e++}s.g.length=a}if(s.i!=s.g.length){var d={};for(a=e=0;e<s.g.length;)h=s.g[e],T(d,h)||(s.g[a++]=h,d[h]=1),e++;s.g.length=a}}k$2.get=function(s,e){return T(this.h,s)?this.h[s]:e};k$2.set=function(s,e){T(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e};k$2.forEach=function(s,e){for(var a=this.T(),h=0;h<a.length;h++){var d=a[h],g=this.get(d);s.call(e,g,d,this)}};function T(s,e){return Object.prototype.hasOwnProperty.call(s,e)}var Mc$1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc(s,e){if(s){s=s.split("&");for(var a=0;a<s.length;a++){var h=s[a].indexOf("="),d=null;if(0<=h){var g=s[a].substring(0,h);d=s[a].substring(h+1)}else g=s[a];e(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function U$1(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof U$1){this.g=e!==void 0?e:s.g,Oc(this,s.j),this.s=s.s,Pc$1(this,s.i),Qc(this,s.m),this.l=s.l,e=s.h;var a=new Rc$1;a.i=e.i,e.g&&(a.g=new S(e.g),a.h=e.h),Sc(this,a),this.o=s.o}else s&&(a=String(s).match(Mc$1))?(this.g=!!e,Oc(this,a[1]||"",!0),this.s=Tc$1(a[2]||""),Pc$1(this,a[3]||"",!0),Qc(this,a[4]),this.l=Tc$1(a[5]||"",!0),Sc(this,a[6]||"",!0),this.o=Tc$1(a[7]||"")):(this.g=!!e,this.h=new Rc$1(null,this.g))}U$1.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Uc(e,Vc,!0),":");var a=this.i;return(a||e=="file")&&(s.push("//"),(e=this.s)&&s.push(Uc(e,Vc,!0),"@"),s.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.m,a!=null&&s.push(":",String(a))),(a=this.l)&&(this.i&&a.charAt(0)!="/"&&s.push("/"),s.push(Uc(a,a.charAt(0)=="/"?Wc:Xc$1,!0))),(a=this.h.toString())&&s.push("?",a),(a=this.o)&&s.push("#",Uc(a,Yc$1)),s.join("")};function N$1(s){return new U$1(s)}function Oc(s,e,a){s.j=a?Tc$1(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Pc$1(s,e,a){s.i=a?Tc$1(e,!0):e}function Qc(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Sc(s,e,a){e instanceof Rc$1?(s.h=e,Zc(s.h,s.g)):(a||(e=Uc(e,$c)),s.h=new Rc$1(e,s.g))}function R(s,e,a){s.h.set(e,a)}function jc(s){return R(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ad(s){return s instanceof U$1?N$1(s):new U$1(s,void 0)}function bd(s,e,a,h){var d=new U$1(null,void 0);return s&&Oc(d,s),e&&Pc$1(d,e),a&&Qc(d,a),h&&(d.l=h),d}function Tc$1(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Uc(s,e,a){return typeof s=="string"?(s=encodeURI(s).replace(e,cd),a&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function cd(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Vc=/[#\/\?@]/g,Xc$1=/[#\?:]/g,Wc=/[#\?]/g,$c=/[#\?@]/g,Yc$1=/#/g;function Rc$1(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function V(s){s.g||(s.g=new S,s.h=0,s.i&&Nc(s.i,function(e,a){s.add(decodeURIComponent(e.replace(/\+/g," ")),a)}))}k$2=Rc$1.prototype;k$2.add=function(s,e){V(this),this.i=null,s=W$1(this,s);var a=this.g.get(s);return a||this.g.set(s,a=[]),a.push(e),this.h+=1,this};function dd(s,e){V(s),e=W$1(s,e),T(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,s=s.g,T(s.h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&Lc(s)))}function ed(s,e){return V(s),e=W$1(s,e),T(s.g.h,e)}k$2.forEach=function(s,e){V(this),this.g.forEach(function(a,h){na$1(a,function(d){s.call(e,d,h,this)},this)},this)};k$2.T=function(){V(this);for(var s=this.g.R(),e=this.g.T(),a=[],h=0;h<e.length;h++)for(var d=s[h],g=0;g<d.length;g++)a.push(e[h]);return a};k$2.R=function(s){V(this);var e=[];if(typeof s=="string")ed(this,s)&&(e=qa(e,this.g.get(W$1(this,s))));else{s=this.g.R();for(var a=0;a<s.length;a++)e=qa(e,s[a])}return e};k$2.set=function(s,e){return V(this),this.i=null,s=W$1(this,s),ed(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this};k$2.get=function(s,e){return s?(s=this.R(s),0<s.length?String(s[0]):e):e};function mc(s,e,a){dd(s,e),0<a.length&&(s.i=null,s.g.set(W$1(s,e),ra(a)),s.h+=a.length)}k$2.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),a=0;a<e.length;a++){var h=e[a],d=encodeURIComponent(String(h));h=this.R(h);for(var g=0;g<h.length;g++){var _=d;h[g]!==""&&(_+="="+encodeURIComponent(String(h[g]))),s.push(_)}}return this.i=s.join("&")};function W$1(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Zc(s,e){e&&!s.j&&(V(s),s.i=null,s.g.forEach(function(a,h){var d=h.toLowerCase();h!=d&&(dd(this,h),mc(this,d,a))},s)),s.j=e}var fd=class{constructor(s,e){this.h=s,this.g=e}};function gd(s){this.l=s||hd,l$2.PerformanceNavigationTiming?(s=l$2.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l$2.g&&l$2.g.Ea&&l$2.g.Ea()&&l$2.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hd=10;function id(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Cc(s){return s.h?1:s.g?s.g.size:0}function yc$1(s,e){return s.h?s.h==e:s.g?s.g.has(e):!1}function Dc(s,e){s.g?s.g.add(e):s.h=e}function Fc$1(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}gd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function jd(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let e=s.i;for(const a of s.g.values())e=e.concat(a.D);return e}return ra(s.i)}function kd(){}kd.prototype.stringify=function(s){return l$2.JSON.stringify(s,void 0)};kd.prototype.parse=function(s){return l$2.JSON.parse(s,void 0)};function ld(){this.g=new kd}function md(s,e,a){const h=a||"";try{Kc(s,function(d,g){let _=d;p$1(d)&&(_=rb(d)),e.push(h+g+"="+encodeURIComponent(_))})}catch(d){throw e.push(h+"type="+encodeURIComponent("_badmap")),d}}function nd(s,e){const a=new Mb;if(l$2.Image){const h=new Image;h.onload=ja(od,a,h,"TestLoadImage: loaded",!0,e),h.onerror=ja(od,a,h,"TestLoadImage: error",!1,e),h.onabort=ja(od,a,h,"TestLoadImage: abort",!1,e),h.ontimeout=ja(od,a,h,"TestLoadImage: timeout",!1,e),l$2.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=s}else e(!1)}function od(s,e,a,h,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(h)}catch{}}function pd(s){this.l=s.$b||null,this.j=s.ib||!1}t(pd,Yb);pd.prototype.g=function(){return new qd(this.l,this.j)};pd.prototype.i=function(s){return function(){return s}}({});function qd(s,e){C$1.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(qd,C$1);var rd=0;k$2=qd.prototype;k$2.open=function(s,e){if(this.readyState!=rd)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,sd(this)};k$2.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||l$2).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};k$2.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=rd};k$2.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof l$2.ReadableStream!="undefined"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ud(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))};function ud(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}k$2.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?td(this):sd(this),this.readyState==3&&ud(this)}};k$2.Ua=function(s){this.g&&(this.response=this.responseText=s,td(this))};k$2.Ta=function(s){this.g&&(this.response=s,td(this))};k$2.ha=function(){this.g&&td(this)};function td(s){s.readyState=4,s.l=null,s.j=null,s.A=null,sd(s)}k$2.setRequestHeader=function(s,e){this.v.append(s,e)};k$2.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""};k$2.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var a=e.next();!a.done;)a=a.value,s.push(a[0]+": "+a[1]),a=e.next();return s.join(`\r
`)};function sd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});var vd=l$2.JSON.parse;function X$1(s){C$1.call(this),this.headers=new S,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}t(X$1,C$1);var wd="",xd=/^https?$/i,yd=["POST","PUT"];k$2=X$1.prototype;k$2.ea=function(s,e,a,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc$1.g(),this.C=this.u?Zb(this.u):Zb(cc$1),this.g.onreadystatechange=q$1(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(g){zd(this,g);return}s=a||"";const d=new S(this.headers);h&&Kc(h,function(g,_){d.set(_,g)}),h=oa(d.T()),a=l$2.FormData&&s instanceof l$2.FormData,!(0<=ma$1(yd,e))||h||a||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(g,_){this.g.setRequestHeader(_,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ad(this),0<this.B&&((this.K=Bd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){zd(this,g)}};function Bd(s){return y&&Ra()&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function pa$1(s){return s.toLowerCase()=="content-type"}k$2.pa=function(){typeof goog!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D$1(this,"timeout"),this.abort(8))};function zd(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Cd(s),Dd(s)}function Cd(s){s.D||(s.D=!0,D$1(s,"complete"),D$1(s,"error"))}k$2.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,D$1(this,"complete"),D$1(this,"abort"),Dd(this))};k$2.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),X$1.Z.M.call(this)};k$2.Fa=function(){this.s||(this.F||this.v||this.l?Ed(this):this.cb())};k$2.cb=function(){Ed(this)};function Ed(s){if(s.h&&typeof goog!="undefined"&&(!s.C[1]||O(s)!=4||s.ba()!=2)){if(s.v&&O(s)==4)Gb(s.Fa,0,s);else if(D$1(s,"readystatechange"),O(s)==4){s.h=!1;try{const b=s.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var a;if(!(a=e)){var h;if(h=b===0){var d=String(s.H).match(Mc$1)[1]||null;if(!d&&l$2.self&&l$2.self.location){var g=l$2.self.location.protocol;d=g.substr(0,g.length-1)}h=!xd.test(d?d.toLowerCase():"")}a=h}if(a)D$1(s,"complete"),D$1(s,"success");else{s.m=6;try{var _=2<O(s)?s.g.statusText:""}catch{_=""}s.j=_+" ["+s.ba()+"]",Cd(s)}}finally{Dd(s)}}}}function Dd(s,e){if(s.g){Ad(s);const a=s.g,h=s.C[0]?aa$1:null;s.g=null,s.C=null,e||D$1(s,"ready");try{a.onreadystatechange=h}catch{}}}function Ad(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(l$2.clearTimeout(s.A),s.A=null)}function O(s){return s.g?s.g.readyState:0}k$2.ba=function(){try{return 2<O(this)?this.g.status:-1}catch{return-1}};k$2.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$2.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&e.indexOf(s)==0&&(e=e.substring(s.length)),vd(e)}};function oc$1(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case wd:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}k$2.Da=function(){return this.m};k$2.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fd(s){let e="";return xa(s,function(a,h){e+=h,e+=":",e+=a,e+=`\r
`}),e}function Gd(s,e,a){e:{for(h in a){var h=!1;break e}h=!0}h||(a=Fd(a),typeof s=="string"?a!=null&&encodeURIComponent(String(a)):R(s,e,a))}function Hd(s,e,a){return a&&a.internalChannelParams&&a.internalChannelParams[s]||e}function Id(s){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hd("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hd("baseRetryDelayMs",5e3,s),this.$a=Hd("retryDelaySeedMs",1e4,s),this.Ya=Hd("forwardChannelMaxRetries",2,s),this.ra=Hd("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new gd(s&&s.concurrentRequestLimit),this.Ca=new ld,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||s.Xb!==!1}k$2=Id.prototype;k$2.ma=8;k$2.G=1;function Ic$1(s){if(Jd(s),s.G==3){var e=s.V++,a=N$1(s.F);R(a,"SID",s.J),R(a,"RID",e),R(a,"TYPE","terminate"),Kd(s,a),e=new M$1(s,s.h,e,void 0),e.K=2,e.v=jc(N$1(a)),a=!1,l$2.navigator&&l$2.navigator.sendBeacon&&(a=l$2.navigator.sendBeacon(e.v.toString(),"")),!a&&l$2.Image&&(new Image().src=e.v,a=!0),a||(e.g=nc$1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lc$1(e)}Ld(s)}k$2.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch{}};function Ac$1(s){s.g&&(wc$1(s),s.g.cancel(),s.g=null)}function Jd(s){Ac$1(s),s.u&&(l$2.clearTimeout(s.u),s.u=null),zc$1(s),s.i.cancel(),s.m&&(typeof s.m=="number"&&l$2.clearTimeout(s.m),s.m=null)}function Md(s,e){s.l.push(new fd(s.Za++,e)),s.G==3&&Hc$1(s)}function Hc$1(s){id(s.i)||s.m||(s.m=!0,zb(s.Ha,s),s.C=0)}function Nd(s,e){return Cc(s.i)>=s.i.j-(s.m?1:0)?!1:s.m?(s.l=e.D.concat(s.l),!0):s.G==1||s.G==2||s.C>=(s.Xa?0:s.Ya)?!1:(s.m=K$1(q$1(s.Ha,s,e),Od(s,s.C)),s.C++,!0)}k$2.Ha=function(s){if(this.m)if(this.m=null,this.G==1){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const d=new M$1(this,this.h,s,void 0);let g=this.s;if(this.P&&(g?(g=ya$1(g),Aa$1(g,this.P)):g=this.P),this.o===null&&(d.H=g),this.ja)e:{for(var e=0,a=0;a<this.l.length;a++){t:{var h=this.l[a];if("__data__"in h.g&&(h=h.g.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(e+=h,4096<e){e=a;break e}if(e===4096||a===this.l.length-1){e=a+1;break e}}e=1e3}else e=1e3;e=Pd(this,d,e),a=N$1(this.F),R(a,"RID",s),R(a,"CVER",22),this.D&&R(a,"X-HTTP-Session-Id",this.D),Kd(this,a),this.o&&g&&Gd(a,this.o,g),Dc(this.i,d),this.Ra&&R(a,"TYPE","init"),this.ja?(R(a,"$req",e),R(a,"SID","null"),d.$=!0,ic$1(d,a,null)):ic$1(d,a,e),this.G=2}}else this.G==3&&(s?Qd(this,s):this.l.length==0||id(this.i)||Qd(this))};function Qd(s,e){var a;e?a=e.m:a=s.V++;const h=N$1(s.F);R(h,"SID",s.J),R(h,"RID",a),R(h,"AID",s.U),Kd(s,h),s.o&&s.s&&Gd(h,s.o,s.s),a=new M$1(s,s.h,a,s.C+1),s.o===null&&(a.H=s.s),e&&(s.l=e.D.concat(s.l)),e=Pd(s,a,1e3),a.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Dc(s.i,a),ic$1(a,h,e)}function Kd(s,e){s.j&&Kc({},function(a,h){R(e,h,a)})}function Pd(s,e,a){a=Math.min(s.l.length,a);var h=s.j?q$1(s.j.Oa,s.j,s):null;e:{var d=s.l;let g=-1;for(;;){const _=["count="+a];g==-1?0<a?(g=d[0].h,_.push("ofs="+g)):g=0:_.push("ofs="+g);let b=!0;for(let et=0;et<a;et++){let ot=d[et].h;const gt=d[et].g;if(ot-=g,0>ot)g=Math.max(0,d[et].h-100),b=!1;else try{md(gt,_,"req"+ot+"_")}catch{h&&h(gt)}}if(b){h=_.join("&");break e}}}return s=s.l.splice(0,a),e.D=s,h}function Gc$1(s){s.g||s.u||(s.Y=1,zb(s.Ga,s),s.A=0)}function Bc$1(s){return s.g||s.u||3<=s.A?!1:(s.Y++,s.u=K$1(q$1(s.Ga,s),Od(s,s.A)),s.A++,!0)}k$2.Ga=function(){if(this.u=null,Rd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=K$1(q$1(this.bb,this),s)}};k$2.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,J$1(10),Ac$1(this),Rd(this))};function wc$1(s){s.B!=null&&(l$2.clearTimeout(s.B),s.B=null)}function Rd(s){s.g=new M$1(s,s.h,"rpc",s.Y),s.o===null&&(s.g.H=s.s),s.g.O=0;var e=N$1(s.oa);R(e,"RID","rpc"),R(e,"SID",s.J),R(e,"CI",s.N?"0":"1"),R(e,"AID",s.U),Kd(s,e),R(e,"TYPE","xmlhttp"),s.o&&s.s&&Gd(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var a=s.g;s=s.la,a.K=1,a.v=jc(N$1(e)),a.s=null,a.U=!0,kc(a,s)}k$2.ab=function(){this.v!=null&&(this.v=null,Ac$1(this),Bc$1(this),J$1(19))};function zc$1(s){s.v!=null&&(l$2.clearTimeout(s.v),s.v=null)}function uc$1(s,e){var a=null;if(s.g==e){zc$1(s),wc$1(s),s.g=null;var h=2}else if(yc$1(s.i,e))a=e.D,Fc$1(s.i,e),h=1;else return;if(s.I=e.N,s.G!=0){if(e.i)if(h==1){a=e.s?e.s.length:0,e=Date.now()-e.F;var d=s.C;h=Sb(),D$1(h,new Vb(h,a)),Hc$1(s)}else Gc$1(s);else if(d=e.o,d==3||d==0&&0<s.I||!(h==1&&Nd(s,e)||h==2&&Bc$1(s)))switch(a&&0<a.length&&(e=s.i,e.i=e.i.concat(a)),d){case 1:Q$1(s,5);break;case 4:Q$1(s,10);break;case 3:Q$1(s,6);break;default:Q$1(s,2)}}}function Od(s,e){let a=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(a*=2),a*e}function Q$1(s,e){if(s.h.info("Error code "+e),e==2){var a=null;s.j&&(a=null);var h=q$1(s.jb,s);a||(a=new U$1("//www.google.com/images/cleardot.gif"),l$2.location&&l$2.location.protocol=="http"||Oc(a,"https"),jc(a)),nd(a.toString(),h)}else J$1(2);s.G=0,s.j&&s.j.va(e),Ld(s),Jd(s)}k$2.jb=function(s){s?(this.h.info("Successfully pinged google.com"),J$1(2)):(this.h.info("Failed to ping google.com"),J$1(1))};function Ld(s){s.G=0,s.I=-1,s.j&&((jd(s.i).length!=0||s.l.length!=0)&&(s.i.i.length=0,ra(s.l),s.l.length=0),s.j.ua())}function Ec$1(s,e,a){let h=ad(a);if(h.i!="")e&&Pc$1(h,e+"."+h.i),Qc(h,h.m);else{const d=l$2.location;h=bd(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,a)}return s.aa&&xa(s.aa,function(d,g){R(h,g,d)}),e=s.D,a=s.sa,e&&a&&R(h,e,a),R(h,"VER",s.ma),Kd(s,h),h}function nc$1(s,e,a){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=a&&s.Ba&&!s.qa?new X$1(new pd({ib:!0})):new X$1(s.qa),e.L=s.H,e}function Sd(){}k$2=Sd.prototype;k$2.xa=function(){};k$2.wa=function(){};k$2.va=function(){};k$2.ua=function(){};k$2.Oa=function(){};function Td(){if(y&&!(10<=Number(Ua$1)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(s,e){return new Y$1(s,e)};function Y$1(s,e){C$1.call(this),this.g=new Id(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!sa$1(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sa$1(e)&&(this.g.D=e,s=this.h,s!==null&&e in s&&(s=this.h,e in s&&delete s[e])),this.j=new Z$1(this)}t(Y$1,C$1);Y$1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,a=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),zb(q$1(s.hb,s,e))),J$1(0),s.W=e,s.aa=a||{},s.N=s.X,s.F=Ec$1(s,null,s.W),Hc$1(s)};Y$1.prototype.close=function(){Ic$1(this.g)};Y$1.prototype.u=function(s){if(typeof s=="string"){var e={};e.__data__=s,Md(this.g,e)}else this.v?(e={},e.__data__=rb(s),Md(this.g,e)):Md(this.g,s)};Y$1.prototype.M=function(){this.g.j=null,delete this.j,Ic$1(this.g),delete this.g,Y$1.Z.M.call(this)};function Ud(s){ac$1.call(this);var e=s.__sm__;if(e){e:{for(const a in e){s=a;break e}s=void 0}(this.i=s)&&(s=this.i,e=e!==null&&s in e?e[s]:void 0),this.data=e}else this.data=s}t(Ud,ac$1);function Vd(){bc$1.call(this),this.status=1}t(Vd,bc$1);function Z$1(s){this.g=s}t(Z$1,Sd);Z$1.prototype.xa=function(){D$1(this.g,"a")};Z$1.prototype.wa=function(s){D$1(this.g,new Ud(s))};Z$1.prototype.va=function(s){D$1(this.g,new Vd)};Z$1.prototype.ua=function(){D$1(this.g,"b")};Td.prototype.createWebChannel=Td.prototype.g;Y$1.prototype.send=Y$1.prototype.u;Y$1.prototype.open=Y$1.prototype.m;Y$1.prototype.close=Y$1.prototype.close;Wb.NO_ERROR=0;Wb.TIMEOUT=8;Wb.HTTP_ERROR=6;Xb.COMPLETE="complete";$b.EventType=L$1;L$1.OPEN="a";L$1.CLOSE="b";L$1.ERROR="c";L$1.MESSAGE="d";C$1.prototype.listen=C$1.prototype.N;X$1.prototype.listenOnce=X$1.prototype.O;X$1.prototype.getLastError=X$1.prototype.La;X$1.prototype.getLastErrorCode=X$1.prototype.Da;X$1.prototype.getStatus=X$1.prototype.ba;X$1.prototype.getResponseJson=X$1.prototype.Qa;X$1.prototype.getResponseText=X$1.prototype.ga;X$1.prototype.send=X$1.prototype.ea;var createWebChannelTransport=function(){return new Td},getStatEventTarget=function(){return Sb()},ErrorCode=Wb,EventType=Xb,Event=H,Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FetchXmlHttpFactory=pd,WebChannel=$b,XhrIo=X$1;const D="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Logger("@firebase/firestore");function k$1(){return N.logLevel}function M(s,...e){if(N.logLevel<=LogLevel.DEBUG){const a=e.map(B);N.debug(`Firestore (${x}): ${s}`,...a)}}function F(s,...e){if(N.logLevel<=LogLevel.ERROR){const a=e.map(B);N.error(`Firestore (${x}): ${s}`,...a)}}function $(s,...e){if(N.logLevel<=LogLevel.WARN){const a=e.map(B);N.warn(`Firestore (${x}): ${s}`,...a)}}function B(s){if(typeof s=="string")return s;try{return e=s,JSON.stringify(e)}catch{return s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(s="Unexpected state"){const e=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+s;throw F(e),new Error(e)}function U(s,e){s||L()}function K(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends FirebaseError{constructor(e,a){super(e,a),this.code=e,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(){this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,a){e.enqueueRetryable(()=>a(C.UNAUTHENTICATED))}shutdown(){}}class J{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,a){let h=this.i;const d=et=>this.i!==h?(h=this.i,a(et)):Promise.resolve();let g=new j;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new j,e.enqueueRetryable(()=>d(this.currentUser))};const _=()=>{const et=g;e.enqueueRetryable(async()=>{await et.promise,await d(this.currentUser)})},b=et=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=et,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(et=>b(et)),setTimeout(()=>{if(!this.auth){const et=this.t.getImmediate({optional:!0});et?b(et):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new j)}},0),_()}getToken(){const e=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(h=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(U(typeof h.accessToken=="string"),new W(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(e===null||typeof e=="string"),new C(e)}}class Y{constructor(e,a,h){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",a);const d=e.auth.getAuthHeaderValueForFirstParty([]);d&&this.headers.set("Authorization",d),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class X{constructor(e,a,h){this.h=e,this.l=a,this.m=h}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(e,a){e.enqueueRetryable(()=>a(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,a){const h=g=>{g.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const _=g.token!==this.p;return this.p=g.token,M("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?a(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>h(g))};const d=g=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.g.onInit(g=>d(g)),setTimeout(()=>{if(!this.appCheck){const g=this.g.getImmediate({optional:!0});g?d(g):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(a=>a?(U(typeof a.token=="string"),this.p=a.token,new Z(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(s){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(a);else for(let h=0;h<s;h++)a[h]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/e.length)*e.length;let h="";for(;h.length<20;){const d=nt(40);for(let g=0;g<d.length;++g)h.length<20&&d[g]<a&&(h+=e.charAt(d[g]%e.length))}return h}}function it(s,e){return s<e?-1:s>e?1:0}function rt(s,e,a){return s.length===e.length&&s.every((h,d)=>a(h,e[d]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,a){if(this.seconds=e,this.nanoseconds=a,a<0)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(e<-62135596800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const a=Math.floor(e/1e3),h=Math.floor(1e6*(e-1e3*a));return new ut(a,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new ut(0,0))}static max(){return new ct(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,a,h){a===void 0?a=0:a>e.length&&L(),h===void 0?h=e.length-a:h>e.length-a&&L(),this.segments=e,this.offset=a,this.len=h}get length(){return this.len}isEqual(e){return at.comparator(this,e)===0}child(e){const a=this.segments.slice(this.offset,this.limit());return e instanceof at?e.forEach(h=>{a.push(h)}):a.push(e),this.construct(a)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}forEach(e){for(let a=this.offset,h=this.limit();a<h;a++)e(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,a){const h=Math.min(e.length,a.length);for(let d=0;d<h;d++){const g=e.get(d),_=a.get(d);if(g<_)return-1;if(g>_)return 1}return e.length<a.length?-1:e.length>a.length?1:0}}class ht extends at{construct(e,a,h){return new ht(e,a,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const a=[];for(const h of e){if(h.indexOf("//")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);a.push(...h.split("/").filter(d=>d.length>0))}return new ht(a)}static emptyPath(){return new ht([])}}const lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends at{construct(e,a,h){return new ft(e,a,h)}static isValidIdentifier(e){return lt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const a=[];let h="",d=0;const g=()=>{if(h.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(h),h=""};let _=!1;for(;d<e.length;){const b=e[d];if(b==="\\"){if(d+1===e.length)throw new Q(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const et=e[d+1];if(et!=="\\"&&et!=="."&&et!=="`")throw new Q(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);h+=et,d+=2}else b==="`"?(_=!_,d++):b!=="."||_?(h+=b,d++):(g(),d++)}if(g(),_)throw new Q(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(a)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ht.fromString(e))}static fromName(e){return new dt(ht.fromString(e).popFirst(5))}static empty(){return new dt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,a){return ht.comparator(e.path,a.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ht(e.slice()))}}function pt(s,e){const a=s.toTimestamp().seconds,h=s.toTimestamp().nanoseconds+1,d=ct.fromTimestamp(h===1e9?new ut(a+1,0):new ut(a,h));return new Tt(d,dt.empty(),e)}function It(s){return new Tt(s.readTime,s.key,-1)}class Tt{constructor(e,a,h){this.readTime=e,this.documentKey=a,this.largestBatchId=h}static min(){return new Tt(ct.min(),dt.empty(),-1)}static max(){return new Tt(ct.max(),dt.empty(),-1)}}function Et(s,e){let a=s.readTime.compareTo(e.readTime);return a!==0?a:(a=dt.comparator(s.documentKey,e.documentKey),a!==0?a:it(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bt(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==At)throw s;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(e){return this.next(void 0,e)}next(e,a){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(e,this.result):new Pt((h,d)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(h,d)},this.catchCallback=g=>{this.wrapFailure(a,g).next(h,d)}})}toPromise(){return new Promise((e,a)=>{this.next(e,a)})}wrapUserFunction(e){try{const a=e();return a instanceof Pt?a:Pt.resolve(a)}catch(a){return Pt.reject(a)}}wrapSuccess(e,a){return e?this.wrapUserFunction(()=>e(a)):Pt.resolve(a)}wrapFailure(e,a){return e?this.wrapUserFunction(()=>e(a)):Pt.reject(a)}static resolve(e){return new Pt((a,h)=>{a(e)})}static reject(e){return new Pt((a,h)=>{h(e)})}static waitFor(e){return new Pt((a,h)=>{let d=0,g=0,_=!1;e.forEach(b=>{++d,b.next(()=>{++g,_&&g===d&&a()},et=>h(et))}),_=!0,g===d&&a()})}static or(e){let a=Pt.resolve(!1);for(const h of e)a=a.next(d=>d?Pt.resolve(d):h());return a}static forEach(e,a){const h=[];return e.forEach((d,g)=>{h.push(a.call(this,d,g))}),this.waitFor(h)}static mapArray(e,a){return new Pt((h,d)=>{const g=e.length,_=new Array(g);let b=0;for(let et=0;et<g;et++){const ot=et;a(e[ot]).next(gt=>{_[ot]=gt,++b,b===g&&h(_)},gt=>d(gt))}})}static doWhile(e,a){return new Pt((h,d)=>{const g=()=>{e()===!0?a().next(()=>{g()},d):h()};g()})}}function Ct(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,a){this.previousValue=e,a&&(a.sequenceNumberHandler=h=>this.it(h),this.rt=h=>a.writeSequenceNumber(h))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s){let e=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&e++;return e}function Lt(s,e){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&e(a,s[a])}function Ut(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.ot=-1;class qt{constructor(e,a){this.comparator=e,this.root=a||Gt.EMPTY}insert(e,a){return new qt(this.comparator,this.root.insert(e,a,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(h===0)return a.value;h<0?a=a.left:h>0&&(a=a.right)}return null}indexOf(e){let a=0,h=this.root;for(;!h.isEmpty();){const d=this.comparator(e,h.key);if(d===0)return a+h.left.size;d<0?h=h.left:(a+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((a,h)=>(e(a,h),!1))}toString(){const e=[];return this.inorderTraversal((a,h)=>(e.push(`${a}:${h}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kt(this.root,e,this.comparator,!0)}}class Kt{constructor(e,a,h,d){this.isReverse=d,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=a?h(e.key,a):1,a&&d&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(g===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const a={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,a,h,d,g){this.key=e,this.value=a,this.color=h!=null?h:Gt.RED,this.left=d!=null?d:Gt.EMPTY,this.right=g!=null?g:Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,a,h,d,g){return new Gt(e!=null?e:this.key,a!=null?a:this.value,h!=null?h:this.color,d!=null?d:this.left,g!=null?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,h){let d=this;const g=h(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,a,h),null):g===0?d.copy(null,a,null,null,null):d.copy(null,null,null,null,d.right.insert(e,a,h)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,a){let h,d=this;if(a(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,a),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),a(e,d.key)===0){if(d.right.isEmpty())return Gt.EMPTY;h=d.right.min(),d=d.copy(h.key,h.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,a))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(s,e,a,h,d){return this}insert(s,e,a){return new Gt(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((a,h)=>(e(a),!1))}forEachInRange(e,a){const h=this.data.getIteratorFrom(e[0]);for(;h.hasNext();){const d=h.getNext();if(this.comparator(d.key,e[1])>=0)return;a(d.key)}}forEachWhile(e,a){let h;for(h=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();h.hasNext();)if(!e(h.getNext().key))return}firstAfterOrEqual(e){const a=this.data.getIteratorFrom(e);return a.hasNext()?a.getNext().key:null}getIterator(){return new jt(this.data.getIterator())}getIteratorFrom(e){return new jt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let a=this;return a.size<e.size&&(a=e,e=this),e.forEach(h=>{a=a.add(h)}),a}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const a=this.data.getIterator(),h=e.data.getIterator();for(;a.hasNext();){const d=a.getNext().key,g=h.getNext().key;if(this.comparator(d,g)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(a=>{e.push(a)}),e}toString(){const e=[];return this.forEach(a=>e.push(a)),"SortedSet("+e.toString()+")"}copy(e){const a=new Qt(this.comparator);return a.data=e,a}}class jt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new zt([])}unionWith(e){let a=new Qt(ft.comparator);for(const h of this.fields)a=a.add(h);for(const h of e)a=a.add(h);return new zt(a.toArray())}covers(e){for(const a of this.fields)if(a.isPrefixOf(e))return!0;return!1}isEqual(e){return rt(this.fields,e.fields,(a,h)=>a.isEqual(h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const a=atob(e);return new Jt(a)}static fromUint8Array(e){const a=function(h){let d="";for(let g=0;g<h.length;++g)d+=String.fromCharCode(h[g]);return d}(e);return new Jt(a)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let h=0;h<e.length;h++)a[h]=e.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xt(s){if(U(!!s),typeof s=="string"){let e=0;const a=Yt.exec(s);if(U(!!a),a[1]){let d=a[1];d=(d+"000000000").substr(0,9),e=Number(d)}const h=new Date(s);return{seconds:Math.floor(h.getTime()/1e3),nanos:e}}return{seconds:Zt(s.seconds),nanos:Zt(s.nanos)}}function Zt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function te(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(s){var e,a;return((a=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||a===void 0?void 0:a.stringValue)==="server_timestamp"}function ne(s){const e=s.mapValue.fields.__previous_value__;return ee(e)?ne(e):e}function se(s){const e=Xt(s.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,a,h,d,g,_,b,et){this.databaseId=e,this.appId=a,this.persistenceKey=h,this.host=d,this.ssl=g,this.forceLongPolling=_,this.autoDetectLongPolling=b,this.useFetchStreams=et}}class re{constructor(e,a){this.projectId=e,this.database=a||"(default)"}static empty(){return new re("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof re&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(s){return s==null}function ue(s){return s===0&&1/s==-1/0}function ce(s){return typeof s=="number"&&Number.isInteger(s)&&!ue(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function le(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ee(s)?4:be(s)?9007199254740991:10:L()}function fe(s,e){if(s===e)return!0;const a=le(s);if(a!==le(e))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return se(s).isEqual(se(e));case 3:return function(h,d){if(typeof h.timestampValue=="string"&&typeof d.timestampValue=="string"&&h.timestampValue.length===d.timestampValue.length)return h.timestampValue===d.timestampValue;const g=Xt(h.timestampValue),_=Xt(d.timestampValue);return g.seconds===_.seconds&&g.nanos===_.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(h,d){return te(h.bytesValue).isEqual(te(d.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(h,d){return Zt(h.geoPointValue.latitude)===Zt(d.geoPointValue.latitude)&&Zt(h.geoPointValue.longitude)===Zt(d.geoPointValue.longitude)}(s,e);case 2:return function(h,d){if("integerValue"in h&&"integerValue"in d)return Zt(h.integerValue)===Zt(d.integerValue);if("doubleValue"in h&&"doubleValue"in d){const g=Zt(h.doubleValue),_=Zt(d.doubleValue);return g===_?ue(g)===ue(_):isNaN(g)&&isNaN(_)}return!1}(s,e);case 9:return rt(s.arrayValue.values||[],e.arrayValue.values||[],fe);case 10:return function(h,d){const g=h.mapValue.fields||{},_=d.mapValue.fields||{};if(Bt(g)!==Bt(_))return!1;for(const b in g)if(g.hasOwnProperty(b)&&(_[b]===void 0||!fe(g[b],_[b])))return!1;return!0}(s,e);default:return L()}}function de(s,e){return(s.values||[]).find(a=>fe(a,e))!==void 0}function _e(s,e){if(s===e)return 0;const a=le(s),h=le(e);if(a!==h)return it(a,h);switch(a){case 0:case 9007199254740991:return 0;case 1:return it(s.booleanValue,e.booleanValue);case 2:return function(d,g){const _=Zt(d.integerValue||d.doubleValue),b=Zt(g.integerValue||g.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1}(s,e);case 3:return we(s.timestampValue,e.timestampValue);case 4:return we(se(s),se(e));case 5:return it(s.stringValue,e.stringValue);case 6:return function(d,g){const _=te(d),b=te(g);return _.compareTo(b)}(s.bytesValue,e.bytesValue);case 7:return function(d,g){const _=d.split("/"),b=g.split("/");for(let et=0;et<_.length&&et<b.length;et++){const ot=it(_[et],b[et]);if(ot!==0)return ot}return it(_.length,b.length)}(s.referenceValue,e.referenceValue);case 8:return function(d,g){const _=it(Zt(d.latitude),Zt(g.latitude));return _!==0?_:it(Zt(d.longitude),Zt(g.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(d,g){const _=d.values||[],b=g.values||[];for(let et=0;et<_.length&&et<b.length;++et){const ot=_e(_[et],b[et]);if(ot)return ot}return it(_.length,b.length)}(s.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===ae.mapValue&&g===ae.mapValue)return 0;if(d===ae.mapValue)return 1;if(g===ae.mapValue)return-1;const _=d.fields||{},b=Object.keys(_),et=g.fields||{},ot=Object.keys(et);b.sort(),ot.sort();for(let gt=0;gt<b.length&&gt<ot.length;++gt){const yt=it(b[gt],ot[gt]);if(yt!==0)return yt;const mt=_e(_[b[gt]],et[ot[gt]]);if(mt!==0)return mt}return it(b.length,ot.length)}(s.mapValue,e.mapValue);default:throw L()}}function we(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return it(s,e);const a=Xt(s),h=Xt(e),d=it(a.seconds,h.seconds);return d!==0?d:it(a.nanos,h.nanos)}function me(s){return ge(s)}function ge(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(h){const d=Xt(h);return`time(${d.seconds},${d.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?te(s.bytesValue).toBase64():"referenceValue"in s?(a=s.referenceValue,dt.fromName(a).toString()):"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(h){let d="[",g=!0;for(const _ of h.values||[])g?g=!1:d+=",",d+=ge(_);return d+"]"}(s.arrayValue):"mapValue"in s?function(h){const d=Object.keys(h.fields||{}).sort();let g="{",_=!0;for(const b of d)_?_=!1:g+=",",g+=`${b}:${ge(h.fields[b])}`;return g+"}"}(s.mapValue):L();var e,a}function ye(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pe(s){return!!s&&"integerValue"in s}function Ie(s){return!!s&&"arrayValue"in s}function Te(s){return!!s&&"nullValue"in s}function Ee(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ae(s){return!!s&&"mapValue"in s}function Re(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Lt(s.mapValue.fields,(a,h)=>e.mapValue.fields[a]=Re(h)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)e.arrayValue.values[a]=Re(s.arrayValue.values[a]);return e}return Object.assign({},s)}function be(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.value=e}static empty(){return new De({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let a=this.value;for(let h=0;h<e.length-1;++h)if(a=(a.mapValue.fields||{})[e.get(h)],!Ae(a))return null;return a=(a.mapValue.fields||{})[e.lastSegment()],a||null}}set(e,a){this.getFieldsMap(e.popLast())[e.lastSegment()]=Re(a)}setAll(e){let a=ft.emptyPath(),h={},d=[];e.forEach((_,b)=>{if(!a.isImmediateParentOf(b)){const et=this.getFieldsMap(a);this.applyChanges(et,h,d),h={},d=[],a=b.popLast()}_?h[b.lastSegment()]=Re(_):d.push(b.lastSegment())});const g=this.getFieldsMap(a);this.applyChanges(g,h,d)}delete(e){const a=this.field(e.popLast());Ae(a)&&a.mapValue.fields&&delete a.mapValue.fields[e.lastSegment()]}isEqual(e){return fe(this.value,e.value)}getFieldsMap(e){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let h=0;h<e.length;++h){let d=a.mapValue.fields[e.get(h)];Ae(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},a.mapValue.fields[e.get(h)]=d),a=d}return a.mapValue.fields}applyChanges(e,a,h){Lt(a,(d,g)=>e[d]=g);for(const d of h)delete e[d]}clone(){return new De(Re(this.value))}}function Ce(s){const e=[];return Lt(s.fields,(a,h)=>{const d=new ft([a]);if(Ae(h)){const g=Ce(h.mapValue).fields;if(g.length===0)e.push(d);else for(const _ of g)e.push(d.child(_))}else e.push(d)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,a,h,d,g,_){this.key=e,this.documentType=a,this.version=h,this.readTime=d,this.data=g,this.documentState=_}static newInvalidDocument(e){return new xe(e,0,ct.min(),ct.min(),De.empty(),0)}static newFoundDocument(e,a,h){return new xe(e,1,a,ct.min(),h,0)}static newNoDocument(e,a){return new xe(e,2,a,ct.min(),De.empty(),0)}static newUnknownDocument(e,a){return new xe(e,3,a,ct.min(),De.empty(),2)}convertToFoundDocument(e,a){return this.version=e,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,a=null,h=[],d=[],g=null,_=null,b=null){this.path=e,this.collectionGroup=a,this.orderBy=h,this.filters=d,this.limit=g,this.startAt=_,this.endAt=b,this.ut=null}}function ke(s,e=null,a=[],h=[],d=null,g=null,_=null){return new Ne(s,e,a,h,d,g,_)}function Oe(s){const e=K(s);if(e.ut===null){let a=e.path.canonicalString();e.collectionGroup!==null&&(a+="|cg:"+e.collectionGroup),a+="|f:",a+=e.filters.map(h=>{return(d=h).field.canonicalString()+d.op.toString()+me(d.value);var d}).join(","),a+="|ob:",a+=e.orderBy.map(h=>function(d){return d.field.canonicalString()+d.dir}(h)).join(","),oe(e.limit)||(a+="|l:",a+=e.limit),e.startAt&&(a+="|lb:",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(h=>me(h)).join(",")),e.endAt&&(a+="|ub:",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(h=>me(h)).join(",")),e.ut=a}return e.ut}function Me(s){let e=s.path.canonicalString();return s.collectionGroup!==null&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(a=>{return`${(h=a).field.canonicalString()} ${h.op} ${me(h.value)}`;var h}).join(", ")}]`),oe(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(a=>me(a)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(a=>me(a)).join(",")),`Target(${e})`}function Fe(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<s.orderBy.length;d++)if(!Ze(s.orderBy[d],e.orderBy[d]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let d=0;d<s.filters.length;d++)if(a=s.filters[d],h=e.filters[d],a.op!==h.op||!a.field.isEqual(h.field)||!fe(a.value,h.value))return!1;var a,h;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!en(s.startAt,e.startAt)&&en(s.endAt,e.endAt)}function $e(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class qe extends class{}{constructor(e,a,h){super(),this.field=e,this.op=a,this.value=h}static create(e,a,h){return e.isKeyField()?a==="in"||a==="not-in"?this.ct(e,a,h):new Ke(e,a,h):a==="array-contains"?new We(e,h):a==="in"?new ze(e,h):a==="not-in"?new He(e,h):a==="array-contains-any"?new Je(e,h):new qe(e,a,h)}static ct(e,a,h){return a==="in"?new Ge(e,h):new Qe(e,h)}matches(e){const a=e.data.field(this.field);return this.op==="!="?a!==null&&this.at(_e(a,this.value)):a!==null&&le(this.value)===le(a)&&this.at(_e(a,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ke extends qe{constructor(e,a,h){super(e,a,h),this.key=dt.fromName(h.referenceValue)}matches(e){const a=dt.comparator(e.key,this.key);return this.at(a)}}class Ge extends qe{constructor(e,a){super(e,"in",a),this.keys=je("in",a)}matches(e){return this.keys.some(a=>a.isEqual(e.key))}}class Qe extends qe{constructor(e,a){super(e,"not-in",a),this.keys=je("not-in",a)}matches(e){return!this.keys.some(a=>a.isEqual(e.key))}}function je(s,e){var a;return(((a=e.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(h=>dt.fromName(h.referenceValue))}class We extends qe{constructor(e,a){super(e,"array-contains",a)}matches(e){const a=e.data.field(this.field);return Ie(a)&&de(a.arrayValue,this.value)}}class ze extends qe{constructor(e,a){super(e,"in",a)}matches(e){const a=e.data.field(this.field);return a!==null&&de(this.value.arrayValue,a)}}class He extends qe{constructor(e,a){super(e,"not-in",a)}matches(e){if(de(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=e.data.field(this.field);return a!==null&&!de(this.value.arrayValue,a)}}class Je extends qe{constructor(e,a){super(e,"array-contains-any",a)}matches(e){const a=e.data.field(this.field);return!(!Ie(a)||!a.arrayValue.values)&&a.arrayValue.values.some(h=>de(this.value.arrayValue,h))}}class Ye{constructor(e,a){this.position=e,this.inclusive=a}}class Xe{constructor(e,a="asc"){this.field=e,this.dir=a}}function Ze(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function tn(s,e,a){let h=0;for(let d=0;d<s.position.length;d++){const g=e[d],_=s.position[d];if(g.field.isKeyField()?h=dt.comparator(dt.fromName(_.referenceValue),a.key):h=_e(_,a.data.field(g.field)),g.dir==="desc"&&(h*=-1),h!==0)break}return h}function en(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!fe(s.position[a],e.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,a=null,h=[],d=[],g=null,_="F",b=null,et=null){this.path=e,this.collectionGroup=a,this.explicitOrderBy=h,this.filters=d,this.limit=g,this.limitType=_,this.startAt=b,this.endAt=et,this.lt=null,this.ft=null,this.startAt,this.endAt}}function sn(s,e,a,h,d,g,_,b){return new nn(s,e,a,h,d,g,_,b)}function rn(s){return new nn(s)}function on(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function un(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function cn(s){for(const e of s.filters)if(e.ht())return e.field;return null}function an(s){return s.collectionGroup!==null}function hn(s){const e=K(s);if(e.lt===null){e.lt=[];const a=cn(e),h=un(e);if(a!==null&&h===null)a.isKeyField()||e.lt.push(new Xe(a)),e.lt.push(new Xe(ft.keyField(),"asc"));else{let d=!1;for(const g of e.explicitOrderBy)e.lt.push(g),g.field.isKeyField()&&(d=!0);if(!d){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Xe(ft.keyField(),g))}}}return e.lt}function ln(s){const e=K(s);if(!e.ft)if(e.limitType==="F")e.ft=ke(e.path,e.collectionGroup,hn(e),e.filters,e.limit,e.startAt,e.endAt);else{const a=[];for(const g of hn(e)){const _=g.dir==="desc"?"asc":"desc";a.push(new Xe(g.field,_))}const h=e.endAt?new Ye(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Ye(e.startAt.position,e.startAt.inclusive):null;e.ft=ke(e.path,e.collectionGroup,a,e.filters,e.limit,h,d)}return e.ft}function fn(s,e,a){return new nn(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,a,s.startAt,s.endAt)}function dn(s,e){return Fe(ln(s),ln(e))&&s.limitType===e.limitType}function _n(s){return`${Oe(ln(s))}|lt:${s.limitType}`}function wn(s){return`Query(target=${Me(ln(s))}; limitType=${s.limitType})`}function mn(s,e){return e.isFoundDocument()&&function(a,h){const d=h.key.path;return a.collectionGroup!==null?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(d):dt.isDocumentKey(a.path)?a.path.isEqual(d):a.path.isImmediateParentOf(d)}(s,e)&&function(a,h){for(const d of a.explicitOrderBy)if(!d.field.isKeyField()&&h.data.field(d.field)===null)return!1;return!0}(s,e)&&function(a,h){for(const d of a.filters)if(!d.matches(h))return!1;return!0}(s,e)&&function(a,h){return!(a.startAt&&!function(d,g,_){const b=tn(d,g,_);return d.inclusive?b<=0:b<0}(a.startAt,hn(a),h)||a.endAt&&!function(d,g,_){const b=tn(d,g,_);return d.inclusive?b>=0:b>0}(a.endAt,hn(a),h))}(s,e)}function gn(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yn(s){return(e,a)=>{let h=!1;for(const d of hn(s)){const g=pn(d,e,a);if(g!==0)return g;h=h||d.field.isKeyField()}return 0}}function pn(s,e,a){const h=s.field.isKeyField()?dt.comparator(e.key,a.key):function(d,g,_){const b=g.data.field(d),et=_.data.field(d);return b!==null&&et!==null?_e(b,et):L()}(s.field,e,a);switch(s.dir){case"asc":return h;case"desc":return-1*h;default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(s,e){if(s.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ue(e)?"-0":e}}function Tn(s){return{integerValue:""+s}}function En(s,e){return ce(e)?Tn(e):In(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this._=void 0}}function Rn(s,e,a){return s instanceof vn?function(h,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return d&&(g.fields.__previous_value__=d),{mapValue:g}}(a,e):s instanceof Vn?Sn(s,e):s instanceof Dn?Cn(s,e):function(h,d){const g=Pn(h,d),_=Nn(g)+Nn(h._t);return pe(g)&&pe(h._t)?Tn(_):In(h.wt,_)}(s,e)}function bn(s,e,a){return s instanceof Vn?Sn(s,e):s instanceof Dn?Cn(s,e):a}function Pn(s,e){return s instanceof xn?pe(a=e)||function(h){return!!h&&"doubleValue"in h}(a)?e:{integerValue:0}:null;var a}class vn extends An{}class Vn extends An{constructor(e){super(),this.elements=e}}function Sn(s,e){const a=kn(e);for(const h of s.elements)a.some(d=>fe(d,h))||a.push(h);return{arrayValue:{values:a}}}class Dn extends An{constructor(e){super(),this.elements=e}}function Cn(s,e){let a=kn(e);for(const h of s.elements)a=a.filter(d=>!fe(d,h));return{arrayValue:{values:a}}}class xn extends An{constructor(e,a){super(),this.wt=e,this._t=a}}function Nn(s){return Zt(s.integerValue||s.doubleValue)}function kn(s){return Ie(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Mn(s,e){return s.field.isEqual(e.field)&&function(a,h){return a instanceof Vn&&h instanceof Vn||a instanceof Dn&&h instanceof Dn?rt(a.elements,h.elements,fe):a instanceof xn&&h instanceof xn?fe(a._t,h._t):a instanceof vn&&h instanceof vn}(s.transform,e.transform)}class Fn{constructor(e,a){this.version=e,this.transformResults=a}}class $n{constructor(e,a){this.updateTime=e,this.exists=a}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bn(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ln{}function Un(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Yn(s.key,$n.none()):new jn(s.key,s.data,$n.none());{const a=s.data,h=De.empty();let d=new Qt(ft.comparator);for(let g of e.fields)if(!d.has(g)){let _=a.field(g);_===null&&g.length>1&&(g=g.popLast(),_=a.field(g)),_===null?h.delete(g):h.set(g,_),d=d.add(g)}return new Wn(s.key,h,new zt(d.toArray()),$n.none())}}function qn(s,e,a){s instanceof jn?function(h,d,g){const _=h.value.clone(),b=Hn(h.fieldTransforms,d,g.transformResults);_.setAll(b),d.convertToFoundDocument(g.version,_).setHasCommittedMutations()}(s,e,a):s instanceof Wn?function(h,d,g){if(!Bn(h.precondition,d))return void d.convertToUnknownDocument(g.version);const _=Hn(h.fieldTransforms,d,g.transformResults),b=d.data;b.setAll(zn(h)),b.setAll(_),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(s,e,a):function(h,d,g){d.convertToNoDocument(g.version).setHasCommittedMutations()}(0,e,a)}function Kn(s,e,a,h){return s instanceof jn?function(d,g,_,b){if(!Bn(d.precondition,g))return _;const et=d.value.clone(),ot=Jn(d.fieldTransforms,b,g);return et.setAll(ot),g.convertToFoundDocument(g.version,et).setHasLocalMutations(),null}(s,e,a,h):s instanceof Wn?function(d,g,_,b){if(!Bn(d.precondition,g))return _;const et=Jn(d.fieldTransforms,b,g),ot=g.data;return ot.setAll(zn(d)),ot.setAll(et),g.convertToFoundDocument(g.version,ot).setHasLocalMutations(),_===null?null:_.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(gt=>gt.field))}(s,e,a,h):function(d,g,_){return Bn(d.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):_}(s,e,a)}function Gn(s,e){let a=null;for(const h of s.fieldTransforms){const d=e.data.field(h.field),g=Pn(h.transform,d||null);g!=null&&(a===null&&(a=De.empty()),a.set(h.field,g))}return a||null}function Qn(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,h){return a===void 0&&h===void 0||!(!a||!h)&&rt(a,h,(d,g)=>Mn(d,g))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class jn extends Ln{constructor(e,a,h,d=[]){super(),this.key=e,this.value=a,this.precondition=h,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Wn extends Ln{constructor(e,a,h,d,g=[]){super(),this.key=e,this.data=a,this.fieldMask=h,this.precondition=d,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function zn(s){const e=new Map;return s.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const h=s.data.field(a);e.set(a,h)}}),e}function Hn(s,e,a){const h=new Map;U(s.length===a.length);for(let d=0;d<a.length;d++){const g=s[d],_=g.transform,b=e.data.field(g.field);h.set(g.field,bn(_,b,a[d]))}return h}function Jn(s,e,a){const h=new Map;for(const d of s){const g=d.transform,_=a.data.field(d.field);h.set(d.field,Rn(g,_,e))}return h}class Yn extends Ln{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xn extends Ln{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,es;function ns(s){switch(s){default:return L();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function ss(s){if(s===void 0)return F("GRPC error has no .code"),G.UNKNOWN;switch(s){case ts.OK:return G.OK;case ts.CANCELLED:return G.CANCELLED;case ts.UNKNOWN:return G.UNKNOWN;case ts.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ts.INTERNAL:return G.INTERNAL;case ts.UNAVAILABLE:return G.UNAVAILABLE;case ts.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ts.NOT_FOUND:return G.NOT_FOUND;case ts.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ts.ABORTED:return G.ABORTED;case ts.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ts.DATA_LOSS:return G.DATA_LOSS;default:return L()}}(es=ts||(ts={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,a){this.mapKeyFn=e,this.equalsFn=a,this.inner={},this.innerSize=0}get(e){const a=this.mapKeyFn(e),h=this.inner[a];if(h!==void 0){for(const[d,g]of h)if(this.equalsFn(d,e))return g}}has(e){return this.get(e)!==void 0}set(e,a){const h=this.mapKeyFn(e),d=this.inner[h];if(d===void 0)return this.inner[h]=[[e,a]],void this.innerSize++;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],e))return void(d[g]=[e,a]);d.push([e,a]),this.innerSize++}delete(e){const a=this.mapKeyFn(e),h=this.inner[a];if(h===void 0)return!1;for(let d=0;d<h.length;d++)if(this.equalsFn(h[d][0],e))return h.length===1?delete this.inner[a]:h.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Lt(this.inner,(a,h)=>{for(const[d,g]of h)e(d,g)})}isEmpty(){return Ut(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new qt(dt.comparator);function os(){return rs}const us=new qt(dt.comparator);function cs(...s){let e=us;for(const a of s)e=e.insert(a.key,a);return e}function as(s){let e=us;return s.forEach((a,h)=>e=e.insert(a,h.overlayedDocument)),e}function hs(){return fs()}function ls(){return fs()}function fs(){return new is(s=>s.toString(),(s,e)=>s.isEqual(e))}const ds=new qt(dt.comparator),_s=new Qt(dt.comparator);function ws(...s){let e=_s;for(const a of s)e=e.add(a);return e}const ms=new Qt(it);function gs(){return ms}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,a,h,d,g){this.snapshotVersion=e,this.targetChanges=a,this.targetMismatches=h,this.documentUpdates=d,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,a){const h=new Map;return h.set(e,ps.createSynthesizedTargetChangeForCurrentChange(e,a)),new ys(ct.min(),h,gs(),os(),ws())}}class ps{constructor(e,a,h,d,g){this.resumeToken=e,this.current=a,this.addedDocuments=h,this.modifiedDocuments=d,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,a){return new ps(Jt.EMPTY_BYTE_STRING,a,ws(),ws(),ws())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,a,h,d){this.gt=e,this.removedTargetIds=a,this.key=h,this.yt=d}}class Ts{constructor(e,a){this.targetId=e,this.It=a}}class Es{constructor(e,a,h=Jt.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=a,this.resumeToken=h,this.cause=d}}class As{constructor(){this.Tt=0,this.Et=Ps(),this.At=Jt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ws(),a=ws(),h=ws();return this.Et.forEach((d,g)=>{switch(g){case 0:e=e.add(d);break;case 2:a=a.add(d);break;case 1:h=h.add(d);break;default:L()}}),new ps(this.At,this.Rt,e,a,h)}Dt(){this.bt=!1,this.Et=Ps()}Ct(e,a){this.bt=!0,this.Et=this.Et.insert(e,a)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rs{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it)}Ut(e){for(const a of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(a,e.yt):this.Kt(a,e.key,e.yt);for(const a of e.removedTargetIds)this.Kt(a,e.key,e.yt)}Gt(e){this.forEachTarget(e,a=>{const h=this.Qt(a);switch(e.state){case 0:this.jt(a)&&h.Vt(e.resumeToken);break;case 1:h.kt(),h.Pt||h.Dt(),h.Vt(e.resumeToken);break;case 2:h.kt(),h.Pt||this.removeTarget(a);break;case 3:this.jt(a)&&(h.Ot(),h.Vt(e.resumeToken));break;case 4:this.jt(a)&&(this.Wt(a),h.Vt(e.resumeToken));break;default:L()}})}forEachTarget(e,a){e.targetIds.length>0?e.targetIds.forEach(a):this.Ft.forEach((h,d)=>{this.jt(d)&&a(d)})}zt(e){const a=e.targetId,h=e.It.count,d=this.Ht(a);if(d){const g=d.target;if($e(g))if(h===0){const _=new dt(g.path);this.Kt(a,_,xe.newNoDocument(_,ct.min()))}else U(h===1);else this.Jt(a)!==h&&(this.Wt(a),this.Lt=this.Lt.add(a))}}Yt(e){const a=new Map;this.Ft.forEach((g,_)=>{const b=this.Ht(_);if(b){if(g.current&&$e(b.target)){const et=new dt(b.target.path);this.$t.get(et)!==null||this.Xt(_,et)||this.Kt(_,et,xe.newNoDocument(et,e))}g.vt&&(a.set(_,g.St()),g.Dt())}});let h=ws();this.Bt.forEach((g,_)=>{let b=!0;_.forEachWhile(et=>{const ot=this.Ht(et);return!ot||ot.purpose===2||(b=!1,!1)}),b&&(h=h.add(g))}),this.$t.forEach((g,_)=>_.setReadTime(e));const d=new ys(e,a,this.Lt,this.$t,h);return this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it),d}qt(e,a){if(!this.jt(e))return;const h=this.Xt(e,a.key)?2:0;this.Qt(e).Ct(a.key,h),this.$t=this.$t.insert(a.key,a),this.Bt=this.Bt.insert(a.key,this.Zt(a.key).add(e))}Kt(e,a,h){if(!this.jt(e))return;const d=this.Qt(e);this.Xt(e,a)?d.Ct(a,1):d.xt(a),this.Bt=this.Bt.insert(a,this.Zt(a).delete(e)),h&&(this.$t=this.$t.insert(a,h))}removeTarget(e){this.Ft.delete(e)}Jt(e){const a=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+a.addedDocuments.size-a.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let a=this.Ft.get(e);return a||(a=new As,this.Ft.set(e,a)),a}Zt(e){let a=this.Bt.get(e);return a||(a=new Qt(it),this.Bt=this.Bt.insert(e,a)),a}jt(e){const a=this.Ht(e)!==null;return a||M("WatchChangeAggregator","Detected inactive target",e),a}Ht(e){const a=this.Ft.get(e);return a&&a.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new As),this.Mt.getRemoteKeysForTarget(e).forEach(a=>{this.Kt(e,a,null)})}Xt(e,a){return this.Mt.getRemoteKeysForTarget(e).has(a)}}function bs(){return new qt(dt.comparator)}function Ps(){return new qt(dt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Vs=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Ss{constructor(e,a){this.databaseId=e,this.dt=a}}function Ds(s,e){return s.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cs(s,e){return s.dt?e.toBase64():e.toUint8Array()}function xs(s,e){return Ds(s,e.toTimestamp())}function Ns(s){return U(!!s),ct.fromTimestamp(function(e){const a=Xt(e);return new ut(a.seconds,a.nanos)}(s))}function ks(s,e){return function(a){return new ht(["projects",a.projectId,"databases",a.database])}(s).child("documents").child(e).canonicalString()}function Os(s){const e=ht.fromString(s);return U(ui(e)),e}function Ms(s,e){return ks(s.databaseId,e.path)}function Fs(s,e){const a=Os(e);if(a.get(1)!==s.databaseId.projectId)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+s.databaseId.projectId);if(a.get(3)!==s.databaseId.database)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+s.databaseId.database);return new dt(Us(a))}function $s(s,e){return ks(s.databaseId,e)}function Bs(s){const e=Os(s);return e.length===4?ht.emptyPath():Us(e)}function Ls(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Us(s){return U(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function qs(s,e,a){return{name:Ms(s,e),fields:a.value.mapValue.fields}}function Qs(s,e){let a;if("targetChange"in e){e.targetChange;const h=function(et){return et==="NO_CHANGE"?0:et==="ADD"?1:et==="REMOVE"?2:et==="CURRENT"?3:et==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),d=e.targetChange.targetIds||[],g=function(et,ot){return et.dt?(U(ot===void 0||typeof ot=="string"),Jt.fromBase64String(ot||"")):(U(ot===void 0||ot instanceof Uint8Array),Jt.fromUint8Array(ot||new Uint8Array))}(s,e.targetChange.resumeToken),_=e.targetChange.cause,b=_&&function(et){const ot=et.code===void 0?G.UNKNOWN:ss(et.code);return new Q(ot,et.message||"")}(_);a=new Es(h,d,g,b||null)}else if("documentChange"in e){e.documentChange;const h=e.documentChange;h.document,h.document.name,h.document.updateTime;const d=Fs(s,h.document.name),g=Ns(h.document.updateTime),_=new De({mapValue:{fields:h.document.fields}}),b=xe.newFoundDocument(d,g,_),et=h.targetIds||[],ot=h.removedTargetIds||[];a=new Is(et,ot,b.key,b)}else if("documentDelete"in e){e.documentDelete;const h=e.documentDelete;h.document;const d=Fs(s,h.document),g=h.readTime?Ns(h.readTime):ct.min(),_=xe.newNoDocument(d,g),b=h.removedTargetIds||[];a=new Is([],b,_.key,_)}else if("documentRemove"in e){e.documentRemove;const h=e.documentRemove;h.document;const d=Fs(s,h.document),g=h.removedTargetIds||[];a=new Is([],g,d,null)}else{if(!("filter"in e))return L();{e.filter;const h=e.filter;h.targetId;const d=h.count||0,g=new Zn(d),_=h.targetId;a=new Ts(_,g)}}return a}function js(s,e){let a;if(e instanceof jn)a={update:qs(s,e.key,e.value)};else if(e instanceof Yn)a={delete:Ms(s,e.key)};else if(e instanceof Wn)a={update:qs(s,e.key,e.data),updateMask:oi(e.fieldMask)};else{if(!(e instanceof Xn))return L();a={verify:Ms(s,e.key)}}return e.fieldTransforms.length>0&&(a.updateTransforms=e.fieldTransforms.map(h=>function(d,g){const _=g.transform;if(_ instanceof vn)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Vn)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Dn)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof xn)return{fieldPath:g.field.canonicalString(),increment:_._t};throw L()}(0,h))),e.precondition.isNone||(a.currentDocument=function(h,d){return d.updateTime!==void 0?{updateTime:xs(h,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:L()}(s,e.precondition)),a}function zs(s,e){return s&&s.length>0?(U(e!==void 0),s.map(a=>function(h,d){let g=h.updateTime?Ns(h.updateTime):Ns(d);return g.isEqual(ct.min())&&(g=Ns(d)),new Fn(g,h.transformResults||[])}(a,e))):[]}function Hs(s,e){return{documents:[$s(s,e.path)]}}function Js(s,e){const a={structuredQuery:{}},h=e.path;e.collectionGroup!==null?(a.parent=$s(s,h),a.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a.parent=$s(s,h.popLast()),a.structuredQuery.from=[{collectionId:h.lastSegment()}]);const d=function(et){if(et.length===0)return;const ot=et.map(gt=>function(yt){if(yt.op==="=="){if(Ee(yt.value))return{unaryFilter:{field:ni(yt.field),op:"IS_NAN"}};if(Te(yt.value))return{unaryFilter:{field:ni(yt.field),op:"IS_NULL"}}}else if(yt.op==="!="){if(Ee(yt.value))return{unaryFilter:{field:ni(yt.field),op:"IS_NOT_NAN"}};if(Te(yt.value))return{unaryFilter:{field:ni(yt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(yt.field),op:ei(yt.op),value:yt.value}}}(gt));return ot.length===1?ot[0]:{compositeFilter:{op:"AND",filters:ot}}}(e.filters);d&&(a.structuredQuery.where=d);const g=function(et){if(et.length!==0)return et.map(ot=>function(gt){return{field:ni(gt.field),direction:ti(gt.dir)}}(ot))}(e.orderBy);g&&(a.structuredQuery.orderBy=g);const _=function(et,ot){return et.dt||oe(ot)?ot:{value:ot}}(s,e.limit);var b;return _!==null&&(a.structuredQuery.limit=_),e.startAt&&(a.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(a.structuredQuery.endAt=function(et){return{before:!et.inclusive,values:et.position}}(e.endAt)),a}function Ys(s){let e=Bs(s.parent);const a=s.structuredQuery,h=a.from?a.from.length:0;let d=null;if(h>0){U(h===1);const gt=a.from[0];gt.allDescendants?d=gt.collectionId:e=e.child(gt.collectionId)}let g=[];a.where&&(g=Zs(a.where));let _=[];a.orderBy&&(_=a.orderBy.map(gt=>function(yt){return new Xe(si(yt.field),function(mt){switch(mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yt.direction))}(gt)));let b=null;a.limit&&(b=function(gt){let yt;return yt=typeof gt=="object"?gt.value:gt,oe(yt)?null:yt}(a.limit));let et=null;a.startAt&&(et=function(gt){const yt=!!gt.before,mt=gt.values||[];return new Ye(mt,yt)}(a.startAt));let ot=null;return a.endAt&&(ot=function(gt){const yt=!gt.before,mt=gt.values||[];return new Ye(mt,yt)}(a.endAt)),sn(e,d,_,g,b,"F",et,ot)}function Xs(s,e){const a=function(h,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return a==null?null:{"goog-listen-tags":a}}function Zs(s){return s?s.unaryFilter!==void 0?[ri(s)]:s.fieldFilter!==void 0?[ii(s)]:s.compositeFilter!==void 0?s.compositeFilter.filters.map(e=>Zs(e)).reduce((e,a)=>e.concat(a)):L():[]}function ti(s){return vs[s]}function ei(s){return Vs[s]}function ni(s){return{fieldPath:s.canonicalString()}}function si(s){return ft.fromServerFormat(s.fieldPath)}function ii(s){return qe.create(si(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(s.fieldFilter.op),s.fieldFilter.value)}function ri(s){switch(s.unaryFilter.op){case"IS_NAN":const e=si(s.unaryFilter.field);return qe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const a=si(s.unaryFilter.field);return qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=si(s.unaryFilter.field);return qe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=si(s.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function oi(s){const e=[];return s.fields.forEach(a=>e.push(a.canonicalString())),{fieldPaths:e}}function ui(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,a,h,d){this.batchId=e,this.localWriteTime=a,this.baseMutations=h,this.mutations=d}applyToRemoteDocument(e,a){const h=a.mutationResults;for(let d=0;d<this.mutations.length;d++){const g=this.mutations[d];g.key.isEqual(e.key)&&qn(g,e,h[d])}}applyToLocalView(e,a){for(const h of this.baseMutations)h.key.isEqual(e.key)&&(a=Kn(h,e,a,this.localWriteTime));for(const h of this.mutations)h.key.isEqual(e.key)&&(a=Kn(h,e,a,this.localWriteTime));return a}applyToLocalDocumentSet(e,a){const h=ls();return this.mutations.forEach(d=>{const g=e.get(d.key),_=g.overlayedDocument;let b=this.applyToLocalView(_,g.mutatedFields);b=a.has(d.key)?null:b;const et=Un(_,b);et!==null&&h.set(d.key,et),_.isValidDocument()||_.convertToNoDocument(ct.min())}),h}keys(){return this.mutations.reduce((e,a)=>e.add(a.key),ws())}isEqual(e){return this.batchId===e.batchId&&rt(this.mutations,e.mutations,(a,h)=>Qn(a,h))&&rt(this.baseMutations,e.baseMutations,(a,h)=>Qn(a,h))}}class $i{constructor(e,a,h,d){this.batch=e,this.commitVersion=a,this.mutationResults=h,this.docVersions=d}static from(e,a,h){U(e.mutations.length===h.length);let d=ds;const g=e.mutations;for(let _=0;_<g.length;_++)d=d.insert(g[_].key,h[_].version);return new $i(e,a,h,d)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,a){this.largestBatchId=e,this.mutation=a}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,a,h,d,g=ct.min(),_=ct.min(),b=Jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=a,this.purpose=h,this.sequenceNumber=d,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=b}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,a){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.ne=e}}function Ji(s){const e=Ys({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fn(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.ze=new gr}addToCollectionParentIndex(e,a){return this.ze.add(a),Pt.resolve()}getCollectionParents(e,a){return Pt.resolve(this.ze.getEntries(a))}addFieldIndex(e,a){return Pt.resolve()}deleteFieldIndex(e,a){return Pt.resolve()}getDocumentsMatchingTarget(e,a){return Pt.resolve(null)}getIndexType(e,a){return Pt.resolve(0)}getFieldIndexes(e,a){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,a){return Pt.resolve(Tt.min())}getMinOffsetFromCollectionGroup(e,a){return Pt.resolve(Tt.min())}updateCollectionGroup(e,a,h){return Pt.resolve()}updateIndexEntries(e,a){return Pt.resolve()}}class gr{constructor(){this.index={}}add(e){const a=e.lastSegment(),h=e.popLast(),d=this.index[a]||new Qt(ht.comparator),g=!d.has(h);return this.index[a]=d.add(h),g}has(e){const a=e.lastSegment(),h=e.popLast(),d=this.index[a];return d&&d.has(h)}getEntries(e){return(this.index[e]||new Qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new kr(0)}static Rn(){return new kr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.changes=new is(e=>e.toString(),(e,a)=>e.isEqual(a)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,a){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(a))}getEntry(e,a){this.assertNotApplied();const h=this.changes.get(a);return h!==void 0?Pt.resolve(h):this.getFromCache(e,a)}getEntries(e,a){return this.getAllFromCache(e,a)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,a){this.overlayedDocument=e,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,a,h,d){this.remoteDocumentCache=e,this.mutationQueue=a,this.documentOverlayCache=h,this.indexManager=d}getDocument(e,a){let h=null;return this.documentOverlayCache.getOverlay(e,a).next(d=>(h=d,this.getBaseDocument(e,a,h))).next(d=>(h!==null&&Kn(h.mutation,d,zt.empty(),ut.now()),d))}getDocuments(e,a){return this.remoteDocumentCache.getEntries(e,a).next(h=>this.getLocalViewOfDocuments(e,h,ws()).next(()=>h))}getLocalViewOfDocuments(e,a,h=ws()){const d=hs();return this.populateOverlays(e,d,a).next(()=>this.computeViews(e,a,d,h).next(g=>{let _=cs();return g.forEach((b,et)=>{_=_.insert(b,et.overlayedDocument)}),_}))}getOverlayedDocuments(e,a){const h=hs();return this.populateOverlays(e,h,a).next(()=>this.computeViews(e,a,h,ws()))}populateOverlays(e,a,h){const d=[];return h.forEach(g=>{a.has(g)||d.push(g)}),this.documentOverlayCache.getOverlays(e,d).next(g=>{g.forEach((_,b)=>{a.set(_,b)})})}computeViews(e,a,h,d){let g=os();const _=fs(),b=fs();return a.forEach((et,ot)=>{const gt=h.get(ot.key);d.has(ot.key)&&(gt===void 0||gt.mutation instanceof Wn)?g=g.insert(ot.key,ot):gt!==void 0&&(_.set(ot.key,gt.mutation.getFieldMask()),Kn(gt.mutation,ot,gt.mutation.getFieldMask(),ut.now()))}),this.recalculateAndSaveOverlays(e,g).next(et=>(et.forEach((ot,gt)=>_.set(ot,gt)),a.forEach((ot,gt)=>{var yt;return b.set(ot,new to(gt,(yt=_.get(ot))!==null&&yt!==void 0?yt:null))}),b))}recalculateAndSaveOverlays(e,a){const h=fs();let d=new qt((_,b)=>_-b),g=ws();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,a).next(_=>{for(const b of _)b.keys().forEach(et=>{const ot=a.get(et);if(ot===null)return;let gt=h.get(et)||zt.empty();gt=b.applyToLocalView(ot,gt),h.set(et,gt);const yt=(d.get(b.batchId)||ws()).add(et);d=d.insert(b.batchId,yt)})}).next(()=>{const _=[],b=d.getReverseIterator();for(;b.hasNext();){const et=b.getNext(),ot=et.key,gt=et.value,yt=ls();gt.forEach(mt=>{if(!g.has(mt)){const St=Un(a.get(mt),h.get(mt));St!==null&&yt.set(mt,St),g=g.add(mt)}}),_.push(this.documentOverlayCache.saveOverlays(e,ot,yt))}return Pt.waitFor(_)}).next(()=>h)}recalculateAndSaveOverlaysForDocumentKeys(e,a){return this.remoteDocumentCache.getEntries(e,a).next(h=>this.recalculateAndSaveOverlays(e,h))}getDocumentsMatchingQuery(e,a,h){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(e,a.path):an(a)?this.getDocumentsMatchingCollectionGroupQuery(e,a,h):this.getDocumentsMatchingCollectionQuery(e,a,h)}getNextDocuments(e,a,h,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,a,h,d).next(g=>{const _=d-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,a,h.largestBatchId,d-g.size):Pt.resolve(hs());let b=-1,et=g;return _.next(ot=>Pt.forEach(ot,(gt,yt)=>(b<yt.largestBatchId&&(b=yt.largestBatchId),g.get(gt)?Pt.resolve():this.getBaseDocument(e,gt,yt).next(mt=>{et=et.insert(gt,mt)}))).next(()=>this.populateOverlays(e,ot,g)).next(()=>this.computeViews(e,et,ot,ws())).next(gt=>({batchId:b,changes:as(gt)})))})}getDocumentsMatchingDocumentQuery(e,a){return this.getDocument(e,new dt(a)).next(h=>{let d=cs();return h.isFoundDocument()&&(d=d.insert(h.key,h)),d})}getDocumentsMatchingCollectionGroupQuery(e,a,h){const d=a.collectionGroup;let g=cs();return this.indexManager.getCollectionParents(e,d).next(_=>Pt.forEach(_,b=>{const et=function(ot,gt){return new nn(gt,null,ot.explicitOrderBy.slice(),ot.filters.slice(),ot.limit,ot.limitType,ot.startAt,ot.endAt)}(a,b.child(d));return this.getDocumentsMatchingCollectionQuery(e,et,h).next(ot=>{ot.forEach((gt,yt)=>{g=g.insert(gt,yt)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,a,h){let d;return this.remoteDocumentCache.getAllFromCollection(e,a.path,h).next(g=>(d=g,this.documentOverlayCache.getOverlaysForCollection(e,a.path,h.largestBatchId))).next(g=>{g.forEach((b,et)=>{const ot=et.getKey();d.get(ot)===null&&(d=d.insert(ot,xe.newInvalidDocument(ot)))});let _=cs();return d.forEach((b,et)=>{const ot=g.get(b);ot!==void 0&&Kn(ot.mutation,et,zt.empty(),ut.now()),mn(a,et)&&(_=_.insert(b,et))}),_})}getBaseDocument(e,a,h){return h===null||h.mutation.type===1?this.remoteDocumentCache.getEntry(e,a):Pt.resolve(xe.newInvalidDocument(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,a){return Pt.resolve(this.Jn.get(a))}saveBundleMetadata(e,a){var h;return this.Jn.set(a.id,{id:(h=a).id,version:h.version,createTime:Ns(h.createTime)}),Pt.resolve()}getNamedQuery(e,a){return Pt.resolve(this.Yn.get(a))}saveNamedQuery(e,a){return this.Yn.set(a.name,function(h){return{name:h.name,query:Ji(h.bundledQuery),readTime:Ns(h.readTime)}}(a)),Pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.overlays=new qt(dt.comparator),this.Xn=new Map}getOverlay(e,a){return Pt.resolve(this.overlays.get(a))}getOverlays(e,a){const h=hs();return Pt.forEach(a,d=>this.getOverlay(e,d).next(g=>{g!==null&&h.set(d,g)})).next(()=>h)}saveOverlays(e,a,h){return h.forEach((d,g)=>{this.ie(e,a,g)}),Pt.resolve()}removeOverlaysForBatchId(e,a,h){const d=this.Xn.get(h);return d!==void 0&&(d.forEach(g=>this.overlays=this.overlays.remove(g)),this.Xn.delete(h)),Pt.resolve()}getOverlaysForCollection(e,a,h){const d=hs(),g=a.length+1,_=new dt(a.child("")),b=this.overlays.getIteratorFrom(_);for(;b.hasNext();){const et=b.getNext().value,ot=et.getKey();if(!a.isPrefixOf(ot.path))break;ot.path.length===g&&et.largestBatchId>h&&d.set(et.getKey(),et)}return Pt.resolve(d)}getOverlaysForCollectionGroup(e,a,h,d){let g=new qt((ot,gt)=>ot-gt);const _=this.overlays.getIterator();for(;_.hasNext();){const ot=_.getNext().value;if(ot.getKey().getCollectionGroup()===a&&ot.largestBatchId>h){let gt=g.get(ot.largestBatchId);gt===null&&(gt=hs(),g=g.insert(ot.largestBatchId,gt)),gt.set(ot.getKey(),ot)}}const b=hs(),et=g.getIterator();for(;et.hasNext()&&(et.getNext().value.forEach((ot,gt)=>b.set(ot,gt)),!(b.size()>=d)););return Pt.resolve(b)}ie(e,a,h){const d=this.overlays.get(h.key);if(d!==null){const _=this.Xn.get(d.largestBatchId).delete(h.key);this.Xn.set(d.largestBatchId,_)}this.overlays=this.overlays.insert(h.key,new Bi(a,h));let g=this.Xn.get(a);g===void 0&&(g=ws(),this.Xn.set(a,g)),this.Xn.set(a,g.add(h.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.Zn=new Qt(ro.ts),this.es=new Qt(ro.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,a){const h=new ro(e,a);this.Zn=this.Zn.add(h),this.es=this.es.add(h)}ss(e,a){e.forEach(h=>this.addReference(h,a))}removeReference(e,a){this.rs(new ro(e,a))}os(e,a){e.forEach(h=>this.removeReference(h,a))}us(e){const a=new dt(new ht([])),h=new ro(a,e),d=new ro(a,e+1),g=[];return this.es.forEachInRange([h,d],_=>{this.rs(_),g.push(_.key)}),g}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const a=new dt(new ht([])),h=new ro(a,e),d=new ro(a,e+1);let g=ws();return this.es.forEachInRange([h,d],_=>{g=g.add(_.key)}),g}containsKey(e){const a=new ro(e,0),h=this.Zn.firstAfterOrEqual(a);return h!==null&&e.isEqual(h.key)}}class ro{constructor(e,a){this.key=e,this.ls=a}static ts(e,a){return dt.comparator(e.key,a.key)||it(e.ls,a.ls)}static ns(e,a){return it(e.ls,a.ls)||dt.comparator(e.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,a){this.indexManager=e,this.referenceDelegate=a,this.mutationQueue=[],this.fs=1,this.ds=new Qt(ro.ts)}checkEmpty(e){return Pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,a,h,d){const g=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const _=new Fi(g,a,h,d);this.mutationQueue.push(_);for(const b of d)this.ds=this.ds.add(new ro(b.key,g)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Pt.resolve(_)}lookupMutationBatch(e,a){return Pt.resolve(this._s(a))}getNextMutationBatchAfterBatchId(e,a){const h=a+1,d=this.ws(h),g=d<0?0:d;return Pt.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,a){const h=new ro(a,0),d=new ro(a,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([h,d],_=>{const b=this._s(_.ls);g.push(b)}),Pt.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,a){let h=new Qt(it);return a.forEach(d=>{const g=new ro(d,0),_=new ro(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,_],b=>{h=h.add(b.ls)})}),Pt.resolve(this.gs(h))}getAllMutationBatchesAffectingQuery(e,a){const h=a.path,d=h.length+1;let g=h;dt.isDocumentKey(g)||(g=g.child(""));const _=new ro(new dt(g),0);let b=new Qt(it);return this.ds.forEachWhile(et=>{const ot=et.key.path;return!!h.isPrefixOf(ot)&&(ot.length===d&&(b=b.add(et.ls)),!0)},_),Pt.resolve(this.gs(b))}gs(e){const a=[];return e.forEach(h=>{const d=this._s(h);d!==null&&a.push(d)}),a}removeMutationBatch(e,a){U(this.ys(a.batchId,"removed")===0),this.mutationQueue.shift();let h=this.ds;return Pt.forEach(a.mutations,d=>{const g=new ro(d.key,a.batchId);return h=h.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.ds=h})}In(e){}containsKey(e,a){const h=new ro(a,0),d=this.ds.firstAfterOrEqual(h);return Pt.resolve(a.isEqual(d&&d.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pt.resolve()}ys(e,a){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const a=this.ws(e);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ps=e,this.docs=new qt(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,a){const h=a.key,d=this.docs.get(h),g=d?d.size:0,_=this.ps(a);return this.docs=this.docs.insert(h,{document:a.mutableCopy(),size:_}),this.size+=_-g,this.indexManager.addToCollectionParentIndex(e,h.path.popLast())}removeEntry(e){const a=this.docs.get(e);a&&(this.docs=this.docs.remove(e),this.size-=a.size)}getEntry(e,a){const h=this.docs.get(a);return Pt.resolve(h?h.document.mutableCopy():xe.newInvalidDocument(a))}getEntries(e,a){let h=os();return a.forEach(d=>{const g=this.docs.get(d);h=h.insert(d,g?g.document.mutableCopy():xe.newInvalidDocument(d))}),Pt.resolve(h)}getAllFromCollection(e,a,h){let d=os();const g=new dt(a.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:b,value:{document:et}}=_.getNext();if(!a.isPrefixOf(b.path))break;b.path.length>a.length+1||Et(It(et),h)<=0||(d=d.insert(et.key,et.mutableCopy()))}return Pt.resolve(d)}getAllFromCollectionGroup(e,a,h,d){L()}Is(e,a){return Pt.forEach(this.docs,h=>a(h))}newChangeBuffer(e){return new co(this)}getSize(e){return Pt.resolve(this.size)}}class co extends Qr{constructor(e){super(),this.zn=e}applyChanges(e){const a=[];return this.changes.forEach((h,d)=>{d.isValidDocument()?a.push(this.zn.addEntry(e,d)):this.zn.removeEntry(h)}),Pt.waitFor(a)}getFromCache(e,a){return this.zn.getEntry(e,a)}getAllFromCache(e,a){return this.zn.getEntries(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.persistence=e,this.Ts=new is(a=>Oe(a),Fe),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Es=0,this.As=new io,this.targetCount=0,this.Rs=kr.An()}forEachTarget(e,a){return this.Ts.forEach((h,d)=>a(d)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,a,h){return h&&(this.lastRemoteSnapshotVersion=h),a>this.Es&&(this.Es=a),Pt.resolve()}vn(e){this.Ts.set(e.target,e);const a=e.targetId;a>this.highestTargetId&&(this.Rs=new kr(a),this.highestTargetId=a),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,a){return this.vn(a),this.targetCount+=1,Pt.resolve()}updateTargetData(e,a){return this.vn(a),Pt.resolve()}removeTargetData(e,a){return this.Ts.delete(a.target),this.As.us(a.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,a,h){let d=0;const g=[];return this.Ts.forEach((_,b)=>{b.sequenceNumber<=a&&h.get(b.targetId)===null&&(this.Ts.delete(_),g.push(this.removeMatchingKeysForTargetId(e,b.targetId)),d++)}),Pt.waitFor(g).next(()=>d)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,a){const h=this.Ts.get(a)||null;return Pt.resolve(h)}addMatchingKeys(e,a,h){return this.As.ss(a,h),Pt.resolve()}removeMatchingKeys(e,a,h){this.As.os(a,h);const d=this.persistence.referenceDelegate,g=[];return d&&a.forEach(_=>{g.push(d.markPotentiallyOrphaned(e,_))}),Pt.waitFor(g)}removeMatchingKeysForTargetId(e,a){return this.As.us(a),Pt.resolve()}getMatchingKeysForTargetId(e,a){const h=this.As.hs(a);return Pt.resolve(h)}containsKey(e,a){return Pt.resolve(this.As.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,a){this.bs={},this.overlays={},this.Ps=new $t(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new ao(this),this.indexManager=new mr,this.remoteDocumentCache=function(h){return new uo(h)}(h=>this.referenceDelegate.Ss(h)),this.wt=new Ui(a),this.Ds=new no(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let a=this.overlays[e.toKey()];return a||(a=new so,this.overlays[e.toKey()]=a),a}getMutationQueue(e,a){let h=this.bs[e.toKey()];return h||(h=new oo(a,this.referenceDelegate),this.bs[e.toKey()]=h),h}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,a,h){M("MemoryPersistence","Starting transaction:",e);const d=new lo(this.Ps.next());return this.referenceDelegate.Cs(),h(d).next(g=>this.referenceDelegate.xs(d).next(()=>g)).toPromise().then(g=>(d.raiseOnCommittedEvent(),g))}Ns(e,a){return Pt.or(Object.values(this.bs).map(h=>()=>h.containsKey(e,a)))}}class lo extends Rt{constructor(e){super(),this.currentSequenceNumber=e}}class fo{constructor(e){this.persistence=e,this.ks=new io,this.Os=null}static Ms(e){return new fo(e)}get Fs(){if(this.Os)return this.Os;throw L()}addReference(e,a,h){return this.ks.addReference(h,a),this.Fs.delete(h.toString()),Pt.resolve()}removeReference(e,a,h){return this.ks.removeReference(h,a),this.Fs.add(h.toString()),Pt.resolve()}markPotentiallyOrphaned(e,a){return this.Fs.add(a.toString()),Pt.resolve()}removeTarget(e,a){this.ks.us(a.targetId).forEach(d=>this.Fs.add(d.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(e,a.targetId).next(d=>{d.forEach(g=>this.Fs.add(g.toString()))}).next(()=>h.removeTargetData(e,a))}Cs(){this.Os=new Set}xs(e){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Fs,h=>{const d=dt.fromPath(h);return this.$s(e,d).next(g=>{g||a.removeEntry(d,ct.min())})}).next(()=>(this.Os=null,a.apply(e)))}updateLimboDocument(e,a){return this.$s(e,a).next(h=>{h?this.Fs.delete(a.toString()):this.Fs.add(a.toString())})}Ss(e){return 0}$s(e,a){return Pt.or([()=>Pt.resolve(this.ks.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(e,a),()=>this.persistence.Ns(e,a)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,a,h,d){this.targetId=e,this.fromCache=a,this.Pi=h,this.vi=d}static Vi(e,a){let h=ws(),d=ws();for(const g of a.docChanges)switch(g.type){case 0:h=h.add(g.doc.key);break;case 1:d=d.add(g.doc.key)}return new To(e,a.fromCache,h,d)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.Si=!1}initialize(e,a){this.Di=e,this.indexManager=a,this.Si=!0}getDocumentsMatchingQuery(e,a,h,d){return this.Ci(e,a).next(g=>g||this.xi(e,a,d,h)).next(g=>g||this.Ni(e,a))}Ci(e,a){return Pt.resolve(null)}xi(e,a,h,d){return on(a)||d.isEqual(ct.min())?this.Ni(e,a):this.Di.getDocuments(e,h).next(g=>{const _=this.ki(a,g);return this.Oi(a,_,h,d)?this.Ni(e,a):(k$1()<=LogLevel.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),wn(a)),this.Mi(e,_,a,pt(d,-1)))})}ki(e,a){let h=new Qt(yn(e));return a.forEach((d,g)=>{mn(e,g)&&(h=h.add(g))}),h}Oi(e,a,h,d){if(e.limit===null)return!1;if(h.size!==a.size)return!0;const g=e.limitType==="F"?a.last():a.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(d)>0)}Ni(e,a){return k$1()<=LogLevel.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",wn(a)),this.Di.getDocumentsMatchingQuery(e,a,Tt.min())}Mi(e,a,h,d){return this.Di.getDocumentsMatchingQuery(e,h,d).next(g=>(a.forEach(_=>{g=g.insert(_.key,_)}),g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,a,h,d){this.persistence=e,this.Fi=a,this.wt=d,this.$i=new qt(it),this.Bi=new is(g=>Oe(g),Fe),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(h)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eo(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>e.collect(a,this.$i))}}function Ro(s,e,a,h){return new Ao(s,e,a,h)}async function bo(s,e){const a=K(s);return await a.persistence.runTransaction("Handle user change","readonly",h=>{let d;return a.mutationQueue.getAllMutationBatches(h).next(g=>(d=g,a.qi(e),a.mutationQueue.getAllMutationBatches(h))).next(g=>{const _=[],b=[];let et=ws();for(const ot of d){_.push(ot.batchId);for(const gt of ot.mutations)et=et.add(gt.key)}for(const ot of g){b.push(ot.batchId);for(const gt of ot.mutations)et=et.add(gt.key)}return a.localDocuments.getDocuments(h,et).next(ot=>({Ki:ot,removedBatchIds:_,addedBatchIds:b}))})})}function Po(s,e){const a=K(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const d=e.batch.keys(),g=a.Ui.newChangeBuffer({trackRemovals:!0});return function(_,b,et,ot){const gt=et.batch,yt=gt.keys();let mt=Pt.resolve();return yt.forEach(St=>{mt=mt.next(()=>ot.getEntry(b,St)).next(_t=>{const xt=et.docVersions.get(St);U(xt!==null),_t.version.compareTo(xt)<0&&(gt.applyToRemoteDocument(_t,et),_t.isValidDocument()&&(_t.setReadTime(et.commitVersion),ot.addEntry(_t)))})}),mt.next(()=>_.mutationQueue.removeMutationBatch(b,gt))}(a,h,e,g).next(()=>g.apply(h)).next(()=>a.mutationQueue.performConsistencyCheck(h)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(h,d,e.batch.batchId)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,function(_){let b=ws();for(let et=0;et<_.mutationResults.length;++et)_.mutationResults[et].transformResults.length>0&&(b=b.add(_.batch.mutations[et].key));return b}(e))).next(()=>a.localDocuments.getDocuments(h,d))})}function vo(s){const e=K(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",a=>e.Vs.getLastRemoteSnapshotVersion(a))}function Vo(s,e){const a=K(s),h=e.snapshotVersion;let d=a.$i;return a.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const _=a.Ui.newChangeBuffer({trackRemovals:!0});d=a.$i;const b=[];e.targetChanges.forEach((gt,yt)=>{const mt=d.get(yt);if(!mt)return;b.push(a.Vs.removeMatchingKeys(g,gt.removedDocuments,yt).next(()=>a.Vs.addMatchingKeys(g,gt.addedDocuments,yt)));let St=mt.withSequenceNumber(g.currentSequenceNumber);e.targetMismatches.has(yt)?St=St.withResumeToken(Jt.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):gt.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(gt.resumeToken,h)),d=d.insert(yt,St),function(_t,xt,Ot){return _t.resumeToken.approximateByteSize()===0||xt.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8?!0:Ot.addedDocuments.size+Ot.modifiedDocuments.size+Ot.removedDocuments.size>0}(mt,St,gt)&&b.push(a.Vs.updateTargetData(g,St))});let et=os(),ot=ws();if(e.documentUpdates.forEach(gt=>{e.resolvedLimboDocuments.has(gt)&&b.push(a.persistence.referenceDelegate.updateLimboDocument(g,gt))}),b.push(So(g,_,e.documentUpdates).next(gt=>{et=gt.Gi,ot=gt.Qi})),!h.isEqual(ct.min())){const gt=a.Vs.getLastRemoteSnapshotVersion(g).next(yt=>a.Vs.setTargetsMetadata(g,g.currentSequenceNumber,h));b.push(gt)}return Pt.waitFor(b).next(()=>_.apply(g)).next(()=>a.localDocuments.getLocalViewOfDocuments(g,et,ot)).next(()=>et)}).then(g=>(a.$i=d,g))}function So(s,e,a){let h=ws(),d=ws();return a.forEach(g=>h=h.add(g)),e.getEntries(s,h).next(g=>{let _=os();return a.forEach((b,et)=>{const ot=g.get(b);et.isFoundDocument()!==ot.isFoundDocument()&&(d=d.add(b)),et.isNoDocument()&&et.version.isEqual(ct.min())?(e.removeEntry(b,et.readTime),_=_.insert(b,et)):!ot.isValidDocument()||et.version.compareTo(ot.version)>0||et.version.compareTo(ot.version)===0&&ot.hasPendingWrites?(e.addEntry(et),_=_.insert(b,et)):M("LocalStore","Ignoring outdated watch update for ",b,". Current version:",ot.version," Watch version:",et.version)}),{Gi:_,Qi:d}})}function Do(s,e){const a=K(s);return a.persistence.runTransaction("Get next mutation batch","readonly",h=>(e===void 0&&(e=-1),a.mutationQueue.getNextMutationBatchAfterBatchId(h,e)))}function Co(s,e){const a=K(s);return a.persistence.runTransaction("Allocate target","readwrite",h=>{let d;return a.Vs.getTargetData(h,e).next(g=>g?(d=g,Pt.resolve(d)):a.Vs.allocateTargetId(h).next(_=>(d=new Li(e,_,0,h.currentSequenceNumber),a.Vs.addTargetData(h,d).next(()=>d))))}).then(h=>{const d=a.$i.get(h.targetId);return(d===null||h.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(a.$i=a.$i.insert(h.targetId,h),a.Bi.set(e,h.targetId)),h})}async function xo(s,e,a){const h=K(s),d=h.$i.get(e),g=a?"readwrite":"readwrite-primary";try{a||await h.persistence.runTransaction("Release target",g,_=>h.persistence.referenceDelegate.removeTarget(_,d))}catch(_){if(!Ct(_))throw _;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}h.$i=h.$i.remove(e),h.Bi.delete(d.target)}function No(s,e,a){const h=K(s);let d=ct.min(),g=ws();return h.persistence.runTransaction("Execute query","readonly",_=>function(b,et,ot){const gt=K(b),yt=gt.Bi.get(ot);return yt!==void 0?Pt.resolve(gt.$i.get(yt)):gt.Vs.getTargetData(et,ot)}(h,_,ln(e)).next(b=>{if(b)return d=b.lastLimboFreeSnapshotVersion,h.Vs.getMatchingKeysForTargetId(_,b.targetId).next(et=>{g=et})}).next(()=>h.Fi.getDocumentsMatchingQuery(_,e,a?d:ct.min(),a?g:ws())).next(b=>(Mo(h,gn(e),b),{documents:b,ji:g})))}function Mo(s,e,a){let h=ct.min();a.forEach((d,g)=>{g.readTime.compareTo(h)>0&&(h=g.readTime)}),s.Li.set(e,h)}class jo{constructor(){this.activeTargetIds=gs()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zo{constructor(){this.Fr=new jo,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,a,h){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,a,h){this.$r[e]=a}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new jo,Promise.resolve()}handleUserChange(e,a,h){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const a=e.ssl?"https":"http";this.so=a+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,a,h,d,g){const _=this.oo(e,a);M("RestConnection","Sending: ",_,h);const b={};return this.uo(b,d,g),this.co(e,_,b,h).then(et=>(M("RestConnection","Received: ",et),et),et=>{throw $("RestConnection",`${e} failed with error: `,et,"url: ",_,"request:",h),et})}ao(e,a,h,d,g,_){return this.ro(e,a,h,d,g)}uo(e,a,h){e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((d,g)=>e[g]=d),h&&h.headers.forEach((d,g)=>e[g]=d)}oo(e,a){const h=Yo[e];return`${this.so}/v1/${a}:${h}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,a,h,d){return new Promise((g,_)=>{const b=new XhrIo;b.listenOnce(EventType.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case ErrorCode.NO_ERROR:const ot=b.getResponseJson();M("Connection","XHR received:",JSON.stringify(ot)),g(ot);break;case ErrorCode.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),_(new Q(G.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const gt=b.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',gt,"response text:",b.getResponseText()),gt>0){const yt=b.getResponseJson().error;if(yt&&yt.status&&yt.message){const mt=function(St){const _t=St.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_t)>=0?_t:G.UNKNOWN}(yt.status);_(new Q(mt,yt.message))}else _(new Q(G.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new Q(G.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const et=JSON.stringify(d);b.send(a,"POST",et,h,15)})}ho(e,a,h){const d=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=createWebChannelTransport(),_=getStatEventTarget(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new FetchXmlHttpFactory({})),this.uo(b.initMessageHeaders,a,h),isMobileCordova()||isReactNative()||isElectron()||isIE()||isUWP()||isBrowserExtension()||(b.httpHeadersOverwriteParam="$httpHeaders");const et=d.join("");M("Connection","Creating WebChannel: "+et,b);const ot=g.createWebChannel(et,b);let gt=!1,yt=!1;const mt=new Xo({jr:_t=>{yt?M("Connection","Not sending because WebChannel is closed:",_t):(gt||(M("Connection","Opening WebChannel transport."),ot.open(),gt=!0),M("Connection","WebChannel sending:",_t),ot.send(_t))},Wr:()=>ot.close()}),St=(_t,xt,Ot)=>{_t.listen(xt,wt=>{try{Ot(wt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return St(ot,WebChannel.EventType.OPEN,()=>{yt||M("Connection","WebChannel transport opened.")}),St(ot,WebChannel.EventType.CLOSE,()=>{yt||(yt=!0,M("Connection","WebChannel transport closed"),mt.eo())}),St(ot,WebChannel.EventType.ERROR,_t=>{yt||(yt=!0,$("Connection","WebChannel transport errored:",_t),mt.eo(new Q(G.UNAVAILABLE,"The operation could not be completed")))}),St(ot,WebChannel.EventType.MESSAGE,_t=>{var xt;if(!yt){const Ot=_t.data[0];U(!!Ot);const wt=Ot,vt=wt.error||((xt=wt[0])===null||xt===void 0?void 0:xt.error);if(vt){M("Connection","WebChannel received error:",vt);const kt=vt.status;let Dt=function(Mt){const Ht=ts[Mt];if(Ht!==void 0)return ss(Ht)}(kt),Nt=vt.message;Dt===void 0&&(Dt=G.INTERNAL,Nt="Unknown error status: "+kt+" with message "+vt.message),yt=!0,mt.eo(new Q(Dt,Nt)),ot.close()}else M("Connection","WebChannel received:",Ot),mt.no(Ot)}}),St(_,Event.STAT_EVENT,_t=>{_t.stat===Stat.PROXY?M("Connection","Detected buffering proxy"):_t.stat===Stat.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{mt.Zr()},0),mt}}function eu(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){return new Ss(s,!0)}class su{constructor(e,a,h=1e3,d=1.5,g=6e4){this.js=e,this.timerId=a,this.lo=h,this.fo=d,this._o=g,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const a=Math.floor(this.wo+this.To()),h=Math.max(0,Date.now()-this.yo),d=Math.max(0,a-h);d>0&&M("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.wo} ms, delay with jitter: ${a} ms, last attempt: ${h} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,d,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,a,h,d,g,_,b,et){this.js=e,this.Ao=h,this.Ro=d,this.bo=g,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=b,this.listener=et,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new su(e,a)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,a){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():a&&a.code===G.RESOURCE_EXHAUSTED?(F(a.toString()),F("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):a&&a.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(a)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),a=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,d])=>{this.Po===a&&this.Uo(h,d)},h=>{e(()=>{const d=new Q(G.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(d)})})}Uo(e,a){const h=this.Lo(this.Po);this.stream=this.Ko(e,a),this.stream.zr(()=>{h(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(d=>{h(()=>this.qo(d))}),this.stream.onMessage(d=>{h(()=>this.onMessage(d))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return a=>{this.js.enqueueAndForget(()=>this.Po===e?a():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ru extends iu{constructor(e,a,h,d,g,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,h,d,_),this.wt=g}Ko(e,a){return this.bo.ho("Listen",e,a)}onMessage(e){this.So.reset();const a=Qs(this.wt,e),h=function(d){if(!("targetChange"in d))return ct.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?ct.min():g.readTime?Ns(g.readTime):ct.min()}(e);return this.listener.Go(a,h)}Qo(e){const a={};a.database=Ls(this.wt),a.addTarget=function(d,g){let _;const b=g.target;return _=$e(b)?{documents:Hs(d,b)}:{query:Js(d,b)},_.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?_.resumeToken=Cs(d,g.resumeToken):g.snapshotVersion.compareTo(ct.min())>0&&(_.readTime=Ds(d,g.snapshotVersion.toTimestamp())),_}(this.wt,e);const h=Xs(this.wt,e);h&&(a.labels=h),this.Mo(a)}jo(e){const a={};a.database=Ls(this.wt),a.removeTarget=e,this.Mo(a)}}class ou extends iu{constructor(e,a,h,d,g,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,h,d,_),this.wt=g,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,a){return this.bo.ho("Write",e,a)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const a=zs(e.writeResults,e.commitTime),h=Ns(e.commitTime);return this.listener.Jo(h,a)}return U(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Ls(this.wt),this.Mo(e)}Ho(e){const a={streamToken:this.lastStreamToken,writes:e.map(h=>js(this.wt,h))};this.Mo(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends class{}{constructor(e,a,h,d){super(),this.authCredentials=e,this.appCheckCredentials=a,this.bo=h,this.wt=d,this.Zo=!1}tu(){if(this.Zo)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,a,h){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.bo.ro(e,a,h,d,g)).catch(d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Q(G.UNKNOWN,d.toString())})}ao(e,a,h,d){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,_])=>this.bo.ao(e,a,h,g,_,d)).catch(g=>{throw g.name==="FirebaseError"?(g.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Q(G.UNKNOWN,g.toString())})}terminate(){this.Zo=!0}}class cu{constructor(e,a){this.asyncQueue=e,this.onlineStateHandler=a,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const a=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(F(a),this.su=!1):M("OnlineStateTracker",a)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,a,h,d,g){this.localStore=e,this.datastore=a,this.asyncQueue=h,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=g,this.du.Br(_=>{h.enqueueAndForget(async()=>{yu(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(b){const et=K(b);et.lu.add(4),await lu(et),et._u.set("Unknown"),et.lu.delete(4),await hu(et)}(this))})}),this._u=new cu(h,d)}}async function hu(s){if(yu(s))for(const e of s.fu)await e(!0)}async function lu(s){for(const e of s.fu)await e(!1)}function fu(s,e){const a=K(s);a.hu.has(e.targetId)||(a.hu.set(e.targetId,e),gu(a)?mu(a):Mu(a).Co()&&_u(a,e))}function du(s,e){const a=K(s),h=Mu(a);a.hu.delete(e),h.Co()&&wu(a,e),a.hu.size===0&&(h.Co()?h.ko():yu(a)&&a._u.set("Unknown"))}function _u(s,e){s.wu.Nt(e.targetId),Mu(s).Qo(e)}function wu(s,e){s.wu.Nt(e),Mu(s).jo(e)}function mu(s){s.wu=new Rs({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),te:e=>s.hu.get(e)||null}),Mu(s).start(),s._u.iu()}function gu(s){return yu(s)&&!Mu(s).Do()&&s.hu.size>0}function yu(s){return K(s).lu.size===0}function pu(s){s.wu=void 0}async function Iu(s){s.hu.forEach((e,a)=>{_u(s,e)})}async function Tu(s,e){pu(s),gu(s)?(s._u.uu(e),mu(s)):s._u.set("Unknown")}async function Eu(s,e,a){if(s._u.set("Online"),e instanceof Es&&e.state===2&&e.cause)try{await async function(h,d){const g=d.cause;for(const _ of d.targetIds)h.hu.has(_)&&(await h.remoteSyncer.rejectListen(_,g),h.hu.delete(_),h.wu.removeTarget(_))}(s,e)}catch(h){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),h),await Au(s,h)}else if(e instanceof Is?s.wu.Ut(e):e instanceof Ts?s.wu.zt(e):s.wu.Gt(e),!a.isEqual(ct.min()))try{const h=await vo(s.localStore);a.compareTo(h)>=0&&await function(d,g){const _=d.wu.Yt(g);return _.targetChanges.forEach((b,et)=>{if(b.resumeToken.approximateByteSize()>0){const ot=d.hu.get(et);ot&&d.hu.set(et,ot.withResumeToken(b.resumeToken,g))}}),_.targetMismatches.forEach(b=>{const et=d.hu.get(b);if(!et)return;d.hu.set(b,et.withResumeToken(Jt.EMPTY_BYTE_STRING,et.snapshotVersion)),wu(d,b);const ot=new Li(et.target,b,1,et.sequenceNumber);_u(d,ot)}),d.remoteSyncer.applyRemoteEvent(_)}(s,a)}catch(h){M("RemoteStore","Failed to raise snapshot:",h),await Au(s,h)}}async function Au(s,e,a){if(!Ct(e))throw e;s.lu.add(1),await lu(s),s._u.set("Offline"),a||(a=()=>vo(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await a(),s.lu.delete(1),await hu(s)})}function Ru(s,e){return e().catch(a=>Au(s,a,e))}async function bu(s){const e=K(s),a=Fu(e);let h=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Pu(e);)try{const d=await Do(e.localStore,h);if(d===null){e.au.length===0&&a.ko();break}h=d.batchId,vu(e,d)}catch(d){await Au(e,d)}Vu(e)&&Su(e)}function Pu(s){return yu(s)&&s.au.length<10}function vu(s,e){s.au.push(e);const a=Fu(s);a.Co()&&a.zo&&a.Ho(e.mutations)}function Vu(s){return yu(s)&&!Fu(s).Do()&&s.au.length>0}function Su(s){Fu(s).start()}async function Du(s){Fu(s).Xo()}async function Cu(s){const e=Fu(s);for(const a of s.au)e.Ho(a.mutations)}async function xu(s,e,a){const h=s.au.shift(),d=$i.from(h,e,a);await Ru(s,()=>s.remoteSyncer.applySuccessfulWrite(d)),await bu(s)}async function Nu(s,e){e&&Fu(s).zo&&await async function(a,h){if(d=h.code,ns(d)&&d!==G.ABORTED){const g=a.au.shift();Fu(a).No(),await Ru(a,()=>a.remoteSyncer.rejectFailedWrite(g.batchId,h)),await bu(a)}var d}(s,e),Vu(s)&&Su(s)}async function ku(s,e){const a=K(s);a.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const h=yu(a);a.lu.add(3),await lu(a),h&&a._u.set("Unknown"),await a.remoteSyncer.handleCredentialChange(e),a.lu.delete(3),await hu(a)}async function Ou(s,e){const a=K(s);e?(a.lu.delete(2),await hu(a)):e||(a.lu.add(2),await lu(a),a._u.set("Unknown"))}function Mu(s){return s.mu||(s.mu=function(e,a,h){const d=K(e);return d.tu(),new ru(a,d.bo,d.authCredentials,d.appCheckCredentials,d.wt,h)}(s.datastore,s.asyncQueue,{zr:Iu.bind(null,s),Jr:Tu.bind(null,s),Go:Eu.bind(null,s)}),s.fu.push(async e=>{e?(s.mu.No(),gu(s)?mu(s):s._u.set("Unknown")):(await s.mu.stop(),pu(s))})),s.mu}function Fu(s){return s.gu||(s.gu=function(e,a,h){const d=K(e);return d.tu(),new ou(a,d.bo,d.authCredentials,d.appCheckCredentials,d.wt,h)}(s.datastore,s.asyncQueue,{zr:Du.bind(null,s),Jr:Nu.bind(null,s),Yo:Cu.bind(null,s),Jo:xu.bind(null,s)}),s.fu.push(async e=>{e?(s.gu.No(),await bu(s)):(await s.gu.stop(),s.au.length>0&&(M("RemoteStore",`Stopping write stream with ${s.au.length} pending writes`),s.au=[]))})),s.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,a,h,d,g){this.asyncQueue=e,this.timerId=a,this.targetTimeMs=h,this.op=d,this.removalCallback=g,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,a,h,d,g){const _=Date.now()+h,b=new $u(e,a,_,d,g);return b.start(h),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(s,e){if(F("AsyncQueue",`${e}: ${s}`),Ct(s))return new Q(G.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.comparator=e?(a,h)=>e(a,h)||dt.comparator(a.key,h.key):(a,h)=>dt.comparator(a.key,h.key),this.keyedMap=cs(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Lu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const a=this.keyedMap.get(e);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((a,h)=>(e(a),!1))}add(e){const a=this.delete(e.key);return a.copy(a.keyedMap.insert(e.key,e),a.sortedSet.insert(e,null))}delete(e){const a=this.get(e);return a?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(a)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const a=this.sortedSet.getIterator(),h=e.sortedSet.getIterator();for(;a.hasNext();){const d=a.getNext().key,g=h.getNext().key;if(!d.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(a=>{e.push(a.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,a){const h=new Lu;return h.comparator=this.comparator,h.keyedMap=e,h.sortedSet=a,h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.yu=new qt(dt.comparator)}track(e){const a=e.doc.key,h=this.yu.get(a);h?e.type!==0&&h.type===3?this.yu=this.yu.insert(a,e):e.type===3&&h.type!==1?this.yu=this.yu.insert(a,{type:h.type,doc:e.doc}):e.type===2&&h.type===2?this.yu=this.yu.insert(a,{type:2,doc:e.doc}):e.type===2&&h.type===0?this.yu=this.yu.insert(a,{type:0,doc:e.doc}):e.type===1&&h.type===0?this.yu=this.yu.remove(a):e.type===1&&h.type===2?this.yu=this.yu.insert(a,{type:1,doc:h.doc}):e.type===0&&h.type===1?this.yu=this.yu.insert(a,{type:2,doc:e.doc}):L():this.yu=this.yu.insert(a,e)}pu(){const e=[];return this.yu.inorderTraversal((a,h)=>{e.push(h)}),e}}class qu{constructor(e,a,h,d,g,_,b,et){this.query=e,this.docs=a,this.oldDocs=h,this.docChanges=d,this.mutatedKeys=g,this.fromCache=_,this.syncStateChanged=b,this.excludesMetadataChanges=et}static fromInitialDocuments(e,a,h,d){const g=[];return a.forEach(_=>{g.push({type:0,doc:_})}),new qu(e,a,Lu.emptySet(a),g,h,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const a=this.docChanges,h=e.docChanges;if(a.length!==h.length)return!1;for(let d=0;d<a.length;d++)if(a[d].type!==h[d].type||!a[d].doc.isEqual(h[d].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.Iu=void 0,this.listeners=[]}}class Gu{constructor(){this.queries=new is(e=>_n(e),dn),this.onlineState="Unknown",this.Tu=new Set}}async function Qu(s,e){const a=K(s),h=e.query;let d=!1,g=a.queries.get(h);if(g||(d=!0,g=new Ku),d)try{g.Iu=await a.onListen(h)}catch(_){const b=Bu(_,`Initialization of query '${wn(e.query)}' failed`);return void e.onError(b)}a.queries.set(h,g),g.listeners.push(e),e.Eu(a.onlineState),g.Iu&&e.Au(g.Iu)&&Hu(a)}async function ju(s,e){const a=K(s),h=e.query;let d=!1;const g=a.queries.get(h);if(g){const _=g.listeners.indexOf(e);_>=0&&(g.listeners.splice(_,1),d=g.listeners.length===0)}if(d)return a.queries.delete(h),a.onUnlisten(h)}function Wu(s,e){const a=K(s);let h=!1;for(const d of e){const g=d.query,_=a.queries.get(g);if(_){for(const b of _.listeners)b.Au(d)&&(h=!0);_.Iu=d}}h&&Hu(a)}function zu(s,e,a){const h=K(s),d=h.queries.get(e);if(d)for(const g of d.listeners)g.onError(a);h.queries.delete(e)}function Hu(s){s.Tu.forEach(e=>{e.next()})}class Ju{constructor(e,a,h){this.query=e,this.Ru=a,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=h||{}}Au(e){if(!this.options.includeMetadataChanges){const h=[];for(const d of e.docChanges)d.type!==3&&h.push(d);e=new qu(e.query,e.docs,e.oldDocs,h,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let a=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),a=!0),a}Vu(e,a){if(!e.fromCache)return!0;const h=a!=="Offline";return(!this.options.Du||!h)&&(!e.docs.isEmpty()||a==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const a=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}Su(e){e=qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.key=e}}class nc{constructor(e){this.key=e}}class sc{constructor(e,a){this.query=e,this.Fu=a,this.$u=null,this.current=!1,this.Bu=ws(),this.mutatedKeys=ws(),this.Lu=yn(e),this.Uu=new Lu(this.Lu)}get qu(){return this.Fu}Ku(e,a){const h=a?a.Gu:new Uu,d=a?a.Uu:this.Uu;let g=a?a.mutatedKeys:this.mutatedKeys,_=d,b=!1;const et=this.query.limitType==="F"&&d.size===this.query.limit?d.last():null,ot=this.query.limitType==="L"&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((gt,yt)=>{const mt=d.get(gt),St=mn(this.query,yt)?yt:null,_t=!!mt&&this.mutatedKeys.has(mt.key),xt=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let Ot=!1;mt&&St?mt.data.isEqual(St.data)?_t!==xt&&(h.track({type:3,doc:St}),Ot=!0):this.Qu(mt,St)||(h.track({type:2,doc:St}),Ot=!0,(et&&this.Lu(St,et)>0||ot&&this.Lu(St,ot)<0)&&(b=!0)):!mt&&St?(h.track({type:0,doc:St}),Ot=!0):mt&&!St&&(h.track({type:1,doc:mt}),Ot=!0,(et||ot)&&(b=!0)),Ot&&(St?(_=_.add(St),g=xt?g.add(gt):g.delete(gt)):(_=_.delete(gt),g=g.delete(gt)))}),this.query.limit!==null)for(;_.size>this.query.limit;){const gt=this.query.limitType==="F"?_.last():_.first();_=_.delete(gt.key),g=g.delete(gt.key),h.track({type:1,doc:gt})}return{Uu:_,Gu:h,Oi:b,mutatedKeys:g}}Qu(e,a){return e.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(e,a,h){const d=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const g=e.Gu.pu();g.sort((ot,gt)=>function(yt,mt){const St=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return St(yt)-St(mt)}(ot.type,gt.type)||this.Lu(ot.doc,gt.doc)),this.ju(h);const _=a?this.Wu():[],b=this.Bu.size===0&&this.current?1:0,et=b!==this.$u;return this.$u=b,g.length!==0||et?{snapshot:new qu(this.query,e.Uu,d,g,e.mutatedKeys,b===0,et,!1),zu:_}:{zu:_}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Uu,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(a=>this.Fu=this.Fu.add(a)),e.modifiedDocuments.forEach(a=>{}),e.removedDocuments.forEach(a=>this.Fu=this.Fu.delete(a)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ws(),this.Uu.forEach(h=>{this.Hu(h.key)&&(this.Bu=this.Bu.add(h.key))});const a=[];return e.forEach(h=>{this.Bu.has(h)||a.push(new nc(h))}),this.Bu.forEach(h=>{e.has(h)||a.push(new ec(h))}),a}Ju(e){this.Fu=e.ji,this.Bu=ws();const a=this.Ku(e.documents);return this.applyChanges(a,!0)}Yu(){return qu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class ic{constructor(e,a,h){this.query=e,this.targetId=a,this.view=h}}class rc{constructor(e){this.key=e,this.Xu=!1}}class oc{constructor(e,a,h,d,g,_){this.localStore=e,this.remoteStore=a,this.eventManager=h,this.sharedClientState=d,this.currentUser=g,this.maxConcurrentLimboResolutions=_,this.Zu={},this.tc=new is(b=>_n(b),dn),this.ec=new Map,this.nc=new Set,this.sc=new qt(dt.comparator),this.ic=new Map,this.rc=new io,this.oc={},this.uc=new Map,this.cc=kr.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function uc(s,e){const a=Mc(s);let h,d;const g=a.tc.get(e);if(g)h=g.targetId,a.sharedClientState.addLocalQueryTarget(h),d=g.view.Yu();else{const _=await Co(a.localStore,ln(e));a.isPrimaryClient&&fu(a.remoteStore,_);const b=a.sharedClientState.addLocalQueryTarget(_.targetId);h=_.targetId,d=await cc(a,e,h,b==="current")}return d}async function cc(s,e,a,h){s.hc=(gt,yt,mt)=>async function(St,_t,xt,Ot){let wt=_t.view.Ku(xt);wt.Oi&&(wt=await No(St.localStore,_t.query,!1).then(({documents:Dt})=>_t.view.Ku(Dt,wt)));const vt=Ot&&Ot.targetChanges.get(_t.targetId),kt=_t.view.applyChanges(wt,St.isPrimaryClient,vt);return Tc(St,_t.targetId,kt.zu),kt.snapshot}(s,gt,yt,mt);const d=await No(s.localStore,e,!0),g=new sc(e,d.ji),_=g.Ku(d.documents),b=ps.createSynthesizedTargetChangeForCurrentChange(a,h&&s.onlineState!=="Offline"),et=g.applyChanges(_,s.isPrimaryClient,b);Tc(s,a,et.zu);const ot=new ic(e,a,g);return s.tc.set(e,ot),s.ec.has(a)?s.ec.get(a).push(e):s.ec.set(a,[e]),et.snapshot}async function ac(s,e){const a=K(s),h=a.tc.get(e),d=a.ec.get(h.targetId);if(d.length>1)return a.ec.set(h.targetId,d.filter(g=>!dn(g,e))),void a.tc.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||await xo(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),du(a.remoteStore,h.targetId),pc(a,h.targetId)}).catch(bt)):(pc(a,h.targetId),await xo(a.localStore,h.targetId,!0))}async function hc(s,e,a){const h=Fc(s);try{const d=await function(g,_){const b=K(g),et=ut.now(),ot=_.reduce((mt,St)=>mt.add(St.key),ws());let gt,yt;return b.persistence.runTransaction("Locally write mutations","readwrite",mt=>{let St=os(),_t=ws();return b.Ui.getEntries(mt,ot).next(xt=>{St=xt,St.forEach((Ot,wt)=>{wt.isValidDocument()||(_t=_t.add(Ot))})}).next(()=>b.localDocuments.getOverlayedDocuments(mt,St)).next(xt=>{gt=xt;const Ot=[];for(const wt of _){const vt=Gn(wt,gt.get(wt.key).overlayedDocument);vt!=null&&Ot.push(new Wn(wt.key,vt,Ce(vt.value.mapValue),$n.exists(!0)))}return b.mutationQueue.addMutationBatch(mt,et,Ot,_)}).next(xt=>{yt=xt;const Ot=xt.applyToLocalDocumentSet(gt,_t);return b.documentOverlayCache.saveOverlays(mt,xt.batchId,Ot)})}).then(()=>({batchId:yt.batchId,changes:as(gt)}))}(h.localStore,e);h.sharedClientState.addPendingMutation(d.batchId),function(g,_,b){let et=g.oc[g.currentUser.toKey()];et||(et=new qt(it)),et=et.insert(_,b),g.oc[g.currentUser.toKey()]=et}(h,d.batchId,a),await Rc(h,d.changes),await bu(h.remoteStore)}catch(d){const g=Bu(d,"Failed to persist write");a.reject(g)}}async function lc(s,e){const a=K(s);try{const h=await Vo(a.localStore,e);e.targetChanges.forEach((d,g)=>{const _=a.ic.get(g);_&&(U(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?_.Xu=!0:d.modifiedDocuments.size>0?U(_.Xu):d.removedDocuments.size>0&&(U(_.Xu),_.Xu=!1))}),await Rc(a,h,e)}catch(h){await bt(h)}}function fc(s,e,a){const h=K(s);if(h.isPrimaryClient&&a===0||!h.isPrimaryClient&&a===1){const d=[];h.tc.forEach((g,_)=>{const b=_.view.Eu(e);b.snapshot&&d.push(b.snapshot)}),function(g,_){const b=K(g);b.onlineState=_;let et=!1;b.queries.forEach((ot,gt)=>{for(const yt of gt.listeners)yt.Eu(_)&&(et=!0)}),et&&Hu(b)}(h.eventManager,e),d.length&&h.Zu.Go(d),h.onlineState=e,h.isPrimaryClient&&h.sharedClientState.setOnlineState(e)}}async function dc(s,e,a){const h=K(s);h.sharedClientState.updateQueryState(e,"rejected",a);const d=h.ic.get(e),g=d&&d.key;if(g){let _=new qt(dt.comparator);_=_.insert(g,xe.newNoDocument(g,ct.min()));const b=ws().add(g),et=new ys(ct.min(),new Map,new Qt(it),_,b);await lc(h,et),h.sc=h.sc.remove(g),h.ic.delete(e),Ac(h)}else await xo(h.localStore,e,!1).then(()=>pc(h,e,a)).catch(bt)}async function _c(s,e){const a=K(s),h=e.batch.batchId;try{const d=await Po(a.localStore,e);yc(a,h,null),gc(a,h),a.sharedClientState.updateMutationState(h,"acknowledged"),await Rc(a,d)}catch(d){await bt(d)}}async function wc(s,e,a){const h=K(s);try{const d=await function(g,_){const b=K(g);return b.persistence.runTransaction("Reject batch","readwrite-primary",et=>{let ot;return b.mutationQueue.lookupMutationBatch(et,_).next(gt=>(U(gt!==null),ot=gt.keys(),b.mutationQueue.removeMutationBatch(et,gt))).next(()=>b.mutationQueue.performConsistencyCheck(et)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(et,ot,_)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(et,ot)).next(()=>b.localDocuments.getDocuments(et,ot))})}(h.localStore,e);yc(h,e,a),gc(h,e),h.sharedClientState.updateMutationState(e,"rejected",a),await Rc(h,d)}catch(d){await bt(d)}}function gc(s,e){(s.uc.get(e)||[]).forEach(a=>{a.resolve()}),s.uc.delete(e)}function yc(s,e,a){const h=K(s);let d=h.oc[h.currentUser.toKey()];if(d){const g=d.get(e);g&&(a?g.reject(a):g.resolve(),d=d.remove(e)),h.oc[h.currentUser.toKey()]=d}}function pc(s,e,a=null){s.sharedClientState.removeLocalQueryTarget(e);for(const h of s.ec.get(e))s.tc.delete(h),a&&s.Zu.lc(h,a);s.ec.delete(e),s.isPrimaryClient&&s.rc.us(e).forEach(h=>{s.rc.containsKey(h)||Ic(s,h)})}function Ic(s,e){s.nc.delete(e.path.canonicalString());const a=s.sc.get(e);a!==null&&(du(s.remoteStore,a),s.sc=s.sc.remove(e),s.ic.delete(a),Ac(s))}function Tc(s,e,a){for(const h of a)h instanceof ec?(s.rc.addReference(h.key,e),Ec(s,h)):h instanceof nc?(M("SyncEngine","Document no longer in limbo: "+h.key),s.rc.removeReference(h.key,e),s.rc.containsKey(h.key)||Ic(s,h.key)):L()}function Ec(s,e){const a=e.key,h=a.path.canonicalString();s.sc.get(a)||s.nc.has(h)||(M("SyncEngine","New document in limbo: "+a),s.nc.add(h),Ac(s))}function Ac(s){for(;s.nc.size>0&&s.sc.size<s.maxConcurrentLimboResolutions;){const e=s.nc.values().next().value;s.nc.delete(e);const a=new dt(ht.fromString(e)),h=s.cc.next();s.ic.set(h,new rc(a)),s.sc=s.sc.insert(a,h),fu(s.remoteStore,new Li(ln(rn(a.path)),h,2,$t.ot))}}async function Rc(s,e,a){const h=K(s),d=[],g=[],_=[];h.tc.isEmpty()||(h.tc.forEach((b,et)=>{_.push(h.hc(et,e,a).then(ot=>{if(ot){h.isPrimaryClient&&h.sharedClientState.updateQueryState(et.targetId,ot.fromCache?"not-current":"current"),d.push(ot);const gt=To.Vi(et.targetId,ot);g.push(gt)}}))}),await Promise.all(_),h.Zu.Go(d),await async function(b,et){const ot=K(b);try{await ot.persistence.runTransaction("notifyLocalViewChanges","readwrite",gt=>Pt.forEach(et,yt=>Pt.forEach(yt.Pi,mt=>ot.persistence.referenceDelegate.addReference(gt,yt.targetId,mt)).next(()=>Pt.forEach(yt.vi,mt=>ot.persistence.referenceDelegate.removeReference(gt,yt.targetId,mt)))))}catch(gt){if(!Ct(gt))throw gt;M("LocalStore","Failed to update sequence numbers: "+gt)}for(const gt of et){const yt=gt.targetId;if(!gt.fromCache){const mt=ot.$i.get(yt),St=mt.snapshotVersion,_t=mt.withLastLimboFreeSnapshotVersion(St);ot.$i=ot.$i.insert(yt,_t)}}}(h.localStore,g))}async function bc(s,e){const a=K(s);if(!a.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const h=await bo(a.localStore,e);a.currentUser=e,function(d,g){d.uc.forEach(_=>{_.forEach(b=>{b.reject(new Q(G.CANCELLED,g))})}),d.uc.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(e,h.removedBatchIds,h.addedBatchIds),await Rc(a,h.Ki)}}function Pc(s,e){const a=K(s),h=a.ic.get(e);if(h&&h.Xu)return ws().add(h.key);{let d=ws();const g=a.ec.get(e);if(!g)return d;for(const _ of g){const b=a.tc.get(_);d=d.unionWith(b.view.qu)}return d}}function Mc(s){const e=K(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dc.bind(null,e),e.Zu.Go=Wu.bind(null,e.eventManager),e.Zu.lc=zu.bind(null,e.eventManager),e}function Fc(s){const e=K(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_c.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wc.bind(null,e),e}class Bc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=nu(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,a){return null}gc(e,a){return null}wc(e){return Ro(this.persistence,new Eo,e.initialUser,this.wt)}_c(e){return new ho(fo.Ms,this.wt)}dc(e){return new zo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qc{async initialize(e,a){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=h=>fc(this.syncEngine,h,1),this.remoteStore.remoteSyncer.handleCredentialChange=bc.bind(null,this.syncEngine),await Ou(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Gu}createDatastore(e){const a=nu(e.databaseInfo.databaseId),h=(d=e.databaseInfo,new Zo(d));var d;return function(g,_,b,et){return new uu(g,_,b,et)}(e.authCredentials,e.appCheckCredentials,h,a)}createRemoteStore(e){return a=this.localStore,h=this.datastore,d=e.asyncQueue,g=b=>fc(this.syncEngine,b,0),_=Jo.V()?new Jo:new Ho,new au(a,h,d,g,_);var a,h,d,g,_}createSyncEngine(e,a){return function(h,d,g,_,b,et,ot){const gt=new oc(h,d,g,_,b,et);return ot&&(gt.ac=!0),gt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,a)}terminate(){return async function(e){const a=K(e);M("RemoteStore","RemoteStore shutting down."),a.lu.add(5),await lu(a),a.du.shutdown(),a._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,a){this.muted||setTimeout(()=>{this.muted||e(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,a,h,d){this.authCredentials=e,this.appCheckCredentials=a,this.asyncQueue=h,this.databaseInfo=d,this.user=C.UNAUTHENTICATED,this.clientId=st.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,async g=>{M("FirestoreClient","Received user=",g.uid),await this.authCredentialListener(g),this.user=g}),this.appCheckCredentials.start(h,g=>(M("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(a){const h=Bu(a,"Failed to shutdown persistence");e.reject(h)}}),e.promise}}async function Hc(s,e){s.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const a=await s.getConfiguration();await e.initialize(a);let h=a.initialUser;s.setCredentialChangeListener(async d=>{h.isEqual(d)||(await bo(e.localStore,d),h=d)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}async function Jc(s,e){s.asyncQueue.verifyOperationInProgress();const a=await Yc(s);M("FirestoreClient","Initializing OnlineComponentProvider");const h=await s.getConfiguration();await e.initialize(a,h),s.setCredentialChangeListener(d=>ku(e.remoteStore,d)),s.setAppCheckTokenChangeListener((d,g)=>ku(e.remoteStore,g)),s.onlineComponents=e}async function Yc(s){return s.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await Hc(s,new Bc)),s.offlineComponents}async function Xc(s){return s.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await Jc(s,new qc)),s.onlineComponents}function na(s){return Xc(s).then(e=>e.syncEngine)}async function sa(s){const e=await Xc(s),a=e.eventManager;return a.onListen=uc.bind(null,e.syncEngine),a.onUnlisten=ac.bind(null,e.syncEngine),a}function aa(s,e,a={}){const h=new j;return s.asyncQueue.enqueueAndForget(async()=>function(d,g,_,b,et){const ot=new Gc({next:yt=>{g.enqueueAndForget(()=>ju(d,gt)),yt.fromCache&&b.source==="server"?et.reject(new Q(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):et.resolve(yt)},error:yt=>et.reject(yt)}),gt=new Ju(_,ot,{includeMetadataChanges:!0,Du:!0});return Qu(d,gt)}(await sa(s),s.asyncQueue,e,a,h)),h.promise}const _a=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(s,e,a){if(!a)throw new Q(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ma(s,e,a,h){if(e===!0&&h===!0)throw new Q(G.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function ga(s){if(!dt.isDocumentKey(s))throw new Q(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ya(s){if(dt.isDocumentKey(s))throw new Q(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pa(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":L()}function Ia(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Q(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=pa(s);throw new Q(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){var a;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(a=e.ssl)===null||a===void 0||a;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ma("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,a,h){this._authCredentials=a,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ea({}),this._settingsFrozen=!1,e instanceof re?this._databaseId=e:(this._app=e,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new re(d.options.projectId)}(e))}get app(){if(!this._app)throw new Q(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ea(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new z;switch(a.type){case"gapi":const h=a.client;return U(!(typeof h!="object"||h===null||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new X(h,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new Q(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=_a.get(e);a&&(M("ComponentProvider","Removing Datastore"),_a.delete(e),a.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,a,h){this.converter=a,this._key=h,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ba(this.firestore,e,this._key)}}class Pa{constructor(e,a,h){this.converter=a,this._query=h,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class va extends Pa{constructor(e,a,h){super(e,a,rn(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ba(this.firestore,null,new dt(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function Va(s,e,...a){if(s=getModularInstance(s),wa("collection","path",e),s instanceof Aa){const h=ht.fromString(e,...a);return ya(h),new va(s,null,h)}{if(!(s instanceof ba||s instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=s._path.child(ht.fromString(e,...a));return ya(h),new va(s.firestore,null,h)}}function Da(s,e,...a){if(s=getModularInstance(s),arguments.length===1&&(e=st.I()),wa("doc","path",e),s instanceof Aa){const h=ht.fromString(e,...a);return ga(h),new ba(s,null,new dt(h))}{if(!(s instanceof ba||s instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=s._path.child(ht.fromString(e,...a));return ga(h),new ba(s.firestore,s instanceof va?s.converter:null,new dt(h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new su(this,"async_queue_retry"),this.Kc=()=>{const a=eu();a&&M("AsyncQueue","Visibility state changed to "+a.visibilityState),this.So.Eo()};const e=eu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const a=eu();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const a=new j;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Ct(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const a=this.Oc.then(()=>(this.Lc=!0,e().catch(h=>{this.Bc=h,this.Lc=!1;const d=function(g){let _=g.message||"";return g.stack&&(_=g.stack.includes(g.message)?g.stack:g.message+`
`+g.stack),_}(h);throw F("INTERNAL UNHANDLED ERROR: ",d),h}).then(h=>(this.Lc=!1,h))));return this.Oc=a,a}enqueueAfterDelay(e,a,h){this.Gc(),this.qc.indexOf(e)>-1&&(a=0);const d=$u.createAndSchedule(this,e,a,h,g=>this.Wc(g));return this.$c.push(d),d}Gc(){this.Bc&&L()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const a of this.$c)if(a.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((a,h)=>a.targetTimeMs-h.targetTimeMs);for(const a of this.$c)if(a.skipDelay(),e!=="all"&&a.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const a=this.$c.indexOf(e);this.$c.splice(a,1)}}class Fa extends Aa{constructor(e,a,h){super(e,a,h),this.type="firestore",this._queue=new Na,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ua(this),this._firestoreClient.terminate()}}function Ba(s=getApp()){return _getProvider(s,"firestore").getImmediate()}function La(s){return s._firestoreClient||Ua(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Ua(s){var e;const a=s._freezeSettings(),h=function(d,g,_,b){return new ie(d,g,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._firestoreClient=new zc(s._authCredentials,s._appCheckCredentials,s._queue,h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(...e){for(let a=0;a<e.length;++a)if(e[a].length===0)throw new Q(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eh(Jt.fromBase64String(e))}catch(a){throw new Q(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(e){return new eh(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,a){if(!isFinite(e)||e<-90||e>90)throw new Q(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(a)||a<-180||a>180)throw new Q(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=e,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=/^__.*__$/;class rh{constructor(e,a,h){this.data=e,this.fieldMask=a,this.fieldTransforms=h}toMutation(e,a){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,a,this.fieldTransforms):new jn(e,this.data,a,this.fieldTransforms)}}function uh(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class ch{constructor(e,a,h,d,g,_){this.settings=e,this.databaseId=a,this.wt=h,this.ignoreUndefinedProperties=d,g===void 0&&this.Xc(),this.fieldTransforms=g||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new ch(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var a;const h=(a=this.path)===null||a===void 0?void 0:a.child(e),d=this.ta({path:h,na:!1});return d.sa(e),d}ia(e){var a;const h=(a=this.path)===null||a===void 0?void 0:a.child(e),d=this.ta({path:h,na:!1});return d.Xc(),d}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Vh(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(a=>e.isPrefixOf(a))!==void 0||this.fieldTransforms.find(a=>e.isPrefixOf(a.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(uh(this.Zc)&&ih.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ah{constructor(e,a,h){this.databaseId=e,this.ignoreUndefinedProperties=a,this.wt=h||nu(e)}aa(e,a,h,d=!1){return new ch({Zc:e,methodName:a,ca:h,path:ft.emptyPath(),na:!1,ua:d},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function hh(s){const e=s._freezeSettings(),a=nu(s._databaseId);return new ah(s._databaseId,!!e.ignoreUndefinedProperties,a)}function lh(s,e,a,h,d,g={}){const _=s.aa(g.merge||g.mergeFields?2:0,e,a,d);Rh("Data must be an object, but it was:",_,h);const b=Eh(h,_);let et,ot;if(g.merge)et=new zt(_.fieldMask),ot=_.fieldTransforms;else if(g.mergeFields){const gt=[];for(const yt of g.mergeFields){const mt=bh(e,yt,a);if(!_.contains(mt))throw new Q(G.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);Sh(gt,mt)||gt.push(mt)}et=new zt(gt),ot=_.fieldTransforms.filter(yt=>et.covers(yt.field))}else et=null,ot=_.fieldTransforms;return new rh(new De(b),et,ot)}function Ih(s,e,a,h=!1){return Th(a,s.aa(h?4:3,e))}function Th(s,e){if(Ah(s=getModularInstance(s)))return Rh("Unsupported field value:",e,s),Eh(s,e);if(s instanceof nh)return function(a,h){if(!uh(h.Zc))throw h.oa(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.oa(`${a._methodName}() is not currently supported inside arrays`);const d=a._toFieldTransform(h);d&&h.fieldTransforms.push(d)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(a,h){const d=[];let g=0;for(const _ of a){let b=Th(_,h.ra(g));b==null&&(b={nullValue:"NULL_VALUE"}),d.push(b),g++}return{arrayValue:{values:d}}}(s,e)}return function(a,h){if((a=getModularInstance(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return En(h.wt,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const d=ut.fromDate(a);return{timestampValue:Ds(h.wt,d)}}if(a instanceof ut){const d=new ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ds(h.wt,d)}}if(a instanceof sh)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof eh)return{bytesValue:Cs(h.wt,a._byteString)};if(a instanceof ba){const d=h.databaseId,g=a.firestore._databaseId;if(!g.isEqual(d))throw h.oa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:ks(a.firestore._databaseId||h.databaseId,a._key.path)}}throw h.oa(`Unsupported field value: ${pa(a)}`)}(s,e)}function Eh(s,e){const a={};return Ut(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lt(s,(h,d)=>{const g=Th(d,e.ea(h));g!=null&&(a[h]=g)}),{mapValue:{fields:a}}}function Ah(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof sh||s instanceof eh||s instanceof ba||s instanceof nh)}function Rh(s,e,a){if(!Ah(a)||!function(h){return typeof h=="object"&&h!==null&&(Object.getPrototypeOf(h)===Object.prototype||Object.getPrototypeOf(h)===null)}(a)){const h=pa(a);throw h==="an object"?e.oa(s+" a custom object"):e.oa(s+" "+h)}}function bh(s,e,a){if((e=getModularInstance(e))instanceof Za)return e._internalPath;if(typeof e=="string")return vh(s,e);throw Vh("Field path arguments must be of type string or ",s,!1,void 0,a)}const Ph=new RegExp("[~\\*/\\[\\]]");function vh(s,e,a){if(e.search(Ph)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new Za(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Vh(s,e,a,h,d){const g=h&&!h.isEmpty(),_=d!==void 0;let b=`Function ${e}() called with invalid data`;a&&(b+=" (via `toFirestore()`)"),b+=". ";let et="";return(g||_)&&(et+=" (found",g&&(et+=` in field ${h}`),_&&(et+=` in document ${d}`),et+=")"),new Q(G.INVALID_ARGUMENT,b+s+et)}function Sh(s,e){return s.some(a=>a.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,a,h,d,g){this._firestore=e,this._userDataWriter=a,this._key=h,this._document=d,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new ba(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ch(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const a=this._document.data.field(xh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a)}}}class Ch extends Dh{data(){return super.data()}}function xh(s,e){return typeof e=="string"?vh(s,e):e instanceof Za?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,a){this.hasPendingWrites=e,this.fromCache=a}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends Dh{constructor(e,a,h,d,g,_){super(e,a,h,d,_),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const a=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,a={}){if(this._document){const h=this._document.data.field(xh("DocumentSnapshot.get",e));if(h!==null)return this._userDataWriter.convertValue(h,a.serverTimestamps)}}}class Oh extends kh{data(e={}){return super.data(e)}}class Mh{constructor(e,a,h,d){this._firestore=e,this._userDataWriter=a,this._snapshot=d,this.metadata=new Nh(d.hasPendingWrites,d.fromCache),this.query=h}get docs(){const e=[];return this.forEach(a=>e.push(a)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,a){this._snapshot.docs.forEach(h=>{e.call(a,new Oh(this._firestore,this._userDataWriter,h.key,h,new Nh(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const a=!!e.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new Q(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(h,d){if(h._snapshot.oldDocs.isEmpty()){let g=0;return h._snapshot.docChanges.map(_=>({type:"added",doc:new Oh(h._firestore,h._userDataWriter,_.doc.key,_.doc,new Nh(h._snapshot.mutatedKeys.has(_.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:g++}))}{let g=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(_=>d||_.type!==3).map(_=>{const b=new Oh(h._firestore,h._userDataWriter,_.doc.key,_.doc,new Nh(h._snapshot.mutatedKeys.has(_.doc.key),h._snapshot.fromCache),h.query.converter);let et=-1,ot=-1;return _.type!==0&&(et=g.indexOf(_.doc.key),g=g.delete(_.doc.key)),_.type!==1&&(g=g.add(_.doc),ot=g.indexOf(_.doc.key)),{type:Fh(_.type),doc:b,oldIndex:et,newIndex:ot}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function Fh(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Q(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lh{}function Uh(s,...e){for(const a of e)s=a._apply(s);return s}class qh extends Lh{constructor(e,a,h){super(),this.fa=e,this.da=a,this._a=h,this.type="where"}_apply(e){const a=hh(e.firestore),h=function(d,g,_,b,et,ot,gt){let yt;if(et.isKeyField()){if(ot==="array-contains"||ot==="array-contains-any")throw new Q(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ot}' queries on documentId().`);if(ot==="in"||ot==="not-in"){sl(gt,ot);const St=[];for(const _t of gt)St.push(nl(b,d,_t));yt={arrayValue:{values:St}}}else yt=nl(b,d,gt)}else ot!=="in"&&ot!=="not-in"&&ot!=="array-contains-any"||sl(gt,ot),yt=Ih(_,g,gt,ot==="in"||ot==="not-in");const mt=qe.create(et,ot,yt);return function(St,_t){if(_t.ht()){const Ot=cn(St);if(Ot!==null&&!Ot.isEqual(_t.field))throw new Q(G.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ot.toString()}' and '${_t.field.toString()}'`);const wt=un(St);wt!==null&&il(St,_t.field,wt)}const xt=function(Ot,wt){for(const vt of Ot.filters)if(wt.indexOf(vt.op)>=0)return vt.op;return null}(St,function(Ot){switch(Ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_t.op));if(xt!==null)throw xt===_t.op?new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${_t.op.toString()}' filter.`):new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${_t.op.toString()}' filters with '${xt.toString()}' filters.`)}(d,mt),mt}(e._query,"where",a,e.firestore._databaseId,this.fa,this.da,this._a);return new Pa(e.firestore,e.converter,function(d,g){const _=d.filters.concat([g]);return new nn(d.path,d.collectionGroup,d.explicitOrderBy.slice(),_,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,h))}}function Kh(s,e,a){const h=e,d=xh("where",s);return new qh(d,h,a)}function nl(s,e,a){if(typeof(a=getModularInstance(a))=="string"){if(a==="")throw new Q(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!an(e)&&a.indexOf("/")!==-1)throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const h=e.path.child(ht.fromString(a));if(!dt.isDocumentKey(h))throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${h}' is not because it has an odd number of segments (${h.length}).`);return ye(s,new dt(h))}if(a instanceof ba)return ye(s,a._key);throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pa(a)}.`)}function sl(s,e){if(!Array.isArray(s)||s.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function il(s,e,a){if(!a.isEqual(e))throw new Q(G.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{convertValue(e,a="none"){switch(le(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,a);case 5:return e.stringValue;case 6:return this.convertBytes(te(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,a);case 10:return this.convertObject(e.mapValue,a);default:throw L()}}convertObject(e,a){const h={};return Lt(e.fields,(d,g)=>{h[d]=this.convertValue(g,a)}),h}convertGeoPoint(e){return new sh(Zt(e.latitude),Zt(e.longitude))}convertArray(e,a){return(e.values||[]).map(h=>this.convertValue(h,a))}convertServerTimestamp(e,a){switch(a){case"previous":const h=ne(e);return h==null?null:this.convertValue(h,a);case"estimate":return this.convertTimestamp(se(e));default:return null}}convertTimestamp(e){const a=Xt(e);return new ut(a.seconds,a.nanos)}convertDocumentKey(e,a){const h=ht.fromString(e);U(ui(h));const d=new re(h.get(1),h.get(3)),g=new dt(h.popFirst(5));return d.isEqual(a)||F(`Document ${g} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(s,e,a){let h;return h=s?a&&(a.merge||a.mergeFields)?s.toFirestore(e,a):s.toFirestore(e):e,h}class fl extends ol{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const a=this.convertDocumentKey(e,this.firestore._databaseId);return new ba(this.firestore,null,a)}}function wl(s){s=Ia(s,Pa);const e=Ia(s.firestore,Fa),a=La(e),h=new fl(e);return Bh(s._query),aa(a,s._query).then(d=>new Mh(e,h,s,d))}function Il(s){return Rl(Ia(s.firestore,Fa),[new Yn(s._key,$n.none())])}function Tl(s,e){const a=Ia(s.firestore,Fa),h=Da(s),d=ul(s.converter,e);return Rl(a,[lh(hh(s.firestore),"addDoc",h._key,d,s.converter!==null,{}).toMutation(h._key,$n.exists(!1))]).then(()=>h)}function Rl(s,e){return function(a,h){const d=new j;return a.asyncQueue.enqueueAndForget(async()=>hc(await na(a),h,d)),d.promise}(La(s),e)}(function(s,e=!0){(function(a){x=a})(SDK_VERSION),_registerComponent(new Component("firestore",(a,{options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Fa(d,new J(a.getProvider("auth-internal")),new tt(a.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:e},h),g._setSettings(h),g},"PUBLIC")),registerVersion(D,"3.4.12",s),registerVersion(D,"3.4.12","esm2017")})();const firebaseConfig={apiKey:"AIzaSyDDYOlBsyuJ6ieDvw4PBFqAQRa8UhaGOZU",authDomain:"mymoviesdb-8aaa9.firebaseapp.com",projectId:"mymoviesdb-8aaa9",storageBucket:"mymoviesdb-8aaa9.appspot.com",messagingSenderId:"464190918767",appId:"1:464190918767:web:f2d7cd89fcdc3fbdbd3d9a"},app=initializeApp(firebaseConfig),auth=getAuth(app),db=Ba(app),useLocalStorage=(s,e)=>{const[a,h]=react.exports.useState(()=>{const d=localStorage.getItem(s);return d!=null?JSON.parse(d):typeof e=="function"?e():e});return react.exports.useEffect(()=>{localStorage.setItem(s,JSON.stringify(a))},[s,a]),[a,h]};var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n$1=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(s,e,a){var h,d={},g=null,_=null;a!==void 0&&(g=""+a),e.key!==void 0&&(g=""+e.key),e.ref!==void 0&&(_=e.ref);for(h in e)m.call(e,h)&&!p.hasOwnProperty(h)&&(d[h]=e[h]);if(s&&s.defaultProps)for(h in e=s.defaultProps,e)d[h]===void 0&&(d[h]=e[h]);return{$$typeof:k,type:s,key:g,ref:_,props:d,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment,faveMoviecontext=react.exports.createContext({}),useFaveContext=()=>react.exports.useContext(faveMoviecontext),FavMovieContextProvider=({children:s})=>{const[e,a]=react.exports.useState([]),[h,d]=useLocalStorage("isUserLoggedIn",!1),[g,_]=useLocalStorage("loggedInUser",{}),[b,et]=react.exports.useState({}),[ot,gt]=react.exports.useState({}),yt=_t=>{e.find(xt=>xt.mediaId===_t.mediaId)?et(_t):gt(_t)},mt=()=>{const _t=new GoogleAuthProvider;signInWithPopup(auth,_t).then(xt=>{d(Boolean(xt.user)),_({displayName:xt.user.displayName,email:xt.user.email})}).catch(xt=>{console.log(xt)})},St=()=>{signOut(auth).then(()=>{console.log("Sign out succesfully"),d(!1),_({}),a([])}).catch(_t=>{console.log({"SignOut Fail":_t})})};return react.exports.useEffect(()=>{const _t=async Ot=>{try{g.email&&a([...e,Ir(Cr({},ot),{id:g.email})]),g.email&&await Tl(Va(db,"favmedia"),Ir(Cr({},ot),{id:g.email})),gt({})}catch(wt){a(e.filter(vt=>vt.mediaId!==(Ot==null?void 0:Ot.mediaId))),console.error("Error adding document: ",wt)}},xt=async Ot=>{try{const wt=Va(db,"favmedia"),vt=Uh(wt,Kh("mediaId","==",Ot.mediaId),Kh("id","==",g.email));(await wl(vt)).forEach(async Dt=>{await Il(Da(db,"favmedia",Dt.id))}),et({}),a(e.filter(Dt=>Dt.mediaId!==(Ot==null?void 0:Ot.mediaId)))}catch(wt){a([...e,b]),console.error("Error removing document: ",wt)}};Object.keys(ot).length&&_t(ot),Object.keys(b).length&&xt(b)},[b,ot]),react.exports.useEffect(()=>{h&&(async()=>{try{const xt=Va(db,"favmedia"),Ot=Uh(xt,Kh("id","==",g.email)),wt=await wl(Ot);let vt=[];wt.forEach(Nt=>{g.email&&vt.push(Cr({},Nt.data()))});const kt=Array.from(new Set([...e,...vt].map(Nt=>Nt.mediaId)));let Dt=[];for(let Nt=0;Nt<kt.length;Nt++){const Mt=[...e,...vt].find(Ht=>Ht.mediaId===kt[Nt]);Mt!==void 0&&(Dt=[...Dt,Mt])}a(Dt)}catch(xt){console.error("Error adding document: ",xt)}})()},[h]),jsx(faveMoviecontext.Provider,{value:{signOutGoogle:St,signInWithGoogle:mt,addOrRemoveFav:yt,isUserLoggedIn:h,favMedia:e,loggedInUser:g},children:s})};var navbar=(()=>`.nav{display:flex;width:100%;height:64px;background-color:#032541;color:#fff;justify-content:center;align-items:center;font-weight:600;z-index:900;position:sticky;top:-3px}.nav-container{width:80%;display:flex;justify-content:space-between}.nav-container ul,.nav-title{display:flex;justify-content:space-evenly}.nav-container li,.nav-title{margin:0 1.5rem}.nav a{color:#fff}.hamburger-menu{display:none}@media screen and (max-width: 780px){.hamburger-menu{display:block}.nav-others{display:none}.nav-container{justify-content:flex-end}}#menu__toggle{opacity:0}#menu__toggle:checked~.menu__btn>span{transform:rotate(45deg)}#menu__toggle:checked~.menu__btn>span:before{top:0;transform:rotate(0)}#menu__toggle:checked~.menu__btn>span:after{top:0;transform:rotate(90deg)}#menu__toggle:checked~.menu__box{visibility:visible;left:0}.menu__btn{display:flex;align-items:center;position:fixed;top:20px;left:20px;width:26px;height:26px;cursor:pointer;z-index:1}.menu__btn>span,.menu__btn>span:before,.menu__btn>span:after{display:block;position:absolute;width:100%;height:2px;background-color:#fff;transition-duration:.25s}.menu__btn>span:before{content:"";top:-8px}.menu__btn>span:after{content:"";top:8px}.menu__box{display:block;position:fixed;visibility:hidden;top:0;left:-100%;width:300px;height:100%;margin:0;padding:80px 0;list-style:none;background-color:#1d77b4;box-shadow:1px 0 6px #0003;transition-duration:.25s}.menu__item{display:block;padding:12px 24px;color:#fff;font-family:Roboto,sans-serif;font-size:20px;font-weight:600;text-decoration:none;transition-duration:.25s}.menu__item:hover{background-color:#cfd8dc}
`)();const NavbBar=()=>{const{isUserLoggedIn:s,signInWithGoogle:e,signOutGoogle:a,loggedInUser:h}=useFaveContext();return jsxs("section",{className:"nav",children:[jsxs("div",{className:"nav-container",children:[jsx("div",{className:"nav-title",children:jsx("div",{className:"logo",children:jsx(Link,{to:"/",children:"MyMoviesDB"})})}),jsx("div",{className:"nav-others",children:jsx("ul",{children:s?jsxs(Fragment,{children:[jsxs("li",{children:["Hi, ",h.displayName]}),jsxs("li",{children:[jsx(Link,{to:"/favorites",children:"My Favourites"})," "]}),jsx("li",{style:{cursor:"pointer"},onClick:()=>a(),children:"Logout "})]}):jsxs(Fragment,{children:[jsx("li",{children:"Login to Add your favorites"}),jsx("li",{style:{cursor:"pointer"},onClick:()=>e(),children:jsxs("div",{style:{display:"flex",gap:"0.5rem",border:"1px solid #fff",padding:"0.2rem",borderRadius:"10px"},children:[jsx("svg",{style:{transform:"rotate(0)"},viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),jsx("div",{children:"Sign In with Google"})]})})]})})})]}),jsxs("div",{className:"hamburger-menu",children:[jsx("input",{id:"menu__toggle",type:"checkbox"}),jsx("label",{className:"menu__btn",htmlFor:"menu__toggle",children:jsx("span",{})}),jsx("ul",{className:"menu__box",children:s?jsxs(Fragment,{children:[jsxs("li",{className:"menu__item",children:["Hi, ",h.displayName]}),jsxs("li",{className:"menu__item",children:[jsx(Link,{to:"/favorites",children:"My Favourites"})," "]}),jsx("li",{className:"menu__item",style:{cursor:"pointer"},onClick:()=>a(),children:"Logout "})]}):jsxs(Fragment,{children:[jsx("li",{className:"menu__item",children:"Login to Add your favorites"}),jsx("li",{className:"menu__item",style:{cursor:"pointer"},onClick:()=>e(),children:jsxs("div",{style:{display:"flex",gap:"0.5rem",border:"1px solid #fff",padding:"0.2rem",borderRadius:"10px"},children:[jsx("svg",{style:{transform:"rotate(0)"},viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),jsx("div",{children:"Sign In with Google"})]})})]})})]})]})};var footer=(()=>`.footer-container{width:100%;height:10rem;background-color:#032541;display:grid;grid-template-columns:repeat(2,1fr);place-items:center;color:#fff;font-weight:800;position:relative;bottom:0}@media screen and (min-width:750px){.footer-container{grid-template-columns:repeat(3,1fr)}}
`)();const Footer=()=>jsxs("div",{className:"footer-container",children:[jsx("div",{className:"footer-logo",children:"MyMoviesDB"}),jsx("div",{className:"footer-about",children:"We provide the best"}),jsx("div",{className:"footer-legal",children:"Legal"})]});var axios$2={exports:{}},bind$2=function(e,a){return function(){for(var d=new Array(arguments.length),g=0;g<d.length;g++)d[g]=arguments[g];return e.apply(a,d)}},bind$1=bind$2,toString$4=Object.prototype.toString,kindOf=function(s){return function(e){var a=toString$4.call(e);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(s){return s=s.toLowerCase(),function(a){return kindOf(a)===s}}function isArray$c(s){return Array.isArray(s)}function isUndefined(s){return typeof s=="undefined"}function isBuffer$4(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(s){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&isArrayBuffer(s.buffer),e}function isString(s){return typeof s=="string"}function isNumber(s){return typeof s=="number"}function isObject$9(s){return s!==null&&typeof s=="object"}function isPlainObject(s){if(kindOf(s)!=="object")return!1;var e=Object.getPrototypeOf(s);return e===null||e===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$4(s){return toString$4.call(s)==="[object Function]"}function isStream(s){return isObject$9(s)&&isFunction$4(s.pipe)}function isFormData(s){var e="[object FormData]";return s&&(typeof FormData=="function"&&s instanceof FormData||toString$4.call(s)===e||isFunction$4(s.toString)&&s.toString()===e)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(s,e){if(!(s===null||typeof s=="undefined"))if(typeof s!="object"&&(s=[s]),isArray$c(s))for(var a=0,h=s.length;a<h;a++)e.call(null,s[a],a,s);else for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&e.call(null,s[d],d,s)}function merge(){var s={};function e(d,g){isPlainObject(s[g])&&isPlainObject(d)?s[g]=merge(s[g],d):isPlainObject(d)?s[g]=merge({},d):isArray$c(d)?s[g]=d.slice():s[g]=d}for(var a=0,h=arguments.length;a<h;a++)forEach(arguments[a],e);return s}function extend(s,e,a){return forEach(e,function(d,g){a&&typeof d=="function"?s[g]=bind$1(d,a):s[g]=d}),s}function stripBOM(s){return s.charCodeAt(0)===65279&&(s=s.slice(1)),s}function inherits(s,e,a,h){s.prototype=Object.create(e.prototype,h),s.prototype.constructor=s,a&&Object.assign(s.prototype,a)}function toFlatObject(s,e,a){var h,d,g,_={};e=e||{};do{for(h=Object.getOwnPropertyNames(s),d=h.length;d-- >0;)g=h[d],_[g]||(e[g]=s[g],_[g]=!0);s=Object.getPrototypeOf(s)}while(s&&(!a||a(s,e))&&s!==Object.prototype);return e}function endsWith(s,e,a){s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=e.length;var h=s.indexOf(e,a);return h!==-1&&h===a}function toArray(s){if(!s)return null;var e=s.length;if(isUndefined(e))return null;for(var a=new Array(e);e-- >0;)a[e]=s[e];return a}var isTypedArray$3=function(s){return function(e){return s&&e instanceof s}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),utils$h={isArray:isArray$c,isArrayBuffer,isBuffer:isBuffer$4,isFormData,isArrayBufferView,isString,isNumber,isObject:isObject$9,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$4,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$3,isFileList},utils$g=utils$h;function encode$1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,a,h){if(!a)return e;var d;if(h)d=h(a);else if(utils$g.isURLSearchParams(a))d=a.toString();else{var g=[];utils$g.forEach(a,function(et,ot){et===null||typeof et=="undefined"||(utils$g.isArray(et)?ot=ot+"[]":et=[et],utils$g.forEach(et,function(yt){utils$g.isDate(yt)?yt=yt.toISOString():utils$g.isObject(yt)&&(yt=JSON.stringify(yt)),g.push(encode$1(ot)+"="+encode$1(yt))}))}),d=g.join("&")}if(d){var _=e.indexOf("#");_!==-1&&(e=e.slice(0,_)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e},utils$f=utils$h;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,a,h){return this.handlers.push({fulfilled:e,rejected:a,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};InterceptorManager$1.prototype.forEach=function(e){utils$f.forEach(this.handlers,function(h){h!==null&&e(h)})};var InterceptorManager_1=InterceptorManager$1,utils$e=utils$h,normalizeHeaderName$1=function(e,a){utils$e.forEach(e,function(d,g){g!==a&&g.toUpperCase()===a.toUpperCase()&&(e[a]=d,delete e[g])})},utils$d=utils$h;function AxiosError$5(s,e,a,h,d){Error.call(this),this.message=s,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),h&&(this.request=h),d&&(this.response=d)}utils$d.inherits(AxiosError$5,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$5.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(s){descriptors[s]={value:s}});Object.defineProperties(AxiosError$5,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$5.from=function(s,e,a,h,d,g){var _=Object.create(prototype);return utils$d.toFlatObject(s,_,function(et){return et!==Error.prototype}),AxiosError$5.call(_,s.message,e,a,h,d),_.name=s.name,g&&Object.assign(_,g),_};var AxiosError_1=AxiosError$5,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$c=utils$h;function toFormData$1(s,e){e=e||new FormData;var a=[];function h(g){return g===null?"":utils$c.isDate(g)?g.toISOString():utils$c.isArrayBuffer(g)||utils$c.isTypedArray(g)?typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,_){if(utils$c.isPlainObject(g)||utils$c.isArray(g)){if(a.indexOf(g)!==-1)throw Error("Circular reference detected in "+_);a.push(g),utils$c.forEach(g,function(et,ot){if(!utils$c.isUndefined(et)){var gt=_?_+"."+ot:ot,yt;if(et&&!_&&typeof et=="object"){if(utils$c.endsWith(ot,"{}"))et=JSON.stringify(et);else if(utils$c.endsWith(ot,"[]")&&(yt=utils$c.toArray(et))){yt.forEach(function(mt){!utils$c.isUndefined(mt)&&e.append(gt,h(mt))});return}}d(et,gt)}}),a.pop()}else e.append(_,h(g))}return d(s),e}var toFormData_1=toFormData$1,AxiosError$4=AxiosError_1,settle$1=function(e,a,h){var d=h.config.validateStatus;!h.status||!d||d(h.status)?e(h):a(new AxiosError$4("Request failed with status code "+h.status,[AxiosError$4.ERR_BAD_REQUEST,AxiosError$4.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))},utils$b=utils$h,cookies$1=utils$b.isStandardBrowserEnv()?function(){return{write:function(a,h,d,g,_,b){var et=[];et.push(a+"="+encodeURIComponent(h)),utils$b.isNumber(d)&&et.push("expires="+new Date(d).toGMTString()),utils$b.isString(g)&&et.push("path="+g),utils$b.isString(_)&&et.push("domain="+_),b===!0&&et.push("secure"),document.cookie=et.join("; ")},read:function(a){var h=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs$1=function(e,a){return a?e.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$2=function(e,a){return e&&!isAbsoluteURL(a)?combineURLs(e,a):a},utils$a=utils$h,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var a={},h,d,g;return e&&utils$a.forEach(e.split(`
`),function(b){if(g=b.indexOf(":"),h=utils$a.trim(b.substr(0,g)).toLowerCase(),d=utils$a.trim(b.substr(g+1)),h){if(a[h]&&ignoreDuplicateOf.indexOf(h)>=0)return;h==="set-cookie"?a[h]=(a[h]?a[h]:[]).concat([d]):a[h]=a[h]?a[h]+", "+d:d}}),a},utils$9=utils$h,isURLSameOrigin$1=utils$9.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),h;function d(g){var _=g;return e&&(a.setAttribute("href",_),_=a.href),a.setAttribute("href",_),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return h=d(window.location.href),function(_){var b=utils$9.isString(_)?d(_):_;return b.protocol===h.protocol&&b.host===h.host}}():function(){return function(){return!0}}(),AxiosError$3=AxiosError_1,utils$8=utils$h;function CanceledError$3(s){AxiosError$3.call(this,s==null?"canceled":s,AxiosError$3.ERR_CANCELED),this.name="CanceledError"}utils$8.inherits(CanceledError$3,AxiosError$3,{__CANCEL__:!0});var CanceledError_1=CanceledError$3,parseProtocol$1=function(e){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""},utils$7=utils$h,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath$1=buildFullPath$2,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,transitionalDefaults$1=transitional,AxiosError$2=AxiosError_1,CanceledError$2=CanceledError_1,parseProtocol=parseProtocol$1,xhr=function(e){return new Promise(function(h,d){var g=e.data,_=e.headers,b=e.responseType,et;function ot(){e.cancelToken&&e.cancelToken.unsubscribe(et),e.signal&&e.signal.removeEventListener("abort",et)}utils$7.isFormData(g)&&utils$7.isStandardBrowserEnv()&&delete _["Content-Type"];var gt=new XMLHttpRequest;if(e.auth){var yt=e.auth.username||"",mt=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";_.Authorization="Basic "+btoa(yt+":"+mt)}var St=buildFullPath$1(e.baseURL,e.url);gt.open(e.method.toUpperCase(),buildURL$1(St,e.params,e.paramsSerializer),!0),gt.timeout=e.timeout;function _t(){if(!!gt){var wt="getAllResponseHeaders"in gt?parseHeaders(gt.getAllResponseHeaders()):null,vt=!b||b==="text"||b==="json"?gt.responseText:gt.response,kt={data:vt,status:gt.status,statusText:gt.statusText,headers:wt,config:e,request:gt};settle(function(Nt){h(Nt),ot()},function(Nt){d(Nt),ot()},kt),gt=null}}if("onloadend"in gt?gt.onloadend=_t:gt.onreadystatechange=function(){!gt||gt.readyState!==4||gt.status===0&&!(gt.responseURL&&gt.responseURL.indexOf("file:")===0)||setTimeout(_t)},gt.onabort=function(){!gt||(d(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,e,gt)),gt=null)},gt.onerror=function(){d(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,e,gt,gt)),gt=null},gt.ontimeout=function(){var vt=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",kt=e.transitional||transitionalDefaults$1;e.timeoutErrorMessage&&(vt=e.timeoutErrorMessage),d(new AxiosError$2(vt,kt.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,e,gt)),gt=null},utils$7.isStandardBrowserEnv()){var xt=(e.withCredentials||isURLSameOrigin(St))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;xt&&(_[e.xsrfHeaderName]=xt)}"setRequestHeader"in gt&&utils$7.forEach(_,function(vt,kt){typeof g=="undefined"&&kt.toLowerCase()==="content-type"?delete _[kt]:gt.setRequestHeader(kt,vt)}),utils$7.isUndefined(e.withCredentials)||(gt.withCredentials=!!e.withCredentials),b&&b!=="json"&&(gt.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&gt.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&gt.upload&&gt.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(et=function(wt){!gt||(d(!wt||wt&&wt.type?new CanceledError$2:wt),gt.abort(),gt=null)},e.cancelToken&&e.cancelToken.subscribe(et),e.signal&&(e.signal.aborted?et():e.signal.addEventListener("abort",et))),g||(g=null);var Ot=parseProtocol(St);if(Ot&&["http","https","file"].indexOf(Ot)===-1){d(new AxiosError$2("Unsupported protocol "+Ot+":",AxiosError$2.ERR_BAD_REQUEST,e));return}gt.send(g)})},_null=null,utils$6=utils$h,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(s,e){!utils$6.isUndefined(s)&&utils$6.isUndefined(s["Content-Type"])&&(s["Content-Type"]=e)}function getDefaultAdapter(){var s;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(s=xhr),s}function stringifySafely(s,e,a){if(utils$6.isString(s))try{return(e||JSON.parse)(s),utils$6.trim(s)}catch(h){if(h.name!=="SyntaxError")throw h}return(a||JSON.stringify)(s)}var defaults$6={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(e,a){if(normalizeHeaderName(a,"Accept"),normalizeHeaderName(a,"Content-Type"),utils$6.isFormData(e)||utils$6.isArrayBuffer(e)||utils$6.isBuffer(e)||utils$6.isStream(e)||utils$6.isFile(e)||utils$6.isBlob(e))return e;if(utils$6.isArrayBufferView(e))return e.buffer;if(utils$6.isURLSearchParams(e))return setContentTypeIfUnset(a,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var h=utils$6.isObject(e),d=a&&a["Content-Type"],g;if((g=utils$6.isFileList(e))||h&&d==="multipart/form-data"){var _=this.env&&this.env.FormData;return toFormData(g?{"files[]":e}:e,_&&new _)}else if(h||d==="application/json")return setContentTypeIfUnset(a,"application/json"),stringifySafely(e);return e}],transformResponse:[function(e){var a=this.transitional||defaults$6.transitional,h=a&&a.silentJSONParsing,d=a&&a.forcedJSONParsing,g=!h&&this.responseType==="json";if(g||d&&utils$6.isString(e)&&e.length)try{return JSON.parse(e)}catch(_){if(g)throw _.name==="SyntaxError"?AxiosError$1.from(_,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):_}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function(e){defaults$6.headers[e]={}});utils$6.forEach(["post","put","patch"],function(e){defaults$6.headers[e]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1$1=defaults$6,utils$5=utils$h,defaults$5=defaults_1$1,transformData$1=function(e,a,h){var d=this||defaults$5;return utils$5.forEach(h,function(_){e=_.call(d,e,a)}),e},isCancel$1=function(e){return!!(e&&e.__CANCEL__)},utils$4=utils$h,transformData=transformData$1,isCancel=isCancel$1,defaults$4=defaults_1$1,CanceledError$1=CanceledError_1;function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError$1}var dispatchRequest$1=function(e){throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$4.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(d){delete e.headers[d]});var a=e.adapter||defaults$4.adapter;return a(e).then(function(d){return throwIfCancellationRequested(e),d.data=transformData.call(e,d.data,d.headers,e.transformResponse),d},function(d){return isCancel(d)||(throwIfCancellationRequested(e),d&&d.response&&(d.response.data=transformData.call(e,d.response.data,d.response.headers,e.transformResponse))),Promise.reject(d)})},utils$3=utils$h,mergeConfig$2=function(e,a){a=a||{};var h={};function d(gt,yt){return utils$3.isPlainObject(gt)&&utils$3.isPlainObject(yt)?utils$3.merge(gt,yt):utils$3.isPlainObject(yt)?utils$3.merge({},yt):utils$3.isArray(yt)?yt.slice():yt}function g(gt){if(utils$3.isUndefined(a[gt])){if(!utils$3.isUndefined(e[gt]))return d(void 0,e[gt])}else return d(e[gt],a[gt])}function _(gt){if(!utils$3.isUndefined(a[gt]))return d(void 0,a[gt])}function b(gt){if(utils$3.isUndefined(a[gt])){if(!utils$3.isUndefined(e[gt]))return d(void 0,e[gt])}else return d(void 0,a[gt])}function et(gt){if(gt in a)return d(e[gt],a[gt]);if(gt in e)return d(void 0,e[gt])}var ot={url:_,method:_,data:_,baseURL:b,transformRequest:b,transformResponse:b,paramsSerializer:b,timeout:b,timeoutMessage:b,withCredentials:b,adapter:b,responseType:b,xsrfCookieName:b,xsrfHeaderName:b,onUploadProgress:b,onDownloadProgress:b,decompress:b,maxContentLength:b,maxBodyLength:b,beforeRedirect:b,transport:b,httpAgent:b,httpsAgent:b,cancelToken:b,socketPath:b,responseEncoding:b,validateStatus:et};return utils$3.forEach(Object.keys(e).concat(Object.keys(a)),function(yt){var mt=ot[yt]||g,St=mt(yt);utils$3.isUndefined(St)&&mt!==et||(h[yt]=St)}),h},data={version:"0.27.2"},VERSION=data.version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(s,e){validators$1[s]=function(h){return typeof h===s||"a"+(e<1?"n ":" ")+s}});var deprecatedWarnings={};validators$1.transitional=function(e,a,h){function d(g,_){return"[Axios v"+VERSION+"] Transitional option '"+g+"'"+_+(h?". "+h:"")}return function(g,_,b){if(e===!1)throw new AxiosError(d(_," has been removed"+(a?" in "+a:"")),AxiosError.ERR_DEPRECATED);return a&&!deprecatedWarnings[_]&&(deprecatedWarnings[_]=!0,console.warn(d(_," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(g,_,b):!0}};function assertOptions(s,e,a){if(typeof s!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var h=Object.keys(s),d=h.length;d-- >0;){var g=h[d],_=e[g];if(_){var b=s[g],et=b===void 0||_(b,g,s);if(et!==!0)throw new AxiosError("option "+g+" must be "+et,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new AxiosError("Unknown option "+g,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$h,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$2,validator=validator$1,validators=validator.validators;function Axios$1(s){this.defaults=s,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=mergeConfig$1(this.defaults,a),a.method?a.method=a.method.toLowerCase():this.defaults.method?a.method=this.defaults.method.toLowerCase():a.method="get";var h=a.transitional;h!==void 0&&validator.assertOptions(h,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var d=[],g=!0;this.interceptors.request.forEach(function(St){typeof St.runWhen=="function"&&St.runWhen(a)===!1||(g=g&&St.synchronous,d.unshift(St.fulfilled,St.rejected))});var _=[];this.interceptors.response.forEach(function(St){_.push(St.fulfilled,St.rejected)});var b;if(!g){var et=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(et,d),et=et.concat(_),b=Promise.resolve(a);et.length;)b=b.then(et.shift(),et.shift());return b}for(var ot=a;d.length;){var gt=d.shift(),yt=d.shift();try{ot=gt(ot)}catch(mt){yt(mt);break}}try{b=dispatchRequest(ot)}catch(mt){return Promise.reject(mt)}for(;_.length;)b=b.then(_.shift(),_.shift());return b};Axios$1.prototype.getUri=function(e){e=mergeConfig$1(this.defaults,e);var a=buildFullPath(e.baseURL,e.url);return buildURL(a,e.params,e.paramsSerializer)};utils$2.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(a,h){return this.request(mergeConfig$1(h||{},{method:e,url:a,data:(h||{}).data}))}});utils$2.forEach(["post","put","patch"],function(e){function a(h){return function(g,_,b){return this.request(mergeConfig$1(b||{},{method:e,headers:h?{"Content-Type":"multipart/form-data"}:{},url:g,data:_}))}}Axios$1.prototype[e]=a(),Axios$1.prototype[e+"Form"]=a(!0)});var Axios_1=Axios$1,CanceledError=CanceledError_1;function CancelToken(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(d){e=d});var a=this;this.promise.then(function(h){if(!!a._listeners){var d,g=a._listeners.length;for(d=0;d<g;d++)a._listeners[d](h);a._listeners=null}}),this.promise.then=function(h){var d,g=new Promise(function(_){a.subscribe(_),d=_}).then(h);return g.cancel=function(){a.unsubscribe(d)},g},s(function(d){a.reason||(a.reason=new CanceledError(d),e(a.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};CancelToken.prototype.unsubscribe=function(e){if(!!this._listeners){var a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}};CancelToken.source=function(){var e,a=new CancelToken(function(d){e=d});return{token:a,cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(h){return e.apply(null,h)}},utils$1=utils$h,isAxiosError=function(e){return utils$1.isObject(e)&&e.isAxiosError===!0},utils=utils$h,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$3=defaults_1$1;function createInstance(s){var e=new Axios(s),a=bind(Axios.prototype.request,e);return utils.extend(a,Axios.prototype,e),utils.extend(a,e),a.create=function(d){return createInstance(mergeConfig(s,d))},a}var axios$1=createInstance(defaults$3);axios$1.Axios=Axios;axios$1.CanceledError=CanceledError_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,search=(()=>`.search-container{position:relative;width:80%;display:flex;align-items:center;justify-content:center;margin-bottom:-3rem}@media screen and (max-width:750px){.header-wrapper-wrapper{width:100%}.search-container{width:100%;margin:auto 0}}.search-input{width:100%;height:2rem;line-height:2rem;font-size:1.1em;color:#00000080;border:none;border-radius:30px;padding:.5rem 1.1rem}.search-input:focus{outline:none}button.search-button{display:inline;background:linear-gradient(to right,rgba(30,213,169,1) 0%,rgba(1,180,228,1) 100%);position:absolute;max-height:auto;max-width:10rem;line-height:2rem;border:none;text-align:center;right:0;font-size:1.1em;border-radius:30px;padding:.5rem 1.1rem;cursor:pointer;color:#fff;font-weight:600}.search-form{display:inherit;width:100%}
`)();const Search=()=>{const s=useNavigate(),[e,a]=react.exports.useState("");return jsx(Fragment,{children:jsx("div",{className:"search-container",children:jsxs("form",{className:"search-form",onSubmit:d=>{d.preventDefault(),e&&s(`/search?query=${e}`)},children:[jsx("input",{type:"text",name:"search",value:e,onChange:d=>a(d.currentTarget.value),className:"search-input",placeholder:"Search by title"}),jsx("button",{type:"submit",className:"search-button",children:"Search"})]})})})};var header=(()=>`.header{width:80%;height:25rem;background-color:#01b4e4;color:#fff;display:flex;flex-direction:column;justify-content:center}@media screen and (min-width:750px){.header-wrapper-wrapper{width:85%}}.header-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:1.2rem}.title{margin-bottom:2.5rem}.title h1{font-size:2rem}
`)();const Header=()=>jsx("section",{className:"header",children:jsx("div",{className:"header-wrapper",children:jsxs("div",{className:"header-wrapper-wrapper",children:[jsxs("div",{className:"title",children:[jsx("h1",{children:"Welcome."}),jsx("h4",{children:"Millions of movies, TV shows and people to discover. Explore now."})]}),jsx(Search,{})]})})});var card=(()=>`.card{display:flex;flex-direction:column;margin-top:.3rem;margin-right:1rem}.card-image{display:flex;flex-direction:column;position:relative}.card-image img{height:14rem;width:9.5rem;border-radius:10px 10px 0 0}.card-rating{position:absolute;bottom:-30px;left:0}.card-title{font-weight:700}.card-date{font-size:.8rem;font-weight:600}
`)(),rating=(()=>`.rating-container{position:relative;display:flex;align-items:center;justify-content:center}svg{transform:rotate(-90deg)}.inner-circle{stroke-dasharray:100;stroke-linecap:round;color:#f3baaf}.percent{position:absolute;font-size:1rem;font-weight:800;color:#fff}.percent sup{font-size:.5rem}
`)();const Rating=({rating:s})=>jsx(Fragment,{children:jsxs("div",{className:"rating-container",children:[jsxs("svg",{width:"80",height:"80",children:[jsx("circle",{cx:"40",cy:"40",r:"20",fill:"#000",stroke:"#000",strokeWidth:"7"}),jsx("circle",{cx:"40",cy:"40",r:"20",fill:"#000",stroke:Math.round(s*10)>=70?"#204529":"#423d0f",strokeWidth:"3"}),jsx("circle",{className:"inner-circle",style:{strokeDashoffset:`calc(100 - ${s*10})`,borderRadius:"50%"},cx:"40",cy:"40",r:"20",fill:"none",stroke:Math.round(s*10)>=70?"#21d07a":"#d2d531",strokeWidth:"3",pathLength:"100"})]}),s?jsxs("div",{className:"percent",children:[Math.round(s*10),jsx("sup",{children:"%"})]}):jsx("div",{className:"percent",children:"NR"})]})}),imgBaseURL="https://image.tmdb.org/t/p/w500",getTrendingMovies=()=>"https://api.themoviedb.org/3/trending/movie/day?api_key=da061aea68de1ab70547833e12285d32",getPopularMovies=()=>"https://api.themoviedb.org/3/movie/popular?api_key=da061aea68de1ab70547833e12285d32&language=en-US&page=1",getTopRatedMovies=()=>"https://api.themoviedb.org/3/movie/top_rated?api_key=da061aea68de1ab70547833e12285d32&language=en-US&page=1",getMovieDetails=s=>`https://api.themoviedb.org/3/movie/${s}?api_key=da061aea68de1ab70547833e12285d32&language=en-US`,getTVDetails=s=>`https://api.themoviedb.org/3/tv/${s}?api_key=da061aea68de1ab70547833e12285d32&language=en-US`,getMediaCasts=(s,e)=>`https://api.themoviedb.org/3/${e}/${s}/credits?api_key=da061aea68de1ab70547833e12285d32&language=en-US`,getSimilarMovies=s=>`https://api.themoviedb.org/3/movie/${s}/similar?api_key=da061aea68de1ab70547833e12285d32&language=en-US&page=1`,getSimilarTV=s=>`https://api.themoviedb.org/3/tv/${s}/similar?api_key=da061aea68de1ab70547833e12285d32&language=en-US&page=1`,getTrendingTV=()=>"https://api.themoviedb.org/3/trending/tv/day?api_key=da061aea68de1ab70547833e12285d32",getTopRatedTV=()=>"https://api.themoviedb.org/3/tv/top_rated?api_key=da061aea68de1ab70547833e12285d32&language=en-US&page=1",getSearchedMovies=async(s,e)=>await axios.get(`https://api.themoviedb.org/3/search/movie?query=${s}&page=${e}&api_key=da061aea68de1ab70547833e12285d32&language=en-US&include_adult=false`),getSearchedTV=async(s,e)=>await axios.get(`https://api.themoviedb.org/3/search/tv?query=${s}&page=${e}&api_key=da061aea68de1ab70547833e12285d32&language=en-US&include_adult=false`);var NoImg$1="https://Dakudbilla.github.io/mymoviesdb/assets/noIMG.fc35ec0f.svg";const CURRENCY_FORMATTER=new Intl.NumberFormat(void 0,{currency:"USD",style:"currency"});function formatCurrency(s){return CURRENCY_FORMATTER.format(s)}const formatDate=s=>new Date(s).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),NoImg=()=>NoImg$1,Card=({movie:s})=>jsx(Fragment,{children:jsxs("div",{className:"card",children:[jsxs("div",{className:"card-image",children:[jsxs(Link,{to:s.title?`/movies/${s.id}`:`/tv/${s.id}`,children:[" ",jsx("img",{src:s.poster_path?`${imgBaseURL}${s.poster_path}`:NoImg$1,alt:"mediatype image"})]}),jsx("div",{className:"card-rating",children:jsx(Rating,{rating:s.vote_average})})]}),jsxs("div",{className:"card-body",style:{display:"block",marginTop:"1rem"},children:[jsx("div",{className:"card-title",children:s.title?s.title:s.name}),jsx("div",{className:"card-date",children:s.name?formatDate(s.first_air_date):formatDate(s.release_date)})]})]})});var movieslist=(()=>`.trend-container{display:flex;margin-right:1rem;overflow-x:scroll;scrollbar-width:thin}.trend-container::-webkit-scrollbar{width:5px;height:5px;background-color:#e3e2e9}.trend-container::-webkit-scrollbar-thumb{background-color:#c8c6d2;border-radius:.5rem;width:.1rem}.trend-container::-webkit-scrollbar-thumb:hover{border-color:#c8c6d2}
`)();const MoviesList=({movies:s})=>jsx(Fragment,{children:jsx("div",{className:"trend-container",children:s.map(e=>jsx(Card,{movie:e},e.id))})});var spinner=(()=>`.spinner{margin:0 auto;width:56px;height:56px;border-radius:50%;background:radial-gradient(farthest-side,#474bff 94%,#0000) top/9px 9px no-repeat,conic-gradient(#0000 30%,#474bff);-webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - 9px),#000 0);mask:radial-gradient(farthest-side,#0000 calc(100% - 9px),#000 0);animation:spinner-c7wet2 1s infinite linear}@keyframes spinner-c7wet2{to{transform:rotate(1turn)}}
`)();const Spinner=()=>jsx("div",{className:"spinner"});var home=(()=>`.container{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.popular{width:95%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:1rem}@media screen and (min-with:750px){.popular{width:80%}}.popular-title{font-size:1.2rem;font-weight:800}.popular-container{width:82%;margin:1.2rem}.popular-header{display:flex;gap:1rem}.popular-header ul{display:flex;border:1px solid gray;border-radius:1.9rem}.popular-header li{padding:.2rem 2rem;transition:ease}.popular-header li:hover{cursor:pointer}.active-media{background-color:#0ff;border-radius:1.9rem}
`)();const Home=()=>{const[s,e]=react.exports.useState(),[a,h]=react.exports.useState(),[d,g]=react.exports.useState(),[_,b]=react.exports.useState(),[et,ot]=react.exports.useState(),[gt,yt]=react.exports.useState({isActiveTrending:"0TV",isActiveTopRated:"0TVtopRated"}),mt=St=>{St.currentTarget.id.includes("top")?yt(Ir(Cr({},gt),{isActiveTopRated:St.currentTarget.id})):yt(Ir(Cr({},gt),{isActiveTrending:St.currentTarget.id}))};return react.exports.useEffect(()=>{const St=async()=>{var kt;const vt=await axios.get(getTrendingMovies());e((kt=vt==null?void 0:vt.data)==null?void 0:kt.results)},_t=async()=>{var kt;const vt=await axios.get(getPopularMovies());h((kt=vt==null?void 0:vt.data)==null?void 0:kt.results)},xt=async()=>{const vt=await axios.get(getTopRatedMovies());g(vt==null?void 0:vt.data.results)},Ot=async()=>{const vt=await axios.get(getTrendingTV());b(vt==null?void 0:vt.data.results)},wt=async()=>{const vt=await axios.get(getTopRatedTV());ot(vt==null?void 0:vt.data.results)};St(),_t(),xt(),Ot(),wt()},[]),jsx(Fragment,{children:jsxs("div",{className:"container",children:[jsx(Header,{}),jsxs("div",{className:"popular",children:[jsxs("div",{className:"popular-container",children:[jsxs("div",{className:"popular-header",children:[jsx("div",{className:"popular-title",children:"Trending "}),jsx("ul",{children:["TV","Movies"].map((St,_t)=>jsx("li",{id:`${_t+St}`,className:gt.isActiveTrending===`${_t+St}`?"active-media":"",onClick:mt,children:St},_t+St))})]}),s&&_?jsx(MoviesList,{movies:gt.isActiveTrending==="1Movies"?s:_}):jsx(Spinner,{})]}),jsxs("div",{className:"popular-container",children:[jsxs("div",{className:"popular-header",children:[jsx("div",{className:"popular-title",children:"TopRated "}),jsx("ul",{children:["TV","Movies"].map((St,_t)=>jsx("li",{id:`${_t+St+"topRated"}`,className:gt.isActiveTopRated===`${_t+St+"topRated"}`?"active-media":"",onClick:mt,children:St},_t+St))})]}),d&&et?jsx(MoviesList,{movies:gt.isActiveTopRated==="1MoviestopRated"?d:et}):jsx(Spinner,{})]})]})]})})};var movie=(()=>`.movie-page-header{width:100%;display:flex;justify-content:center;background-size:cover;background-repeat:no-repeat;color:#fff}.movie-header-container{width:80%;display:flex;margin:2rem 3rem;word-break:break-all}.movie-poster-image{margin:0 1.5rem;border-radius:15px}.movie-details{display:flex;flex-direction:column;justify-content:center;flex-wrap:wrap}.movie-title{font-weight:800;color:#fff}.movie-overview{word-break:keep-all}.movie-rating{display:flex;justify-items:center}.user-score{align-self:center;font-weight:700}.movie-header-actions{display:flex}.fav-icon{background:rgba(3,37,65,1);padding:.3rem;width:25px;height:25px;border-radius:50%;display:flex;justify-content:center;align-items:center;transform:translate(360)}.fav-icon svg{transform:rotate(0)}.movie-extras{display:grid;grid-template-columns:4fr 1fr;gap:10px;margin-top:.7rem}.movie-cast{margin-top:.7rem;overflow:hidden;display:flex;justify-content:end}.movie-cast-container{width:80%;position:relative}.movie-cast-title{margin:0 .5rem 1.5rem;font-weight:700;font-size:1.5rem}.movie-sidebar{margin-top:.7rem;background-color:#fff;display:flex;flex-direction:column;gap:1.5rem}.shadow{content:"";width:60px;height:100%;position:absolute;top:0;right:0;background-image:linear-gradient(to right,rgba(255,255,255,0) 0%,#fff 100%);will-change:opacity;pointer-events:none}.social-icons{display:grid;grid-template-columns:max-content max-content max-content max-content;gap:.8rem}.movie-status-title,.movie-language-title,.movie-budget-title,.movie-revenue-title{font-weight:700}.similar-movies-container{width:65%;margin-right:2rem}.similar-movies{margin-top:.7rem;display:flex;flex-direction:column;align-items:center}.similar-movies-title{margin:.7rem 0}@media screen and (max-width:840px){.movie-header-container{display:flex;flex-direction:column}.movie-details{width:100%}.movie-poster-image{margin:0 auto}.movie-extras{grid-template-columns:1fr}.movie-cast-container{width:90%;margin-right:2rem}.movie-sidebar{margin-left:4rem;background-color:#fff;display:flex;flex-direction:column;gap:1.5rem}.status-container{display:flex;gap:1rem}}@media screen and (max-width:430px){.movie-header-actions{flex-direction:column;margin-bottom:.5rem;font-weight:800}.movie-sidebar{flex-direction:column;margin:2rem}.status-container{flex-direction:column}}
`)();const hexToRGB=(s,e)=>{const a=parseInt(s.slice(1,3),16),h=parseInt(s.slice(3,5),16),d=parseInt(s.slice(5,7),16);return e?`rgba(${a}, ${h}, ${d}, ${e})`:`rgb(${a}, ${h}, ${d})`},movieLang=s=>{switch(s){case"en":return"English";case"fr":return"French";case"ar":return"Arabic";case"es":return"Spanish";case"de":return"German";case"zh":return"Chinese";case"ko":return"Korean";case"ja":return"Japanese"}};var people=(()=>`.people-container{display:flex;margin-right:1rem;overflow-x:scroll;scrollbar-width:thin}.people-container::-webkit-scrollbar{width:5px;height:5px;background-color:#e3e2e9}.people-container::-webkit-scrollbar-thumb{background-color:#c8c6d2;border-radius:.5rem;width:.1rem}.people-container::-webkit-scrollbar-thumb:hover{border-color:#c8c6d2}.person-card{box-shadow:0 4px 8px #0003;transition:.3s;margin-right:1rem;margin-left:1rem;margin-bottom:1rem;border-radius:10px}.person-card:hover{box-shadow:0 8px 16px #0003}.person-card-image img{border-radius:10px 10px 0 0}.person-card-body{height:4rem}.person-card-body{padding:.2rem .5rem}
`)(),noImage="https://Dakudbilla.github.io/mymoviesdb/assets/noImage.c4734cc3.png";const PersonCard=({person:s})=>jsx(Fragment,{children:jsxs("div",{className:"person-card",children:[jsx("div",{className:"person-card-image",children:jsx("img",{loading:"lazy",src:s.profile_path?`https://www.themoviedb.org/t/p/w240_and_h266_face${s.profile_path}`:noImage,alt:"mediatype image",width:"220px",height:"266px"})}),jsxs("div",{className:"person-card-body",children:[jsx("h4",{children:jsx("div",{className:"card-title",children:s.name})}),jsx("p",{className:"person-card-character",children:s.character})]})]})}),People=({media_id:s,media_type:e})=>{const[a,h]=react.exports.useState();return react.exports.useEffect(()=>{(async()=>{var _;const g=await axios.get(getMediaCasts(s,e));h((_=g==null?void 0:g.data)==null?void 0:_.cast)})()},[s]),jsx(Fragment,{children:a?jsx("div",{className:"people-container",children:a.length>0?a.slice(0,9).map(d=>jsx(PersonCard,{person:d},d.id)):jsx("div",{children:"No Casts Available"})}):jsx(Spinner,{})})};var vibrant={},color={},util$2={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.getColorIndex=s.getColorDiffStatus=s.hexDiff=s.rgbDiff=s.deltaE94=s.rgbToCIELab=s.xyzToCIELab=s.rgbToXyz=s.hslToRgb=s.rgbToHsl=s.rgbToHex=s.hexToRgb=s.defer=s.RSHIFT=s.SIGBITS=s.DELTAE94_DIFF_STATUS=void 0,s.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},s.SIGBITS=5,s.RSHIFT=8-s.SIGBITS;function e(){var _t,xt,Ot=new Promise(function(wt,vt){_t=wt,xt=vt});return{resolve:_t,reject:xt,promise:Ot}}s.defer=e;function a(_t){var xt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_t);return xt===null?null:[xt[1],xt[2],xt[3]].map(function(Ot){return parseInt(Ot,16)})}s.hexToRgb=a;function h(_t,xt,Ot){return"#"+((1<<24)+(_t<<16)+(xt<<8)+Ot).toString(16).slice(1,7)}s.rgbToHex=h;function d(_t,xt,Ot){_t/=255,xt/=255,Ot/=255;var wt=Math.max(_t,xt,Ot),vt=Math.min(_t,xt,Ot),kt,Dt,Nt=(wt+vt)/2;if(wt===vt)kt=Dt=0;else{var Mt=wt-vt;switch(Dt=Nt>.5?Mt/(2-wt-vt):Mt/(wt+vt),wt){case _t:kt=(xt-Ot)/Mt+(xt<Ot?6:0);break;case xt:kt=(Ot-_t)/Mt+2;break;case Ot:kt=(_t-xt)/Mt+4;break}kt/=6}return[kt,Dt,Nt]}s.rgbToHsl=d;function g(_t,xt,Ot){var wt,vt,kt;function Dt(Ht,Ft,Wt){return Wt<0&&(Wt+=1),Wt>1&&(Wt-=1),Wt<1/6?Ht+(Ft-Ht)*6*Wt:Wt<1/2?Ft:Wt<2/3?Ht+(Ft-Ht)*(2/3-Wt)*6:Ht}if(xt===0)wt=vt=kt=Ot;else{var Nt=Ot<.5?Ot*(1+xt):Ot+xt-Ot*xt,Mt=2*Ot-Nt;wt=Dt(Mt,Nt,_t+1/3),vt=Dt(Mt,Nt,_t),kt=Dt(Mt,Nt,_t-1/3)}return[wt*255,vt*255,kt*255]}s.hslToRgb=g;function _(_t,xt,Ot){_t/=255,xt/=255,Ot/=255,_t=_t>.04045?Math.pow((_t+.005)/1.055,2.4):_t/12.92,xt=xt>.04045?Math.pow((xt+.005)/1.055,2.4):xt/12.92,Ot=Ot>.04045?Math.pow((Ot+.005)/1.055,2.4):Ot/12.92,_t*=100,xt*=100,Ot*=100;var wt=_t*.4124+xt*.3576+Ot*.1805,vt=_t*.2126+xt*.7152+Ot*.0722,kt=_t*.0193+xt*.1192+Ot*.9505;return[wt,vt,kt]}s.rgbToXyz=_;function b(_t,xt,Ot){var wt=95.047,vt=100,kt=108.883;_t/=wt,xt/=vt,Ot/=kt,_t=_t>.008856?Math.pow(_t,1/3):7.787*_t+16/116,xt=xt>.008856?Math.pow(xt,1/3):7.787*xt+16/116,Ot=Ot>.008856?Math.pow(Ot,1/3):7.787*Ot+16/116;var Dt=116*xt-16,Nt=500*(_t-xt),Mt=200*(xt-Ot);return[Dt,Nt,Mt]}s.xyzToCIELab=b;function et(_t,xt,Ot){var wt=_(_t,xt,Ot),vt=wt[0],kt=wt[1],Dt=wt[2];return b(vt,kt,Dt)}s.rgbToCIELab=et;function ot(_t,xt){var Ot=1,wt=1,vt=1,kt=_t[0],Dt=_t[1],Nt=_t[2],Mt=xt[0],Ht=xt[1],Ft=xt[2],Wt=kt-Mt,On=Dt-Ht,ir=Nt-Ft,ar=Math.sqrt(Dt*Dt+Nt*Nt),lr=Math.sqrt(Ht*Ht+Ft*Ft),hr=Mt-kt,cr=lr-ar,sr=Math.sqrt(Wt*Wt+On*On+ir*ir),yr=Math.sqrt(sr)>Math.sqrt(Math.abs(hr))+Math.sqrt(Math.abs(cr))?Math.sqrt(sr*sr-hr*hr-cr*cr):0,er=1+.045*ar,rr=1+.015*ar;return hr/=Ot,cr/=wt*er,yr/=vt*rr,Math.sqrt(hr*hr+cr*cr+yr*yr)}s.deltaE94=ot;function gt(_t,xt){var Ot=et.apply(void 0,_t),wt=et.apply(void 0,xt);return ot(Ot,wt)}s.rgbDiff=gt;function yt(_t,xt){var Ot=a(_t),wt=a(xt);return gt(Ot,wt)}s.hexDiff=yt;function mt(_t){return _t<s.DELTAE94_DIFF_STATUS.NA?"N/A":_t<=s.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":_t<=s.DELTAE94_DIFF_STATUS.CLOSE?"Close":_t<=s.DELTAE94_DIFF_STATUS.GOOD?"Good":_t<s.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}s.getColorDiffStatus=mt;function St(_t,xt,Ot){return(_t<<2*s.SIGBITS)+(xt<<s.SIGBITS)+Ot}s.getColorIndex=St})(util$2);function arrayFilter$2(s,e){for(var a=-1,h=s==null?0:s.length,d=0,g=[];++a<h;){var _=s[a];e(_,a,s)&&(g[d++]=_)}return g}var _arrayFilter=arrayFilter$2;function createBaseFor$1(s){return function(e,a,h){for(var d=-1,g=Object(e),_=h(e),b=_.length;b--;){var et=_[s?b:++d];if(a(g[et],et,g)===!1)break}return e}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1;function baseTimes$1(s,e){for(var a=-1,h=Array(s);++a<s;)h[a]=e(a);return h}var _baseTimes=baseTimes$1,freeGlobal$3=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$3,freeGlobal$2=_freeGlobal,freeSelf$2=typeof self=="object"&&self&&self.Object===Object&&self,root$a=freeGlobal$2||freeSelf$2||Function("return this")(),_root=root$a,root$9=_root,Symbol$8=root$9.Symbol,_Symbol=Symbol$8,Symbol$7=_Symbol,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty,nativeObjectToString$1=objectProto$h.toString,symToStringTag$1=Symbol$7?Symbol$7.toStringTag:void 0;function getRawTag$1(s){var e=hasOwnProperty$e.call(s,symToStringTag$1),a=s[symToStringTag$1];try{s[symToStringTag$1]=void 0;var h=!0}catch{}var d=nativeObjectToString$1.call(s);return h&&(e?s[symToStringTag$1]=a:delete s[symToStringTag$1]),d}var _getRawTag=getRawTag$1,objectProto$g=Object.prototype,nativeObjectToString=objectProto$g.toString;function objectToString$3(s){return nativeObjectToString.call(s)}var _objectToString=objectToString$3,Symbol$6=_Symbol,getRawTag=_getRawTag,objectToString$2=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$6?Symbol$6.toStringTag:void 0;function baseGetTag$5(s){return s==null?s===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(s)?getRawTag(s):objectToString$2(s)}var _baseGetTag=baseGetTag$5;function isObjectLike$9(s){return s!=null&&typeof s=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$4=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(s){return isObjectLike$8(s)&&baseGetTag$4(s)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty,propertyIsEnumerable$1=objectProto$f.propertyIsEnumerable,isArguments$2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(s){return isObjectLike$7(s)&&hasOwnProperty$d.call(s,"callee")&&!propertyIsEnumerable$1.call(s,"callee")},isArguments_1=isArguments$2,isArray$b=Array.isArray,isArray_1=isArray$b,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(s,e){var a=_root,h=stubFalse_1,d=e&&!e.nodeType&&e,g=d&&!0&&s&&!s.nodeType&&s,_=g&&g.exports===d,b=_?a.Buffer:void 0,et=b?b.isBuffer:void 0,ot=et||h;s.exports=ot})(isBuffer$3,isBuffer$3.exports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(s,e){var a=typeof s;return e=e==null?MAX_SAFE_INTEGER$1:e,!!e&&(a=="number"||a!="symbol"&&reIsUint.test(s))&&s>-1&&s%1==0&&s<e}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$3="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$3]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(s){return isObjectLike$6(s)&&isLength$2(s.length)&&!!typedArrayTags[baseGetTag$3(s)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(s){return function(e){return s(e)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}};(function(s,e){var a=_freeGlobal,h=e&&!e.nodeType&&e,d=h&&!0&&s&&!s.nodeType&&s,g=d&&d.exports===h,_=g&&a.process,b=function(){try{var et=d&&d.require&&d.require("util").types;return et||_&&_.binding&&_.binding("util")}catch{}}();s.exports=b})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtil.exports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$a=isArray_1,isBuffer$2=isBuffer$3.exports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty;function arrayLikeKeys$2(s,e){var a=isArray$a(s),h=!a&&isArguments$1(s),d=!a&&!h&&isBuffer$2(s),g=!a&&!h&&!d&&isTypedArray$1(s),_=a||h||d||g,b=_?baseTimes(s.length,String):[],et=b.length;for(var ot in s)(e||hasOwnProperty$c.call(s,ot))&&!(_&&(ot=="length"||d&&(ot=="offset"||ot=="parent")||g&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||isIndex$2(ot,et)))&&b.push(ot);return b}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$d=Object.prototype;function isPrototype$3(s){var e=s&&s.constructor,a=typeof e=="function"&&e.prototype||objectProto$d;return s===a}var _isPrototype=isPrototype$3;function overArg$2(s,e){return function(a){return s(e(a))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$c=Object.prototype,hasOwnProperty$b=objectProto$c.hasOwnProperty;function baseKeys$1(s){if(!isPrototype$2(s))return nativeKeys(s);var e=[];for(var a in Object(s))hasOwnProperty$b.call(s,a)&&a!="constructor"&&e.push(a);return e}var _baseKeys=baseKeys$1;function isObject$8(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var isObject_1=isObject$8,baseGetTag$2=_baseGetTag,isObject$7=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$2="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(s){if(!isObject$7(s))return!1;var e=baseGetTag$2(s);return e==funcTag$2||e==genTag$2||e==asyncTag||e==proxyTag}var isFunction_1=isFunction$3,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(s){return s!=null&&isLength$1(s.length)&&!isFunction$2(s)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$5(s){return isArrayLike$3(s)?arrayLikeKeys$1(s):baseKeys(s)}var keys_1=keys$5,baseFor=_baseFor,keys$4=keys_1;function baseForOwn$1(s,e){return s&&baseFor(s,e,keys$4)}var _baseForOwn=baseForOwn$1,isArrayLike$2=isArrayLike_1;function createBaseEach$1(s,e){return function(a,h){if(a==null)return a;if(!isArrayLike$2(a))return s(a,h);for(var d=a.length,g=e?d:-1,_=Object(a);(e?g--:++g<d)&&h(_[g],g,_)!==!1;);return a}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach;function baseFilter$1(s,e){var a=[];return baseEach(s,function(h,d,g){e(h,d,g)&&a.push(h)}),a}var _baseFilter=baseFilter$1;function listCacheClear$2(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$2;function eq$6(s,e){return s===e||s!==s&&e!==e}var eq_1=eq$6,eq$5=eq_1;function assocIndexOf$5(s,e){for(var a=s.length;a--;)if(eq$5(s[a][0],e))return a;return-1}var _assocIndexOf=assocIndexOf$5,assocIndexOf$4=_assocIndexOf,arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$2(s){var e=this.__data__,a=assocIndexOf$4(e,s);if(a<0)return!1;var h=e.length-1;return a==h?e.pop():splice$1.call(e,a,1),--this.size,!0}var _listCacheDelete=listCacheDelete$2,assocIndexOf$3=_assocIndexOf;function listCacheGet$2(s){var e=this.__data__,a=assocIndexOf$3(e,s);return a<0?void 0:e[a][1]}var _listCacheGet=listCacheGet$2,assocIndexOf$2=_assocIndexOf;function listCacheHas$2(s){return assocIndexOf$2(this.__data__,s)>-1}var _listCacheHas=listCacheHas$2,assocIndexOf$1=_assocIndexOf;function listCacheSet$2(s,e){var a=this.__data__,h=assocIndexOf$1(a,s);return h<0?(++this.size,a.push([s,e])):a[h][1]=e,this}var _listCacheSet=listCacheSet$2,listCacheClear$1=_listCacheClear,listCacheDelete$1=_listCacheDelete,listCacheGet$1=_listCacheGet,listCacheHas$1=_listCacheHas,listCacheSet$1=_listCacheSet;function ListCache$5(s){var e=-1,a=s==null?0:s.length;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}ListCache$5.prototype.clear=listCacheClear$1;ListCache$5.prototype.delete=listCacheDelete$1;ListCache$5.prototype.get=listCacheGet$1;ListCache$5.prototype.has=listCacheHas$1;ListCache$5.prototype.set=listCacheSet$1;var _ListCache=ListCache$5,ListCache$4=_ListCache;function stackClear$1(){this.__data__=new ListCache$4,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(s){var e=this.__data__,a=e.delete(s);return this.size=e.size,a}var _stackDelete=stackDelete$1;function stackGet$1(s){return this.__data__.get(s)}var _stackGet=stackGet$1;function stackHas$1(s){return this.__data__.has(s)}var _stackHas=stackHas$1,root$8=_root,coreJsData$2=root$8["__core-js_shared__"],_coreJsData=coreJsData$2,coreJsData$1=_coreJsData,maskSrcKey$1=function(){var s=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function isMasked$2(s){return!!maskSrcKey$1&&maskSrcKey$1 in s}var _isMasked=isMasked$2,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$3(s){if(s!=null){try{return funcToString$2.call(s)}catch{}try{return s+""}catch{}}return""}var _toSource=toSource$3,isFunction$1=isFunction_1,isMasked$1=_isMasked,isObject$6=isObject_1,toSource$2=_toSource,reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$b=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$b.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$2(s){if(!isObject$6(s)||isMasked$1(s))return!1;var e=isFunction$1(s)?reIsNative$1:reIsHostCtor$1;return e.test(toSource$2(s))}var _baseIsNative=baseIsNative$2;function getValue$2(s,e){return s==null?void 0:s[e]}var _getValue=getValue$2,baseIsNative$1=_baseIsNative,getValue$1=_getValue;function getNative$8(s,e){var a=getValue$1(s,e);return baseIsNative$1(a)?a:void 0}var _getNative=getNative$8,getNative$7=_getNative,root$7=_root,Map$5=getNative$7(root$7,"Map"),_Map=Map$5,getNative$6=_getNative,nativeCreate$5=getNative$6(Object,"create"),_nativeCreate=nativeCreate$5,nativeCreate$4=_nativeCreate;function hashClear$2(){this.__data__=nativeCreate$4?nativeCreate$4(null):{},this.size=0}var _hashClear=hashClear$2;function hashDelete$2(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var _hashDelete=hashDelete$2,nativeCreate$3=_nativeCreate,HASH_UNDEFINED$3="__lodash_hash_undefined__",objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function hashGet$2(s){var e=this.__data__;if(nativeCreate$3){var a=e[s];return a===HASH_UNDEFINED$3?void 0:a}return hasOwnProperty$9.call(e,s)?e[s]:void 0}var _hashGet=hashGet$2,nativeCreate$2=_nativeCreate,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashHas$2(s){var e=this.__data__;return nativeCreate$2?e[s]!==void 0:hasOwnProperty$8.call(e,s)}var _hashHas=hashHas$2,nativeCreate$1=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__";function hashSet$2(s,e){var a=this.__data__;return this.size+=this.has(s)?0:1,a[s]=nativeCreate$1&&e===void 0?HASH_UNDEFINED$2:e,this}var _hashSet=hashSet$2,hashClear$1=_hashClear,hashDelete$1=_hashDelete,hashGet$1=_hashGet,hashHas$1=_hashHas,hashSet$1=_hashSet;function Hash$2(s){var e=-1,a=s==null?0:s.length;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}Hash$2.prototype.clear=hashClear$1;Hash$2.prototype.delete=hashDelete$1;Hash$2.prototype.get=hashGet$1;Hash$2.prototype.has=hashHas$1;Hash$2.prototype.set=hashSet$1;var _Hash=Hash$2,Hash$1=_Hash,ListCache$3=_ListCache,Map$4=_Map;function mapCacheClear$2(){this.size=0,this.__data__={hash:new Hash$1,map:new(Map$4||ListCache$3),string:new Hash$1}}var _mapCacheClear=mapCacheClear$2;function isKeyable$2(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}var _isKeyable=isKeyable$2,isKeyable$1=_isKeyable;function getMapData$5(s,e){var a=s.__data__;return isKeyable$1(e)?a[typeof e=="string"?"string":"hash"]:a.map}var _getMapData=getMapData$5,getMapData$4=_getMapData;function mapCacheDelete$2(s){var e=getMapData$4(this,s).delete(s);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$2,getMapData$3=_getMapData;function mapCacheGet$2(s){return getMapData$3(this,s).get(s)}var _mapCacheGet=mapCacheGet$2,getMapData$2=_getMapData;function mapCacheHas$2(s){return getMapData$2(this,s).has(s)}var _mapCacheHas=mapCacheHas$2,getMapData$1=_getMapData;function mapCacheSet$2(s,e){var a=getMapData$1(this,s),h=a.size;return a.set(s,e),this.size+=a.size==h?0:1,this}var _mapCacheSet=mapCacheSet$2,mapCacheClear$1=_mapCacheClear,mapCacheDelete$1=_mapCacheDelete,mapCacheGet$1=_mapCacheGet,mapCacheHas$1=_mapCacheHas,mapCacheSet$1=_mapCacheSet;function MapCache$4(s){var e=-1,a=s==null?0:s.length;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}MapCache$4.prototype.clear=mapCacheClear$1;MapCache$4.prototype.delete=mapCacheDelete$1;MapCache$4.prototype.get=mapCacheGet$1;MapCache$4.prototype.has=mapCacheHas$1;MapCache$4.prototype.set=mapCacheSet$1;var _MapCache=MapCache$4,ListCache$2=_ListCache,Map$3=_Map,MapCache$3=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(s,e){var a=this.__data__;if(a instanceof ListCache$2){var h=a.__data__;if(!Map$3||h.length<LARGE_ARRAY_SIZE-1)return h.push([s,e]),this.size=++a.size,this;a=this.__data__=new MapCache$3(h)}return a.set(s,e),this.size=a.size,this}var _stackSet=stackSet$1,ListCache$1=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$3(s){var e=this.__data__=new ListCache$1(s);this.size=e.size}Stack$3.prototype.clear=stackClear;Stack$3.prototype.delete=stackDelete;Stack$3.prototype.get=stackGet;Stack$3.prototype.has=stackHas;Stack$3.prototype.set=stackSet;var _Stack=Stack$3,HASH_UNDEFINED$1="__lodash_hash_undefined__";function setCacheAdd$1(s){return this.__data__.set(s,HASH_UNDEFINED$1),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(s){return this.__data__.has(s)}var _setCacheHas=setCacheHas$1,MapCache$2=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(s){var e=-1,a=s==null?0:s.length;for(this.__data__=new MapCache$2;++e<a;)this.add(s[e])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(s,e){for(var a=-1,h=s==null?0:s.length;++a<h;)if(e(s[a],a,s))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(s,e){return s.has(e)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(s,e,a,h,d,g){var _=a&COMPARE_PARTIAL_FLAG$5,b=s.length,et=e.length;if(b!=et&&!(_&&et>b))return!1;var ot=g.get(s),gt=g.get(e);if(ot&&gt)return ot==e&&gt==s;var yt=-1,mt=!0,St=a&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(g.set(s,e),g.set(e,s);++yt<b;){var _t=s[yt],xt=e[yt];if(h)var Ot=_?h(xt,_t,yt,e,s,g):h(_t,xt,yt,s,e,g);if(Ot!==void 0){if(Ot)continue;mt=!1;break}if(St){if(!arraySome(e,function(wt,vt){if(!cacheHas(St,vt)&&(_t===wt||d(_t,wt,a,h,g)))return St.push(vt)})){mt=!1;break}}else if(!(_t===xt||d(_t,xt,a,h,g))){mt=!1;break}}return g.delete(s),g.delete(e),mt}var _equalArrays=equalArrays$2,root$6=_root,Uint8Array$3=root$6.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(s){var e=-1,a=Array(s.size);return s.forEach(function(h,d){a[++e]=[d,h]}),a}var _mapToArray=mapToArray$1;function setToArray$1(s){var e=-1,a=Array(s.size);return s.forEach(function(h){a[++e]=h}),a}var _setToArray=setToArray$1,Symbol$5=_Symbol,Uint8Array$2=_Uint8Array,eq$4=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$5="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",symbolProto$4=Symbol$5?Symbol$5.prototype:void 0,symbolValueOf$1=symbolProto$4?symbolProto$4.valueOf:void 0;function equalByTag$1(s,e,a,h,d,g,_){switch(a){case dataViewTag$3:if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case arrayBufferTag$2:return!(s.byteLength!=e.byteLength||!g(new Uint8Array$2(s),new Uint8Array$2(e)));case boolTag$2:case dateTag$2:case numberTag$2:return eq$4(+s,+e);case errorTag$1:return s.name==e.name&&s.message==e.message;case regexpTag$2:case stringTag$2:return s==e+"";case mapTag$4:var b=mapToArray;case setTag$4:var et=h&COMPARE_PARTIAL_FLAG$4;if(b||(b=setToArray),s.size!=e.size&&!et)return!1;var ot=_.get(s);if(ot)return ot==e;h|=COMPARE_UNORDERED_FLAG$2,_.set(s,e);var gt=equalArrays$1(b(s),b(e),h,d,g,_);return _.delete(s),gt;case symbolTag$5:if(symbolValueOf$1)return symbolValueOf$1.call(s)==symbolValueOf$1.call(e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(s,e){for(var a=-1,h=e.length,d=s.length;++a<h;)s[d+a]=e[a];return s}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$9=isArray_1;function baseGetAllKeys$2(s,e,a){var h=e(s);return isArray$9(s)?h:arrayPush$1(h,a(s))}var _baseGetAllKeys=baseGetAllKeys$2;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter$1=_arrayFilter,stubArray$1=stubArray_1,objectProto$8=Object.prototype,propertyIsEnumerable=objectProto$8.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(s){return s==null?[]:(s=Object(s),arrayFilter$1(nativeGetSymbols$1(s),function(e){return propertyIsEnumerable.call(s,e)}))}:stubArray$1,_getSymbols=getSymbols$3,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$3=keys_1;function getAllKeys$2(s){return baseGetAllKeys$1(s,keys$3,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function equalObjects$1(s,e,a,h,d,g){var _=a&COMPARE_PARTIAL_FLAG$3,b=getAllKeys$1(s),et=b.length,ot=getAllKeys$1(e),gt=ot.length;if(et!=gt&&!_)return!1;for(var yt=et;yt--;){var mt=b[yt];if(!(_?mt in e:hasOwnProperty$7.call(e,mt)))return!1}var St=g.get(s),_t=g.get(e);if(St&&_t)return St==e&&_t==s;var xt=!0;g.set(s,e),g.set(e,s);for(var Ot=_;++yt<et;){mt=b[yt];var wt=s[mt],vt=e[mt];if(h)var kt=_?h(vt,wt,mt,e,s,g):h(wt,vt,mt,s,e,g);if(!(kt===void 0?wt===vt||d(wt,vt,a,h,g):kt)){xt=!1;break}Ot||(Ot=mt=="constructor")}if(xt&&!Ot){var Dt=s.constructor,Nt=e.constructor;Dt!=Nt&&"constructor"in s&&"constructor"in e&&!(typeof Dt=="function"&&Dt instanceof Dt&&typeof Nt=="function"&&Nt instanceof Nt)&&(xt=!1)}return g.delete(s),g.delete(e),xt}var _equalObjects=equalObjects$1,getNative$5=_getNative,root$5=_root,DataView$1=getNative$5(root$5,"DataView"),_DataView=DataView$1,getNative$4=_getNative,root$4=_root,Promise$2=getNative$4(root$4,"Promise"),_Promise=Promise$2,getNative$3=_getNative,root$3=_root,Set$2=getNative$3(root$3,"Set"),_Set=Set$2,getNative$2=_getNative,root$2=_root,WeakMap$2=getNative$2(root$2,"WeakMap"),_WeakMap=WeakMap$2,DataView=_DataView,Map$2=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag$1=_baseGetTag,toSource$1=_toSource,mapTag$3="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource$1(DataView),mapCtorString=toSource$1(Map$2),promiseCtorString=toSource$1(Promise$1),setCtorString=toSource$1(Set$1),weakMapCtorString=toSource$1(WeakMap$1),getTag$4=baseGetTag$1;(DataView&&getTag$4(new DataView(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag$4(new Map$2)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$1&&getTag$4(new Set$1)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(s){var e=baseGetTag$1(s),a=e==objectTag$2?s.constructor:void 0,h=a?toSource$1(a):"";if(h)switch(h){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return e});var _getTag=getTag$4,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$8=isArray_1,isBuffer$1=isBuffer$3.exports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$1="[object Object]",objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseIsEqualDeep$1(s,e,a,h,d,g){var _=isArray$8(s),b=isArray$8(e),et=_?arrayTag$1:getTag$3(s),ot=b?arrayTag$1:getTag$3(e);et=et==argsTag$1?objectTag$1:et,ot=ot==argsTag$1?objectTag$1:ot;var gt=et==objectTag$1,yt=ot==objectTag$1,mt=et==ot;if(mt&&isBuffer$1(s)){if(!isBuffer$1(e))return!1;_=!0,gt=!1}if(mt&&!gt)return g||(g=new Stack$2),_||isTypedArray(s)?equalArrays(s,e,a,h,d,g):equalByTag(s,e,et,a,h,d,g);if(!(a&COMPARE_PARTIAL_FLAG$2)){var St=gt&&hasOwnProperty$6.call(s,"__wrapped__"),_t=yt&&hasOwnProperty$6.call(e,"__wrapped__");if(St||_t){var xt=St?s.value():s,Ot=_t?e.value():e;return g||(g=new Stack$2),d(xt,Ot,a,h,g)}}return mt?(g||(g=new Stack$2),equalObjects(s,e,a,h,d,g)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$5=isObjectLike_1;function baseIsEqual$2(s,e,a,h,d){return s===e?!0:s==null||e==null||!isObjectLike$5(s)&&!isObjectLike$5(e)?s!==s&&e!==e:baseIsEqualDeep(s,e,a,h,baseIsEqual$2,d)}var _baseIsEqual=baseIsEqual$2,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(s,e,a,h){var d=a.length,g=d,_=!h;if(s==null)return!g;for(s=Object(s);d--;){var b=a[d];if(_&&b[2]?b[1]!==s[b[0]]:!(b[0]in s))return!1}for(;++d<g;){b=a[d];var et=b[0],ot=s[et],gt=b[1];if(_&&b[2]){if(ot===void 0&&!(et in s))return!1}else{var yt=new Stack$1;if(h)var mt=h(ot,gt,et,s,e,yt);if(!(mt===void 0?baseIsEqual$1(gt,ot,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,h,yt):mt))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$5=isObject_1;function isStrictComparable$2(s){return s===s&&!isObject$5(s)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$2=keys_1;function getMatchData$1(s){for(var e=keys$2(s),a=e.length;a--;){var h=e[a],d=s[h];e[a]=[h,d,isStrictComparable$1(d)]}return e}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(s,e){return function(a){return a==null?!1:a[s]===e&&(e!==void 0||s in Object(a))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(s){var e=getMatchData(s);return e.length==1&&e[0][2]?matchesStrictComparable$1(e[0][0],e[0][1]):function(a){return a===s||baseIsMatch(a,s,e)}}var _baseMatches=baseMatches$1,baseGetTag=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$4="[object Symbol]";function isSymbol$5(s){return typeof s=="symbol"||isObjectLike$4(s)&&baseGetTag(s)==symbolTag$4}var isSymbol_1=isSymbol$5,isArray$7=isArray_1,isSymbol$4=isSymbol_1,reIsDeepProp$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$1=/^\w*$/;function isKey$4(s,e){if(isArray$7(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||isSymbol$4(s)?!0:reIsPlainProp$1.test(s)||!reIsDeepProp$1.test(s)||e!=null&&s in Object(e)}var _isKey=isKey$4,MapCache$1=_MapCache,FUNC_ERROR_TEXT$1="Expected a function";function memoize$2(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var a=function(){var h=arguments,d=e?e.apply(this,h):h[0],g=a.cache;if(g.has(d))return g.get(d);var _=s.apply(this,h);return a.cache=g.set(d,_)||g,_};return a.cache=new(memoize$2.Cache||MapCache$1),a}memoize$2.Cache=MapCache$1;var memoize_1=memoize$2,memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(s){var e=memoize$1(s,function(h){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),h}),a=e.cache;return e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(rePropName$1,function(a,h,d,g){e.push(d?g.replace(reEscapeChar$1,"$1"):h||a)}),e}),_stringToPath=stringToPath$2;function arrayMap$1(s,e){for(var a=-1,h=s==null?0:s.length,d=Array(h);++a<h;)d[a]=e(s[a],a,s);return d}var _arrayMap=arrayMap$1,Symbol$4=_Symbol,arrayMap=_arrayMap,isArray$6=isArray_1,isSymbol$3=isSymbol_1,INFINITY$3=1/0,symbolProto$3=Symbol$4?Symbol$4.prototype:void 0,symbolToString$2=symbolProto$3?symbolProto$3.toString:void 0;function baseToString$3(s){if(typeof s=="string")return s;if(isArray$6(s))return arrayMap(s,baseToString$3)+"";if(isSymbol$3(s))return symbolToString$2?symbolToString$2.call(s):"";var e=s+"";return e=="0"&&1/s==-INFINITY$3?"-0":e}var _baseToString=baseToString$3,baseToString$2=_baseToString;function toString$3(s){return s==null?"":baseToString$2(s)}var toString_1=toString$3,isArray$5=isArray_1,isKey$3=_isKey,stringToPath$1=_stringToPath,toString$2=toString_1;function castPath$3(s,e){return isArray$5(s)?s:isKey$3(s,e)?[s]:stringToPath$1(toString$2(s))}var _castPath=castPath$3,isSymbol$2=isSymbol_1,INFINITY$2=1/0;function toKey$5(s){if(typeof s=="string"||isSymbol$2(s))return s;var e=s+"";return e=="0"&&1/s==-INFINITY$2?"-0":e}var _toKey=toKey$5,castPath$2=_castPath,toKey$4=_toKey;function baseGet$3(s,e){e=castPath$2(e,s);for(var a=0,h=e.length;s!=null&&a<h;)s=s[toKey$4(e[a++])];return a&&a==h?s:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(s,e,a){var h=s==null?void 0:baseGet$2(s,e);return h===void 0?a:h}var get_1=get$1;function baseHasIn$1(s,e){return s!=null&&e in Object(s)}var _baseHasIn=baseHasIn$1,castPath$1=_castPath,isArguments=isArguments_1,isArray$4=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$3=_toKey;function hasPath$1(s,e,a){e=castPath$1(e,s);for(var h=-1,d=e.length,g=!1;++h<d;){var _=toKey$3(e[h]);if(!(g=s!=null&&a(s,_)))break;s=s[_]}return g||++h!=d?g:(d=s==null?0:s.length,!!d&&isLength(d)&&isIndex$1(_,d)&&(isArray$4(s)||isArguments(s)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(s,e){return s!=null&&hasPath(s,e,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$2=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$2=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(s,e){return isKey$2(s)&&isStrictComparable(e)?matchesStrictComparable(toKey$2(s),e):function(a){var h=get(a,s);return h===void 0&&h===e?hasIn(a,s):baseIsEqual(e,h,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$3(s){return s}var identity_1=identity$3;function baseProperty$1(s){return function(e){return e==null?void 0:e[s]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(s){return function(e){return baseGet$1(e,s)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey$1=_isKey,toKey$1=_toKey;function property$1(s){return isKey$1(s)?baseProperty(toKey$1(s)):basePropertyDeep(s)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$2=identity_1,isArray$3=isArray_1,property=property_1;function baseIteratee$1(s){return typeof s=="function"?s:s==null?identity$2:typeof s=="object"?isArray$3(s)?baseMatchesProperty(s[0],s[1]):baseMatches(s):property(s)}var _baseIteratee=baseIteratee$1,arrayFilter=_arrayFilter,baseFilter=_baseFilter,baseIteratee=_baseIteratee,isArray$2=isArray_1;function filter$2(s,e){var a=isArray$2(s)?arrayFilter:baseFilter;return a(s,baseIteratee(e))}var filter_1=filter$2;Object.defineProperty(color,"__esModule",{value:!0});color.Swatch=void 0;var util_1$2=util$2,filter$1=filter_1,Swatch=function(){function s(e,a){this._rgb=e,this._population=a}return s.applyFilter=function(e,a){return typeof a=="function"?filter$1(e,function(h){var d=h.r,g=h.g,_=h.b;return a(d,g,_,255)}):e},Object.defineProperty(s.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hsl",{get:function(){if(!this._hsl){var e=this._rgb,a=e[0],h=e[1],d=e[2];this._hsl=util_1$2.rgbToHsl(a,h,d)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hex",{get:function(){if(!this._hex){var e=this._rgb,a=e[0],h=e[1],d=e[2];this._hex=util_1$2.rgbToHex(a,h,d)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},s.prototype.getRgb=function(){return this._rgb},s.prototype.getHsl=function(){return this.hsl},s.prototype.getPopulation=function(){return this._population},s.prototype.getHex=function(){return this.hex},s.prototype.getYiq=function(){if(!this._yiq){var e=this._rgb;this._yiq=(e[0]*299+e[1]*587+e[2]*114)/1e3}return this._yiq},Object.defineProperty(s.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),s.prototype.getTitleTextColor=function(){return this.titleTextColor},s.prototype.getBodyTextColor=function(){return this.bodyTextColor},s}();color.Swatch=Swatch;var builder={};function arrayEach$1(s,e){for(var a=-1,h=s==null?0:s.length;++a<h&&e(s[a],a,s)!==!1;);return s}var _arrayEach=arrayEach$1,getNative$1=_getNative,defineProperty$2=function(){try{var s=getNative$1(Object,"defineProperty");return s({},"",{}),s}catch{}}(),_defineProperty=defineProperty$2,defineProperty$1=_defineProperty;function baseAssignValue$2(s,e,a){e=="__proto__"&&defineProperty$1?defineProperty$1(s,e,{configurable:!0,enumerable:!0,value:a,writable:!0}):s[e]=a}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq$3=eq_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function assignValue$2(s,e,a){var h=s[e];(!(hasOwnProperty$5.call(s,e)&&eq$3(h,a))||a===void 0&&!(e in s))&&baseAssignValue$1(s,e,a)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$4(s,e,a,h){var d=!a;a||(a={});for(var g=-1,_=e.length;++g<_;){var b=e[g],et=h?h(a[b],s[b],b,a,s):void 0;et===void 0&&(et=s[b]),d?baseAssignValue(a,b,et):assignValue$1(a,b,et)}return a}var _copyObject=copyObject$4,copyObject$3=_copyObject,keys$1=keys_1;function baseAssign$1(s,e){return s&&copyObject$3(e,keys$1(e),s)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(s){var e=[];if(s!=null)for(var a in Object(s))e.push(a);return e}var _nativeKeysIn=nativeKeysIn$1,isObject$4=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeysIn$1(s){if(!isObject$4(s))return nativeKeysIn(s);var e=isPrototype$1(s),a=[];for(var h in s)h=="constructor"&&(e||!hasOwnProperty$4.call(s,h))||a.push(h);return a}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$1=isArrayLike_1;function keysIn$4(s){return isArrayLike$1(s)?arrayLikeKeys(s,!0):baseKeysIn(s)}var keysIn_1=keysIn$4,copyObject$2=_copyObject,keysIn$3=keysIn_1;function baseAssignIn$1(s,e){return s&&copyObject$2(e,keysIn$3(e),s)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};(function(s,e){var a=_root,h=e&&!e.nodeType&&e,d=h&&!0&&s&&!s.nodeType&&s,g=d&&d.exports===h,_=g?a.Buffer:void 0,b=_?_.allocUnsafe:void 0;function et(ot,gt){if(gt)return ot.slice();var yt=ot.length,mt=b?b(yt):new ot.constructor(yt);return ot.copy(mt),mt}s.exports=et})(_cloneBuffer,_cloneBuffer.exports);function copyArray$1(s,e){var a=-1,h=s.length;for(e||(e=Array(h));++a<h;)e[a]=s[a];return e}var _copyArray=copyArray$1,copyObject$1=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(s,e){return copyObject$1(s,getSymbols$1(s),e)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush=_arrayPush,getPrototype$1=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(s){for(var e=[];s;)arrayPush(e,getSymbols(s)),s=getPrototype$1(s);return e}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(s,e){return copyObject(s,getSymbolsIn$1(s),e)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$2=keysIn_1;function getAllKeysIn$1(s){return baseGetAllKeys(s,keysIn$2,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function initCloneArray$1(s){var e=s.length,a=new s.constructor(e);return e&&typeof s[0]=="string"&&hasOwnProperty$3.call(s,"index")&&(a.index=s.index,a.input=s.input),a}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(s){var e=new s.constructor(s.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(s)),e}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(s,e){var a=e?cloneArrayBuffer$2(s.buffer):s.buffer;return new s.constructor(a,s.byteOffset,s.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(s){var e=new s.constructor(s.source,reFlags.exec(s));return e.lastIndex=s.lastIndex,e}var _cloneRegExp=cloneRegExp$1,Symbol$3=_Symbol,symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol$1(s){return symbolValueOf?Object(symbolValueOf.call(s)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(s,e){var a=e?cloneArrayBuffer$1(s.buffer):s.buffer;return new s.constructor(a,s.byteOffset,s.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(s,e,a){var h=s.constructor;switch(e){case arrayBufferTag$1:return cloneArrayBuffer(s);case boolTag$1:case dateTag$1:return new h(+s);case dataViewTag$1:return cloneDataView(s,a);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(s,a);case mapTag$2:return new h;case numberTag$1:case stringTag$1:return new h(s);case regexpTag$1:return cloneRegExp(s);case setTag$2:return new h;case symbolTag$3:return cloneSymbol(s)}}var _initCloneByTag=initCloneByTag$1,isObject$3=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function s(){}return function(e){if(!isObject$3(e))return{};if(objectCreate)return objectCreate(e);s.prototype=e;var a=new s;return s.prototype=void 0,a}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(s){return typeof s.constructor=="function"&&!isPrototype(s)?baseCreate(getPrototype(s)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$3=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(s){return isObjectLike$3(s)&&getTag$2(s)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtil.exports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$2=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(s){return isObjectLike$2(s)&&getTag$1(s)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBuffer.exports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray$1=isArray_1,isBuffer=isBuffer$3.exports,isMap=isMap_1,isObject$2=isObject_1,isSet=isSet_1,keys=keys_1,keysIn$1=keysIn_1,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag$2="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag$1]=cloneableTags[weakMapTag]=!1;function baseClone$1(s,e,a,h,d,g){var _,b=e&CLONE_DEEP_FLAG,et=e&CLONE_FLAT_FLAG,ot=e&CLONE_SYMBOLS_FLAG$1;if(a&&(_=d?a(s,h,d,g):a(s)),_!==void 0)return _;if(!isObject$2(s))return s;var gt=isArray$1(s);if(gt){if(_=initCloneArray(s),!b)return copyArray(s,_)}else{var yt=getTag(s),mt=yt==funcTag$1||yt==genTag$1;if(isBuffer(s))return cloneBuffer(s,b);if(yt==objectTag||yt==argsTag||mt&&!d){if(_=et||mt?{}:initCloneObject(s),!b)return et?copySymbolsIn(s,baseAssignIn(_,s)):copySymbols(s,baseAssign(_,s))}else{if(!cloneableTags[yt])return d?s:{};_=initCloneByTag(s,yt,b)}}g||(g=new Stack);var St=g.get(s);if(St)return St;g.set(s,_),isSet(s)?s.forEach(function(Ot){_.add(baseClone$1(Ot,e,a,Ot,s,g))}):isMap(s)&&s.forEach(function(Ot,wt){_.set(wt,baseClone$1(Ot,e,a,wt,s,g))});var _t=ot?et?getAllKeysIn:getAllKeys:et?keysIn$1:keys,xt=gt?void 0:_t(s);return arrayEach(xt||s,function(Ot,wt){xt&&(wt=Ot,Ot=s[wt]),assignValue(_,wt,baseClone$1(Ot,e,a,wt,s,g))}),_}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_SYMBOLS_FLAG=4;function clone$1(s){return baseClone(s,CLONE_SYMBOLS_FLAG)}var clone_1=clone$1,__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(builder,"__esModule",{value:!0});var vibrant_1$1=__importDefault$3(vibrant),clone=clone_1,Builder=function(){function s(e,a){a===void 0&&(a={}),this._src=e,this._opts=a,this._opts.filters=clone(vibrant_1$1.default.DefaultOpts.filters)}return s.prototype.maxColorCount=function(e){return this._opts.colorCount=e,this},s.prototype.maxDimension=function(e){return this._opts.maxDimension=e,this},s.prototype.addFilter=function(e){return this._opts.filters.push(e),this},s.prototype.removeFilter=function(e){var a=this._opts.filters.indexOf(e);return a>0&&this._opts.filters.splice(a),this},s.prototype.clearFilters=function(){return this._opts.filters=[],this},s.prototype.quality=function(e){return this._opts.quality=e,this},s.prototype.useImageClass=function(e){return this._opts.ImageClass=e,this},s.prototype.useGenerator=function(e){return this._opts.generator=e,this},s.prototype.useQuantizer=function(e){return this._opts.quantizer=e,this},s.prototype.build=function(){return new vibrant_1$1.default(this._src,this._opts)},s.prototype.getPalette=function(e){return this.build().getPalette(e)},s.prototype.getSwatches=function(e){return this.build().getPalette(e)},s}();builder.default=Builder;var quantizer={},mmcq={},vbox={};Object.defineProperty(vbox,"__esModule",{value:!0});var util_1$1=util$2,VBox=function(){function s(e,a,h,d,g,_,b){this._volume=-1,this._count=-1,this.dimension={r1:e,r2:a,g1:h,g2:d,b1:g,b2:_},this.hist=b}return s.build=function(e,a){var h=1<<3*util_1$1.SIGBITS,d=new Uint32Array(h),g,_,b,et,ot,gt,yt,mt,St,_t;g=b=ot=0,_=et=gt=Number.MAX_VALUE;for(var xt=e.length/4,Ot=0;Ot<xt;){var wt=Ot*4;if(Ot++,yt=e[wt+0],mt=e[wt+1],St=e[wt+2],_t=e[wt+3],_t!==0){yt=yt>>util_1$1.RSHIFT,mt=mt>>util_1$1.RSHIFT,St=St>>util_1$1.RSHIFT;var vt=util_1$1.getColorIndex(yt,mt,St);d[vt]+=1,yt>g&&(g=yt),yt<_&&(_=yt),mt>b&&(b=mt),mt<et&&(et=mt),St>ot&&(ot=St),St<gt&&(gt=St)}}return new s(_,g,et,b,gt,ot,d)},s.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},s.prototype.volume=function(){if(this._volume<0){var e=this.dimension,a=e.r1,h=e.r2,d=e.g1,g=e.g2,_=e.b1,b=e.b2;this._volume=(h-a+1)*(g-d+1)*(b-_+1)}return this._volume},s.prototype.count=function(){if(this._count<0){for(var e=this.hist,a=this.dimension,h=a.r1,d=a.r2,g=a.g1,_=a.g2,b=a.b1,et=a.b2,ot=0,gt=h;gt<=d;gt++)for(var yt=g;yt<=_;yt++)for(var mt=b;mt<=et;mt++){var St=util_1$1.getColorIndex(gt,yt,mt);ot+=e[St]}this._count=ot}return this._count},s.prototype.clone=function(){var e=this.hist,a=this.dimension,h=a.r1,d=a.r2,g=a.g1,_=a.g2,b=a.b1,et=a.b2;return new s(h,d,g,_,b,et,e)},s.prototype.avg=function(){if(!this._avg){var e=this.hist,a=this.dimension,h=a.r1,d=a.r2,g=a.g1,_=a.g2,b=a.b1,et=a.b2,ot=0,gt=1<<8-util_1$1.SIGBITS,yt=void 0,mt=void 0,St=void 0;yt=mt=St=0;for(var _t=h;_t<=d;_t++)for(var xt=g;xt<=_;xt++)for(var Ot=b;Ot<=et;Ot++){var wt=util_1$1.getColorIndex(_t,xt,Ot),vt=e[wt];ot+=vt,yt+=vt*(_t+.5)*gt,mt+=vt*(xt+.5)*gt,St+=vt*(Ot+.5)*gt}ot?this._avg=[~~(yt/ot),~~(mt/ot),~~(St/ot)]:this._avg=[~~(gt*(h+d+1)/2),~~(gt*(g+_+1)/2),~~(gt*(b+et+1)/2)]}return this._avg},s.prototype.contains=function(e){var a=e[0],h=e[1],d=e[2],g=this.dimension,_=g.r1,b=g.r2,et=g.g1,ot=g.g2,gt=g.b1,yt=g.b2;return a>>=util_1$1.RSHIFT,h>>=util_1$1.RSHIFT,d>>=util_1$1.RSHIFT,a>=_&&a<=b&&h>=et&&h<=ot&&d>=gt&&d<=yt},s.prototype.split=function(){var e=this.hist,a=this.dimension,h=a.r1,d=a.r2,g=a.g1,_=a.g2,b=a.b1,et=a.b2,ot=this.count();if(!ot)return[];if(ot===1)return[this.clone()];var gt=d-h+1,yt=_-g+1,mt=et-b+1,St=Math.max(gt,yt,mt),_t=null,xt,Ot;xt=Ot=0;var wt=null;if(St===gt){wt="r",_t=new Uint32Array(d+1);for(var vt=h;vt<=d;vt++){xt=0;for(var kt=g;kt<=_;kt++)for(var Dt=b;Dt<=et;Dt++){var Nt=util_1$1.getColorIndex(vt,kt,Dt);xt+=e[Nt]}Ot+=xt,_t[vt]=Ot}}else if(St===yt){wt="g",_t=new Uint32Array(_+1);for(var kt=g;kt<=_;kt++){xt=0;for(var vt=h;vt<=d;vt++)for(var Dt=b;Dt<=et;Dt++){var Nt=util_1$1.getColorIndex(vt,kt,Dt);xt+=e[Nt]}Ot+=xt,_t[kt]=Ot}}else{wt="b",_t=new Uint32Array(et+1);for(var Dt=b;Dt<=et;Dt++){xt=0;for(var vt=h;vt<=d;vt++)for(var kt=g;kt<=_;kt++){var Nt=util_1$1.getColorIndex(vt,kt,Dt);xt+=e[Nt]}Ot+=xt,_t[Dt]=Ot}}for(var Mt=-1,Ht=new Uint32Array(_t.length),Ft=0;Ft<_t.length;Ft++){var Wt=_t[Ft];Mt<0&&Wt>Ot/2&&(Mt=Ft),Ht[Ft]=Ot-Wt}var On=this;function ir(ar){var lr=ar+"1",hr=ar+"2",cr=On.dimension[lr],sr=On.dimension[hr],yr=On.clone(),er=On.clone(),rr=Mt-cr,Vt=sr-Mt;for(rr<=Vt?(sr=Math.min(sr-1,~~(Mt+Vt/2)),sr=Math.max(0,sr)):(sr=Math.max(cr,~~(Mt-1-rr/2)),sr=Math.min(On.dimension[hr],sr));!_t[sr];)sr++;for(var tr=Ht[sr];!tr&&_t[sr-1];)tr=Ht[--sr];return yr.dimension[hr]=sr,er.dimension[lr]=sr+1,[yr,er]}return ir(wt)},s}();vbox.default=VBox;var pqueue={};Object.defineProperty(pqueue,"__esModule",{value:!0});var PQueue=function(){function s(e){this._comparator=e,this.contents=[],this._sorted=!1}return s.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},s.prototype.push=function(e){this.contents.push(e),this._sorted=!1},s.prototype.peek=function(e){return this._sort(),e=typeof e=="number"?e:this.contents.length-1,this.contents[e]},s.prototype.pop=function(){return this._sort(),this.contents.pop()},s.prototype.size=function(){return this.contents.length},s.prototype.map=function(e){return this._sort(),this.contents.map(e)},s}();pqueue.default=PQueue;var __importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mmcq,"__esModule",{value:!0});var color_1$2=color,vbox_1=__importDefault$2(vbox),pqueue_1=__importDefault$2(pqueue),fractByPopulations=.75;function _splitBoxes(s,e){for(var a=s.size();s.size()<e;){var h=s.pop();if(h&&h.count()>0){var d=h.split(),g=d[0],_=d[1];if(s.push(g),_&&_.count()>0&&s.push(_),s.size()===a)break;a=s.size()}else break}}var MMCQ=function(s,e){if(s.length===0||e.colorCount<2||e.colorCount>256)throw new Error("Wrong MMCQ parameters");var a=vbox_1.default.build(s),h=a.hist;Object.keys(h).length;var d=new pqueue_1.default(function(_,b){return _.count()-b.count()});d.push(a),_splitBoxes(d,fractByPopulations*e.colorCount);var g=new pqueue_1.default(function(_,b){return _.count()*_.volume()-b.count()*b.volume()});return g.contents=d.contents,_splitBoxes(g,e.colorCount-g.size()),generateSwatches(g)};function generateSwatches(s){for(var e=[];s.size();){var a=s.pop(),h=a.avg();h[0],h[1],h[2],e.push(new color_1$2.Swatch(h,a.count()))}return e}mmcq.default=MMCQ;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.WebWorker=void 0;var e=mmcq;Object.defineProperty(s,"MMCQ",{enumerable:!0,get:function(){return e.default}}),s.WebWorker=null})(quantizer);var generator={},_default$1={};function apply$2(s,e,a){switch(a.length){case 0:return s.call(e);case 1:return s.call(e,a[0]);case 2:return s.call(e,a[0],a[1]);case 3:return s.call(e,a[0],a[1],a[2])}return s.apply(e,a)}var _apply=apply$2,apply$1=_apply,nativeMax$1=Math.max;function overRest$1(s,e,a){return e=nativeMax$1(e===void 0?s.length-1:e,0),function(){for(var h=arguments,d=-1,g=nativeMax$1(h.length-e,0),_=Array(g);++d<g;)_[d]=h[e+d];d=-1;for(var b=Array(e+1);++d<e;)b[d]=h[d];return b[e]=a(_),apply$1(s,this,b)}}var _overRest=overRest$1;function constant$1(s){return function(){return s}}var constant_1=constant$1,constant=constant_1,defineProperty=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty?function(s,e){return defineProperty(s,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(s){var e=0,a=0;return function(){var h=nativeNow(),d=HOT_SPAN-(h-a);if(a=h,d>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$2(s,e){return setToString(overRest(s,e,identity),s+"")}var _baseRest=baseRest$2,eq$2=eq_1,isArrayLike=isArrayLike_1,isIndex=_isIndex,isObject$1=isObject_1;function isIterateeCall$1(s,e,a){if(!isObject$1(a))return!1;var h=typeof e;return(h=="number"?isArrayLike(a)&&isIndex(e,a.length):h=="string"&&e in a)?eq$2(a[e],s):!1}var _isIterateeCall=isIterateeCall$1,baseRest$1=_baseRest,eq$1=eq_1,isIterateeCall=_isIterateeCall,keysIn=keysIn_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,defaults$2=baseRest$1(function(s,e){s=Object(s);var a=-1,h=e.length,d=h>2?e[2]:void 0;for(d&&isIterateeCall(e[0],e[1],d)&&(h=1);++a<h;)for(var g=e[a],_=keysIn(g),b=-1,et=_.length;++b<et;){var ot=_[b],gt=s[ot];(gt===void 0||eq$1(gt,objectProto$2[ot])&&!hasOwnProperty$2.call(s,ot))&&(s[ot]=g[ot])}return s}),defaults_1=defaults$2;Object.defineProperty(_default$1,"__esModule",{value:!0});var color_1$1=color,util_1=util$2,defaults$1=defaults_1,DefaultOpts={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function _findMaxPopulation(s){var e=0;return s.forEach(function(a){e=Math.max(e,a.getPopulation())}),e}function _isAlreadySelected(s,e){return s.Vibrant===e||s.DarkVibrant===e||s.LightVibrant===e||s.Muted===e||s.DarkMuted===e||s.LightMuted===e}function _createComparisonValue(s,e,a,h,d,g,_){function b(){for(var ot=[],gt=0;gt<arguments.length;gt++)ot[gt]=arguments[gt];for(var yt=0,mt=0,St=0;St<ot.length;St+=2){var _t=ot[St],xt=ot[St+1];yt+=_t*xt,mt+=xt}return yt/mt}function et(ot,gt){return 1-Math.abs(ot-gt)}return b(et(s,e),_.weightSaturation,et(a,h),_.weightLuma,d/g,_.weightPopulation)}function _findColorVariation(s,e,a,h,d,g,_,b,et,ot){var gt=null,yt=0;return e.forEach(function(mt){var St=mt.getHsl(),_t=St[1],xt=St[2];if(_t>=b&&_t<=et&&xt>=d&&xt<=g&&!_isAlreadySelected(s,mt)){var Ot=_createComparisonValue(_t,_,xt,h,mt.getPopulation(),a,ot);(gt===null||Ot>yt)&&(gt=mt,yt=Ot)}}),gt}function _generateVariationColors(s,e,a){var h={};return h.Vibrant=_findColorVariation(h,s,e,a.targetNormalLuma,a.minNormalLuma,a.maxNormalLuma,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),h.LightVibrant=_findColorVariation(h,s,e,a.targetLightLuma,a.minLightLuma,1,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),h.DarkVibrant=_findColorVariation(h,s,e,a.targetDarkLuma,0,a.maxDarkLuma,a.targetVibrantSaturation,a.minVibrantSaturation,1,a),h.Muted=_findColorVariation(h,s,e,a.targetNormalLuma,a.minNormalLuma,a.maxNormalLuma,a.targetMutesSaturation,0,a.maxMutesSaturation,a),h.LightMuted=_findColorVariation(h,s,e,a.targetLightLuma,a.minLightLuma,1,a.targetMutesSaturation,0,a.maxMutesSaturation,a),h.DarkMuted=_findColorVariation(h,s,e,a.targetDarkLuma,0,a.maxDarkLuma,a.targetMutesSaturation,0,a.maxMutesSaturation,a),h}function _generateEmptySwatches(s,e,a){if(s.Vibrant===null&&s.DarkVibrant===null&&s.LightVibrant===null){if(s.DarkVibrant===null&&s.DarkMuted!==null){var h=s.DarkMuted.getHsl(),d=h[0],g=h[1],_=h[2];_=a.targetDarkLuma,s.DarkVibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.LightVibrant===null&&s.LightMuted!==null){var b=s.LightMuted.getHsl(),d=b[0],g=b[1],_=b[2];_=a.targetDarkLuma,s.DarkVibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}}if(s.Vibrant===null&&s.DarkVibrant!==null){var et=s.DarkVibrant.getHsl(),d=et[0],g=et[1],_=et[2];_=a.targetNormalLuma,s.Vibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}else if(s.Vibrant===null&&s.LightVibrant!==null){var ot=s.LightVibrant.getHsl(),d=ot[0],g=ot[1],_=ot[2];_=a.targetNormalLuma,s.Vibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.DarkVibrant===null&&s.Vibrant!==null){var gt=s.Vibrant.getHsl(),d=gt[0],g=gt[1],_=gt[2];_=a.targetDarkLuma,s.DarkVibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.LightVibrant===null&&s.Vibrant!==null){var yt=s.Vibrant.getHsl(),d=yt[0],g=yt[1],_=yt[2];_=a.targetLightLuma,s.LightVibrant=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.Muted===null&&s.Vibrant!==null){var mt=s.Vibrant.getHsl(),d=mt[0],g=mt[1],_=mt[2];_=a.targetMutesSaturation,s.Muted=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.DarkMuted===null&&s.DarkVibrant!==null){var St=s.DarkVibrant.getHsl(),d=St[0],g=St[1],_=St[2];_=a.targetMutesSaturation,s.DarkMuted=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}if(s.LightMuted===null&&s.LightVibrant!==null){var _t=s.LightVibrant.getHsl(),d=_t[0],g=_t[1],_=_t[2];_=a.targetMutesSaturation,s.LightMuted=new color_1$1.Swatch(util_1.hslToRgb(d,g,_),0)}}var DefaultGenerator=function(s,e){e=defaults$1({},e,DefaultOpts);var a=_findMaxPopulation(s),h=_generateVariationColors(s,a,e);return _generateEmptySwatches(h,a,e),h};_default$1.default=DefaultGenerator;(function(s){Object.defineProperty(s,"__esModule",{value:!0});var e=_default$1;Object.defineProperty(s,"Default",{enumerable:!0,get:function(){return e.default}})})(generator);var filter={},_default={};Object.defineProperty(_default,"__esModule",{value:!0});function defaultFilter(s,e,a,h){return h>=125&&!(s>250&&e>250&&a>250)}_default.default=defaultFilter;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.combineFilters=void 0;var e=_default;Object.defineProperty(s,"Default",{enumerable:!0,get:function(){return e.default}});function a(h){return!Array.isArray(h)||h.length===0?null:function(d,g,_,b){if(b===0)return!1;for(var et=0;et<h.length;et++)if(!h[et](d,g,_,b))return!1;return!0}}s.combineFilters=a})(filter);var __createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,e,a,h){h===void 0&&(h=a),Object.defineProperty(s,h,{enumerable:!0,get:function(){return e[a]}})}:function(s,e,a,h){h===void 0&&(h=a),s[h]=e[a]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var a in s)a!=="default"&&Object.hasOwnProperty.call(s,a)&&__createBinding$1(e,s,a);return __setModuleDefault$1(e,s),e},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vibrant,"__esModule",{value:!0});var color_1=color,builder_1=__importDefault$1(builder),Util=__importStar$1(util$2),Quantizer=__importStar$1(quantizer),Generator=__importStar$1(generator),Filters=__importStar$1(filter),defaults=defaults_1,Vibrant=function(){function s(e,a){this._src=e,this.opts=defaults({},a,s.DefaultOpts),this.opts.combinedFilter=Filters.combineFilters(this.opts.filters)}return s.from=function(e){return new builder_1.default(e)},s.prototype._process=function(e,a){var h=a.quantizer,d=a.generator;return e.scaleDown(a),e.applyFilter(a.combinedFilter).then(function(g){return h(g.data,a)}).then(function(g){return color_1.Swatch.applyFilter(g,a.combinedFilter)}).then(function(g){return Promise.resolve(d(g))})},s.prototype.palette=function(){return this.swatches()},s.prototype.swatches=function(){return this._palette},s.prototype.getPalette=function(e){var a=this,h=new this.opts.ImageClass,d=h.load(this._src).then(function(g){return a._process(g,a.opts)}).then(function(g){return a._palette=g,h.remove(),g},function(g){throw h.remove(),g});return e&&d.then(function(g){return e(null,g)},function(g){return e(g)}),d},s.Builder=builder_1.default,s.Quantizer=Quantizer,s.Generator=Generator,s.Filter=Filters,s.Util=Util,s.Swatch=color_1.Swatch,s.DefaultOpts={colorCount:64,quality:5,generator:Generator.Default,ImageClass:null,quantizer:Quantizer.MMCQ,filters:[Filters.Default]},s}();vibrant.default=Vibrant;var browser$2={},base={};Object.defineProperty(base,"__esModule",{value:!0});base.ImageBase=void 0;var ImageBase=function(){function s(){}return s.prototype.scaleDown=function(e){var a=this.getWidth(),h=this.getHeight(),d=1;if(e.maxDimension>0){var g=Math.max(a,h);g>e.maxDimension&&(d=e.maxDimension/g)}else d=1/e.quality;d<1&&this.resize(a*d,h*d,d)},s.prototype.applyFilter=function(e){var a=this.getImageData();if(typeof e=="function")for(var h=a.data,d=h.length/4,g=void 0,_=void 0,b=void 0,et=void 0,ot=void 0,gt=0;gt<d;gt++)g=gt*4,_=h[g+0],b=h[g+1],et=h[g+2],ot=h[g+3],e(_,b,et,ot)||(h[g+3]=0);return Promise.resolve(a)},s}();base.ImageBase=ImageBase;var url={},punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(s,e){(function(a){var h=e&&!e.nodeType&&e,d=s&&!s.nodeType&&s,g=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(g.global===g||g.window===g||g.self===g)&&(a=g);var _,b=2147483647,et=36,ot=1,gt=26,yt=38,mt=700,St=72,_t=128,xt="-",Ot=/^xn--/,wt=/[^\x20-\x7E]/,vt=/[\x2E\u3002\uFF0E\uFF61]/g,kt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Dt=et-ot,Nt=Math.floor,Mt=String.fromCharCode,Ht;function Ft(Vt){throw RangeError(kt[Vt])}function Wt(Vt,tr){for(var nr=Vt.length,ur=[];nr--;)ur[nr]=tr(Vt[nr]);return ur}function On(Vt,tr){var nr=Vt.split("@"),ur="";nr.length>1&&(ur=nr[0]+"@",Vt=nr[1]),Vt=Vt.replace(vt,".");var or=Vt.split("."),fr=Wt(or,tr).join(".");return ur+fr}function ir(Vt){for(var tr=[],nr=0,ur=Vt.length,or,fr;nr<ur;)or=Vt.charCodeAt(nr++),or>=55296&&or<=56319&&nr<ur?(fr=Vt.charCodeAt(nr++),(fr&64512)==56320?tr.push(((or&1023)<<10)+(fr&1023)+65536):(tr.push(or),nr--)):tr.push(or);return tr}function ar(Vt){return Wt(Vt,function(tr){var nr="";return tr>65535&&(tr-=65536,nr+=Mt(tr>>>10&1023|55296),tr=56320|tr&1023),nr+=Mt(tr),nr}).join("")}function lr(Vt){return Vt-48<10?Vt-22:Vt-65<26?Vt-65:Vt-97<26?Vt-97:et}function hr(Vt,tr){return Vt+22+75*(Vt<26)-((tr!=0)<<5)}function cr(Vt,tr,nr){var ur=0;for(Vt=nr?Nt(Vt/mt):Vt>>1,Vt+=Nt(Vt/tr);Vt>Dt*gt>>1;ur+=et)Vt=Nt(Vt/Dt);return Nt(ur+(Dt+1)*Vt/(Vt+yt))}function sr(Vt){var tr=[],nr=Vt.length,ur,or=0,fr=_t,dr=St,pr,_r,Er,br,vr,$r,wr,Tr,Sr;for(pr=Vt.lastIndexOf(xt),pr<0&&(pr=0),_r=0;_r<pr;++_r)Vt.charCodeAt(_r)>=128&&Ft("not-basic"),tr.push(Vt.charCodeAt(_r));for(Er=pr>0?pr+1:0;Er<nr;){for(br=or,vr=1,$r=et;Er>=nr&&Ft("invalid-input"),wr=lr(Vt.charCodeAt(Er++)),(wr>=et||wr>Nt((b-or)/vr))&&Ft("overflow"),or+=wr*vr,Tr=$r<=dr?ot:$r>=dr+gt?gt:$r-dr,!(wr<Tr);$r+=et)Sr=et-Tr,vr>Nt(b/Sr)&&Ft("overflow"),vr*=Sr;ur=tr.length+1,dr=cr(or-br,ur,br==0),Nt(or/ur)>b-fr&&Ft("overflow"),fr+=Nt(or/ur),or%=ur,tr.splice(or++,0,fr)}return ar(tr)}function yr(Vt){var tr,nr,ur,or,fr,dr,pr,_r,Er,br,vr,$r=[],wr,Tr,Sr,xr;for(Vt=ir(Vt),wr=Vt.length,tr=_t,nr=0,fr=St,dr=0;dr<wr;++dr)vr=Vt[dr],vr<128&&$r.push(Mt(vr));for(ur=or=$r.length,or&&$r.push(xt);ur<wr;){for(pr=b,dr=0;dr<wr;++dr)vr=Vt[dr],vr>=tr&&vr<pr&&(pr=vr);for(Tr=ur+1,pr-tr>Nt((b-nr)/Tr)&&Ft("overflow"),nr+=(pr-tr)*Tr,tr=pr,dr=0;dr<wr;++dr)if(vr=Vt[dr],vr<tr&&++nr>b&&Ft("overflow"),vr==tr){for(_r=nr,Er=et;br=Er<=fr?ot:Er>=fr+gt?gt:Er-fr,!(_r<br);Er+=et)xr=_r-br,Sr=et-br,$r.push(Mt(hr(br+xr%Sr,0))),_r=Nt(xr/Sr);$r.push(Mt(hr(_r,0))),fr=cr(nr,Tr,ur==or),nr=0,++ur}++nr,++tr}return $r.join("")}function er(Vt){return On(Vt,function(tr){return Ot.test(tr)?sr(tr.slice(4).toLowerCase()):tr})}function rr(Vt){return On(Vt,function(tr){return wt.test(tr)?"xn--"+yr(tr):tr})}if(_={version:"1.3.2",ucs2:{decode:ir,encode:ar},decode:sr,encode:yr,toASCII:rr,toUnicode:er},h&&d)if(s.exports==h)d.exports=_;else for(Ht in _)_.hasOwnProperty(Ht)&&(h[Ht]=_[Ht]);else a.punycode=_})(commonjsGlobal$1)})(punycode$1,punycode$1.exports);var util$1={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}},querystring$1={};function hasOwnProperty$1(s,e){return Object.prototype.hasOwnProperty.call(s,e)}var decode=function(s,e,a,h){e=e||"&",a=a||"=";var d={};if(typeof s!="string"||s.length===0)return d;var g=/\+/g;s=s.split(e);var _=1e3;h&&typeof h.maxKeys=="number"&&(_=h.maxKeys);var b=s.length;_>0&&b>_&&(b=_);for(var et=0;et<b;++et){var ot=s[et].replace(g,"%20"),gt=ot.indexOf(a),yt,mt,St,_t;gt>=0?(yt=ot.substr(0,gt),mt=ot.substr(gt+1)):(yt=ot,mt=""),St=decodeURIComponent(yt),_t=decodeURIComponent(mt),hasOwnProperty$1(d,St)?Array.isArray(d[St])?d[St].push(_t):d[St]=[d[St],_t]:d[St]=_t}return d},stringifyPrimitive=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}},encode=function(s,e,a,h){return e=e||"&",a=a||"=",s===null&&(s=void 0),typeof s=="object"?Object.keys(s).map(function(d){var g=encodeURIComponent(stringifyPrimitive(d))+a;return Array.isArray(s[d])?s[d].map(function(_){return g+encodeURIComponent(stringifyPrimitive(_))}).join(e):g+encodeURIComponent(stringifyPrimitive(s[d]))}).join(e):h?encodeURIComponent(stringifyPrimitive(h))+a+encodeURIComponent(stringifyPrimitive(s)):""};querystring$1.decode=querystring$1.parse=decode;querystring$1.encode=querystring$1.stringify=encode;var punycode=punycode$1.exports,util=util$1;url.parse=urlParse;url.resolve=urlResolve;url.resolveObject=urlResolveObject;url.format=urlFormat;url.Url=Url$1;function Url$1(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(s,e,a){if(s&&util.isObject(s)&&s instanceof Url$1)return s;var h=new Url$1;return h.parse(s,e,a),h}Url$1.prototype.parse=function(s,e,a){if(!util.isString(s))throw new TypeError("Parameter 'url' must be a string, not "+typeof s);var h=s.indexOf("?"),d=h!==-1&&h<s.indexOf("#")?"?":"#",g=s.split(d),_=/\\/g;g[0]=g[0].replace(_,"/"),s=g.join(d);var b=s;if(b=b.trim(),!a&&s.split("#").length===1){var et=simplePathPattern.exec(b);if(et)return this.path=b,this.href=b,this.pathname=et[1],et[2]?(this.search=et[2],e?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var ot=protocolPattern.exec(b);if(ot){ot=ot[0];var gt=ot.toLowerCase();this.protocol=gt,b=b.substr(ot.length)}if(a||ot||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var yt=b.substr(0,2)==="//";yt&&!(ot&&hostlessProtocol[ot])&&(b=b.substr(2),this.slashes=!0)}if(!hostlessProtocol[ot]&&(yt||ot&&!slashedProtocol[ot])){for(var mt=-1,St=0;St<hostEndingChars.length;St++){var _t=b.indexOf(hostEndingChars[St]);_t!==-1&&(mt===-1||_t<mt)&&(mt=_t)}var xt,Ot;mt===-1?Ot=b.lastIndexOf("@"):Ot=b.lastIndexOf("@",mt),Ot!==-1&&(xt=b.slice(0,Ot),b=b.slice(Ot+1),this.auth=decodeURIComponent(xt)),mt=-1;for(var St=0;St<nonHostChars.length;St++){var _t=b.indexOf(nonHostChars[St]);_t!==-1&&(mt===-1||_t<mt)&&(mt=_t)}mt===-1&&(mt=b.length),this.host=b.slice(0,mt),b=b.slice(mt),this.parseHost(),this.hostname=this.hostname||"";var wt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!wt)for(var vt=this.hostname.split(/\./),St=0,kt=vt.length;St<kt;St++){var Dt=vt[St];if(!!Dt&&!Dt.match(hostnamePartPattern)){for(var Nt="",Mt=0,Ht=Dt.length;Mt<Ht;Mt++)Dt.charCodeAt(Mt)>127?Nt+="x":Nt+=Dt[Mt];if(!Nt.match(hostnamePartPattern)){var Ft=vt.slice(0,St),Wt=vt.slice(St+1),On=Dt.match(hostnamePartStart);On&&(Ft.push(On[1]),Wt.unshift(On[2])),Wt.length&&(b="/"+Wt.join(".")+b),this.hostname=Ft.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),wt||(this.hostname=punycode.toASCII(this.hostname));var ir=this.port?":"+this.port:"",ar=this.hostname||"";this.host=ar+ir,this.href+=this.host,wt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),b[0]!=="/"&&(b="/"+b))}if(!unsafeProtocol[gt])for(var St=0,kt=autoEscape.length;St<kt;St++){var lr=autoEscape[St];if(b.indexOf(lr)!==-1){var hr=encodeURIComponent(lr);hr===lr&&(hr=escape(lr)),b=b.split(lr).join(hr)}}var cr=b.indexOf("#");cr!==-1&&(this.hash=b.substr(cr),b=b.slice(0,cr));var sr=b.indexOf("?");if(sr!==-1?(this.search=b.substr(sr),this.query=b.substr(sr+1),e&&(this.query=querystring.parse(this.query)),b=b.slice(0,sr)):e&&(this.search="",this.query={}),b&&(this.pathname=b),slashedProtocol[gt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ir=this.pathname||"",yr=this.search||"";this.path=ir+yr}return this.href=this.format(),this};function urlFormat(s){return util.isString(s)&&(s=urlParse(s)),s instanceof Url$1?s.format():Url$1.prototype.format.call(s)}Url$1.prototype.format=function(){var s=this.auth||"";s&&(s=encodeURIComponent(s),s=s.replace(/%3A/i,":"),s+="@");var e=this.protocol||"",a=this.pathname||"",h=this.hash||"",d=!1,g="";this.host?d=s+this.host:this.hostname&&(d=s+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(d+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(g=querystring.stringify(this.query));var _=this.search||g&&"?"+g||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||slashedProtocol[e])&&d!==!1?(d="//"+(d||""),a&&a.charAt(0)!=="/"&&(a="/"+a)):d||(d=""),h&&h.charAt(0)!=="#"&&(h="#"+h),_&&_.charAt(0)!=="?"&&(_="?"+_),a=a.replace(/[?#]/g,function(b){return encodeURIComponent(b)}),_=_.replace("#","%23"),e+d+a+_+h};function urlResolve(s,e){return urlParse(s,!1,!0).resolve(e)}Url$1.prototype.resolve=function(s){return this.resolveObject(urlParse(s,!1,!0)).format()};function urlResolveObject(s,e){return s?urlParse(s,!1,!0).resolveObject(e):e}Url$1.prototype.resolveObject=function(s){if(util.isString(s)){var e=new Url$1;e.parse(s,!1,!0),s=e}for(var a=new Url$1,h=Object.keys(this),d=0;d<h.length;d++){var g=h[d];a[g]=this[g]}if(a.hash=s.hash,s.href==="")return a.href=a.format(),a;if(s.slashes&&!s.protocol){for(var _=Object.keys(s),b=0;b<_.length;b++){var et=_[b];et!=="protocol"&&(a[et]=s[et])}return slashedProtocol[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(s.protocol&&s.protocol!==a.protocol){if(!slashedProtocol[s.protocol]){for(var ot=Object.keys(s),gt=0;gt<ot.length;gt++){var yt=ot[gt];a[yt]=s[yt]}return a.href=a.format(),a}if(a.protocol=s.protocol,!s.host&&!hostlessProtocol[s.protocol]){for(var kt=(s.pathname||"").split("/");kt.length&&!(s.host=kt.shift()););s.host||(s.host=""),s.hostname||(s.hostname=""),kt[0]!==""&&kt.unshift(""),kt.length<2&&kt.unshift(""),a.pathname=kt.join("/")}else a.pathname=s.pathname;if(a.search=s.search,a.query=s.query,a.host=s.host||"",a.auth=s.auth,a.hostname=s.hostname||s.host,a.port=s.port,a.pathname||a.search){var mt=a.pathname||"",St=a.search||"";a.path=mt+St}return a.slashes=a.slashes||s.slashes,a.href=a.format(),a}var _t=a.pathname&&a.pathname.charAt(0)==="/",xt=s.host||s.pathname&&s.pathname.charAt(0)==="/",Ot=xt||_t||a.host&&s.pathname,wt=Ot,vt=a.pathname&&a.pathname.split("/")||[],kt=s.pathname&&s.pathname.split("/")||[],Dt=a.protocol&&!slashedProtocol[a.protocol];if(Dt&&(a.hostname="",a.port=null,a.host&&(vt[0]===""?vt[0]=a.host:vt.unshift(a.host)),a.host="",s.protocol&&(s.hostname=null,s.port=null,s.host&&(kt[0]===""?kt[0]=s.host:kt.unshift(s.host)),s.host=null),Ot=Ot&&(kt[0]===""||vt[0]==="")),xt)a.host=s.host||s.host===""?s.host:a.host,a.hostname=s.hostname||s.hostname===""?s.hostname:a.hostname,a.search=s.search,a.query=s.query,vt=kt;else if(kt.length)vt||(vt=[]),vt.pop(),vt=vt.concat(kt),a.search=s.search,a.query=s.query;else if(!util.isNullOrUndefined(s.search)){if(Dt){a.hostname=a.host=vt.shift();var Nt=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;Nt&&(a.auth=Nt.shift(),a.host=a.hostname=Nt.shift())}return a.search=s.search,a.query=s.query,(!util.isNull(a.pathname)||!util.isNull(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!vt.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var Mt=vt.slice(-1)[0],Ht=(a.host||s.host||vt.length>1)&&(Mt==="."||Mt==="..")||Mt==="",Ft=0,Wt=vt.length;Wt>=0;Wt--)Mt=vt[Wt],Mt==="."?vt.splice(Wt,1):Mt===".."?(vt.splice(Wt,1),Ft++):Ft&&(vt.splice(Wt,1),Ft--);if(!Ot&&!wt)for(;Ft--;Ft)vt.unshift("..");Ot&&vt[0]!==""&&(!vt[0]||vt[0].charAt(0)!=="/")&&vt.unshift(""),Ht&&vt.join("/").substr(-1)!=="/"&&vt.push("");var On=vt[0]===""||vt[0]&&vt[0].charAt(0)==="/";if(Dt){a.hostname=a.host=On?"":vt.length?vt.shift():"";var Nt=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;Nt&&(a.auth=Nt.shift(),a.host=a.hostname=Nt.shift())}return Ot=Ot||a.host&&vt.length,Ot&&!On&&vt.unshift(""),vt.length?a.pathname=vt.join("/"):(a.pathname=null,a.path=null),(!util.isNull(a.pathname)||!util.isNull(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=s.auth||a.auth,a.slashes=a.slashes||s.slashes,a.href=a.format(),a};Url$1.prototype.parseHost=function(){var s=this.host,e=portPattern.exec(s);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),s=s.substr(0,s.length-e.length)),s&&(this.hostname=s)};var __extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var s=function(e,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])},s(e,a)};return function(e,a){s(e,a);function h(){this.constructor=e}e.prototype=a===null?Object.create(a):(h.prototype=a.prototype,new h)}}(),__createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(s,e,a,h){h===void 0&&(h=a),Object.defineProperty(s,h,{enumerable:!0,get:function(){return e[a]}})}:function(s,e,a,h){h===void 0&&(h=a),s[h]=e[a]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var a in s)a!=="default"&&Object.hasOwnProperty.call(s,a)&&__createBinding(e,s,a);return __setModuleDefault(e,s),e};Object.defineProperty(browser$2,"__esModule",{value:!0});var base_1=base,Url=__importStar(url);function isRelativeUrl(s){var e=Url.parse(s);return e.protocol===null&&e.host===null&&e.port===null}function isSameOrigin(s,e){var a=Url.parse(s),h=Url.parse(e);return a.protocol===h.protocol&&a.hostname===h.hostname&&a.port===h.port}var BrowserImage=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype._initCanvas=function(){var a=this.image,h=this._canvas=document.createElement("canvas"),d=this._context=h.getContext("2d");h.className="vibrant-canvas",h.style.display="none",this._width=h.width=a.width,this._height=h.height=a.height,d.drawImage(a,0,0),document.body.appendChild(h)},e.prototype.load=function(a){var h=this,d=null,g=null;if(typeof a=="string")d=document.createElement("img"),!isRelativeUrl(a)&&!isSameOrigin(window.location.href,a)&&(d.crossOrigin="anonymous"),g=d.src=a;else if(a instanceof HTMLImageElement)d=a,g=a.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=d,new Promise(function(_,b){var et=function(){h._initCanvas(),_(h)};d.complete?et():(d.onload=et,d.onerror=function(ot){return b(new Error("Fail to load image: "+g))})})},e.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},e.prototype.update=function(a){this._context.putImageData(a,0,0)},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.resize=function(a,h,d){var g=this,_=g._canvas,b=g._context,et=g.image;this._width=_.width=a,this._height=_.height=h,b.scale(d,d),b.drawImage(et,0,0)},e.prototype.getPixelCount=function(){return this._width*this._height},e.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},e.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},e}(base_1.ImageBase);browser$2.default=BrowserImage;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},vibrant_1=__importDefault(vibrant),browser_1=__importDefault(browser$2);vibrant_1.default.DefaultOpts.ImageClass=browser_1.default;var browser$1=vibrant_1.default,INFINITY$1=1/0,symbolTag$1="[object Symbol]",reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['\u2019]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",rsOptLowerContr="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptUpperContr="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp(rsApos,"g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptLowerContr+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+"+rsOptUpperContr+"(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+"+rsOptLowerContr,rsUpper+"+"+rsOptUpperContr,rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,deburredLetters={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf$1||Function("return this")();function arrayReduce(s,e,a,h){var d=-1,g=s?s.length:0;for(h&&g&&(a=s[++d]);++d<g;)a=e(a,s[d],d,s);return a}function asciiToArray(s){return s.split("")}function asciiWords(s){return s.match(reAsciiWord)||[]}function basePropertyOf(s){return function(e){return s==null?void 0:s[e]}}var deburrLetter=basePropertyOf(deburredLetters);function hasUnicode(s){return reHasUnicode.test(s)}function hasUnicodeWord(s){return reHasUnicodeWord.test(s)}function stringToArray(s){return hasUnicode(s)?unicodeToArray(s):asciiToArray(s)}function unicodeToArray(s){return s.match(reUnicode)||[]}function unicodeWords(s){return s.match(reUnicodeWord)||[]}var objectProto$1=Object.prototype,objectToString$1=objectProto$1.toString,Symbol$2=root$1.Symbol,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString$1=symbolProto$1?symbolProto$1.toString:void 0;function baseSlice$1(s,e,a){var h=-1,d=s.length;e<0&&(e=-e>d?0:d+e),a=a>d?d:a,a<0&&(a+=d),d=e>a?0:a-e>>>0,e>>>=0;for(var g=Array(d);++h<d;)g[h]=s[h+e];return g}function baseToString$1(s){if(typeof s=="string")return s;if(isSymbol$1(s))return symbolToString$1?symbolToString$1.call(s):"";var e=s+"";return e=="0"&&1/s==-INFINITY$1?"-0":e}function castSlice(s,e,a){var h=s.length;return a=a===void 0?h:a,!e&&a>=h?s:baseSlice$1(s,e,a)}function createCaseFirst(s){return function(e){e=toString$1(e);var a=hasUnicode(e)?stringToArray(e):void 0,h=a?a[0]:e.charAt(0),d=a?castSlice(a,1).join(""):e.slice(1);return h[s]()+d}}function createCompounder(s){return function(e){return arrayReduce(words(deburr(e).replace(reApos,"")),s,"")}}function isObjectLike$1(s){return!!s&&typeof s=="object"}function isSymbol$1(s){return typeof s=="symbol"||isObjectLike$1(s)&&objectToString$1.call(s)==symbolTag$1}function toString$1(s){return s==null?"":baseToString$1(s)}var camelCase=createCompounder(function(s,e,a){return e=e.toLowerCase(),s+(a?capitalize(e):e)});function capitalize(s){return upperFirst(toString$1(s).toLowerCase())}function deburr(s){return s=toString$1(s),s&&s.replace(reLatin,deburrLetter).replace(reComboMark,"")}var upperFirst=createCaseFirst("toUpperCase");function words(s,e,a){return s=toString$1(s),e=a?void 0:e,e===void 0?hasUnicodeWord(s)?unicodeWords(s):asciiWords(s):s.match(e)||[]}var lodash_camelcase=camelCase,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function apply(s,e,a){switch(a.length){case 0:return s.call(e);case 1:return s.call(e,a[0]);case 2:return s.call(e,a[0],a[1]);case 3:return s.call(e,a[0],a[1],a[2])}return s.apply(e,a)}function getValue(s,e){return s==null?void 0:s[e]}function isHostObject(s){var e=!1;if(s!=null&&typeof s.toString!="function")try{e=!!(s+"")}catch{}return e}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var s=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,nativeMax=Math.max,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(s){var e=-1,a=s?s.length:0;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(s){return this.has(s)&&delete this.__data__[s]}function hashGet(s){var e=this.__data__;if(nativeCreate){var a=e[s];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(e,s)?e[s]:void 0}function hashHas(s){var e=this.__data__;return nativeCreate?e[s]!==void 0:hasOwnProperty.call(e,s)}function hashSet(s,e){var a=this.__data__;return a[s]=nativeCreate&&e===void 0?HASH_UNDEFINED:e,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(s){var e=-1,a=s?s.length:0;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(s){var e=this.__data__,a=assocIndexOf(e,s);if(a<0)return!1;var h=e.length-1;return a==h?e.pop():splice.call(e,a,1),!0}function listCacheGet(s){var e=this.__data__,a=assocIndexOf(e,s);return a<0?void 0:e[a][1]}function listCacheHas(s){return assocIndexOf(this.__data__,s)>-1}function listCacheSet(s,e){var a=this.__data__,h=assocIndexOf(a,s);return h<0?a.push([s,e]):a[h][1]=e,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(s){var e=-1,a=s?s.length:0;for(this.clear();++e<a;){var h=s[e];this.set(h[0],h[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(s){return getMapData(this,s).delete(s)}function mapCacheGet(s){return getMapData(this,s).get(s)}function mapCacheHas(s){return getMapData(this,s).has(s)}function mapCacheSet(s,e){return getMapData(this,s).set(s,e),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(s,e){for(var a=s.length;a--;)if(eq(s[a][0],e))return a;return-1}function baseGet(s,e){e=isKey(e,s)?[e]:castPath(e);for(var a=0,h=e.length;s!=null&&a<h;)s=s[toKey(e[a++])];return a&&a==h?s:void 0}function baseInvoke(s,e,a){isKey(e,s)||(e=castPath(e),s=parent(s,e),e=last(e));var h=s==null?s:s[toKey(e)];return h==null?void 0:apply(h,s,a)}function baseIsNative(s){if(!isObject(s)||isMasked(s))return!1;var e=isFunction(s)||isHostObject(s)?reIsNative:reIsHostCtor;return e.test(toSource(s))}function baseRest(s,e){return e=nativeMax(e===void 0?s.length-1:e,0),function(){for(var a=arguments,h=-1,d=nativeMax(a.length-e,0),g=Array(d);++h<d;)g[h]=a[e+h];h=-1;for(var _=Array(e+1);++h<e;)_[h]=a[h];return _[e]=g,apply(s,this,_)}}function baseSlice(s,e,a){var h=-1,d=s.length;e<0&&(e=-e>d?0:d+e),a=a>d?d:a,a<0&&(a+=d),d=e>a?0:a-e>>>0,e>>>=0;for(var g=Array(d);++h<d;)g[h]=s[h+e];return g}function baseToString(s){if(typeof s=="string")return s;if(isSymbol(s))return symbolToString?symbolToString.call(s):"";var e=s+"";return e=="0"&&1/s==-INFINITY?"-0":e}function castPath(s){return isArray(s)?s:stringToPath(s)}function getMapData(s,e){var a=s.__data__;return isKeyable(e)?a[typeof e=="string"?"string":"hash"]:a.map}function getNative(s,e){var a=getValue(s,e);return baseIsNative(a)?a:void 0}function isKey(s,e){if(isArray(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||isSymbol(s)?!0:reIsPlainProp.test(s)||!reIsDeepProp.test(s)||e!=null&&s in Object(e)}function isKeyable(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}function isMasked(s){return!!maskSrcKey&&maskSrcKey in s}function parent(s,e){return e.length==1?s:baseGet(s,baseSlice(e,0,-1))}var stringToPath=memoize(function(s){s=toString(s);var e=[];return reLeadingDot.test(s)&&e.push(""),s.replace(rePropName,function(a,h,d,g){e.push(d?g.replace(reEscapeChar,"$1"):h||a)}),e});function toKey(s){if(typeof s=="string"||isSymbol(s))return s;var e=s+"";return e=="0"&&1/s==-INFINITY?"-0":e}function toSource(s){if(s!=null){try{return funcToString.call(s)}catch{}try{return s+""}catch{}}return""}function last(s){var e=s?s.length:0;return e?s[e-1]:void 0}function memoize(s,e){if(typeof s!="function"||e&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var h=arguments,d=e?e.apply(this,h):h[0],g=a.cache;if(g.has(d))return g.get(d);var _=s.apply(this,h);return a.cache=g.set(d,_),_};return a.cache=new(memoize.Cache||MapCache),a}memoize.Cache=MapCache;function eq(s,e){return s===e||s!==s&&e!==e}var isArray=Array.isArray;function isFunction(s){var e=isObject(s)?objectToString.call(s):"";return e==funcTag||e==genTag}function isObject(s){var e=typeof s;return!!s&&(e=="object"||e=="function")}function isObjectLike(s){return!!s&&typeof s=="object"}function isSymbol(s){return typeof s=="symbol"||isObjectLike(s)&&objectToString.call(s)==symbolTag}function toString(s){return s==null?"":baseToString(s)}var invoke=baseRest(baseInvoke),lodash_invoke=invoke,n=function(s){try{return Promise.resolve(browser$1.from(s).getPalette()).then(function(e){return Object.keys(e).reduce(function(a,h){var d;return Object.assign({},a,((d={})[lodash_camelcase(h)]=lodash_invoke(e,[h,"getHex"]),d))},{})})}catch(e){return Promise.reject(e)}},o={loading:!0,data:{},error:void 0};function c(s,e){switch(e.type){case"getPalette":return o;case"resolvePalette":return Object.assign({},s,{data:e.payload,loading:!1});case"rejectPalette":return Object.assign({},s,{error:e.payload,loading:!1})}}function i(s){var e=React.useReducer(c,o),a=e[0],h=e[1];return React.useEffect(function(){h({type:"getPalette"}),n(s).then(function(d){h({type:"resolvePalette",payload:d})}).catch(function(d){h({type:"rejectPalette",payload:d})})},[s]),a}var l=function(s){var e=s.children,a=i(s.src);return React.createElement(React.Fragment,null,e(a))};const Movie=()=>{const{id:s}=useParams(),{pathname:e}=useLocation(),[a,h]=react.exports.useState(),[d,g]=react.exports.useState(),{isUserLoggedIn:_,addOrRemoveFav:b,favMedia:et}=useFaveContext(),ot=()=>{const gt={mediaId:s||"",mediaType:a!=null&&a.name?"tv":"movie"};s&&b(gt)};return react.exports.useEffect(()=>{const gt=async()=>{if(e.includes("/tv")){if(s){const mt=await axios.get(getTVDetails(s));h(mt==null?void 0:mt.data)}}else if(e.includes("/movies")&&s){const mt=await axios.get(getMovieDetails(s));h(mt==null?void 0:mt.data)}},yt=async()=>{if(e.includes("/tv")&&s){const mt=await axios.get(getSimilarTV(s));g(mt==null?void 0:mt.data.results)}else if(s){const mt=await axios.get(getSimilarMovies(s));g(mt==null?void 0:mt.data.results)}};gt(),yt()},[s]),jsxs("section",{className:"movie-page",children:[jsx("div",{className:"movie-page-header",style:{backgroundImage:`${a!=null&&a.backdrop_path?`url(https://image.tmdb.org/t/p/w1000_and_h450_multi_faces/${a==null?void 0:a.backdrop_path})`:"linear-gradient(0deg, #252528 0%, #2f2b31 100%)"}`},children:jsx(l,{src:a!=null&&a.poster_path?`${imgBaseURL+a.poster_path}`:"",children:({data:gt,loading:yt,error:mt})=>jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",backgroundImage:`${yt||mt?"linear-gradient(0deg, #252528 0%, #2f2b31 100%)":`linear-gradient(to right, ${gt.vibrant?hexToRGB(gt.vibrant,1):gt.vibrant}, ${gt.vibrant?hexToRGB(gt.vibrant,.85):gt.vibrant} )`}`,backgroundSize:"cover"},children:jsxs("div",{className:"movie-header-container",children:[jsx("div",{className:"movie-poster-image",children:jsx("img",{src:a!=null&&a.poster_path?`${imgBaseURL}${a.poster_path}`:NoImg(),alt:"movie image",width:"300px",height:"450px",style:{borderRadius:"10px"},loading:"lazy"})}),jsxs("div",{className:"movie-details",children:[jsxs("div",{className:"movie-title",children:[" ",a!=null&&a.title?a.title:a==null?void 0:a.name]}),jsxs("div",{className:"movie-header-actions",children:[jsxs("div",{className:"movie-rating",children:[jsx("div",{className:"user-score",children:"User Score"}),jsx(Rating,{rating:a==null?void 0:a.vote_average})]}),jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:_?jsxs(Fragment,{children:[jsx("div",{children:s&&et.some(St=>St.mediaId===s)?"Added to favourites":"Add to favourites"}),jsx("div",{className:"fav-icon",children:jsx("svg",{id:"glyphicons-basic",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",style:{cursor:"pointer"},onClick:ot,children:jsx("path",{fill:s&&et.some(St=>St.mediaId===s)?"#ff0000":"#ffffff",id:"heart",d:"M27.78131,11.92578c0,4.82666-6.13562,8.68128-11.0376,14.0686a.99978.99978,0,0,1-1.48742,0c-4.902-5.38732-11.03748-9.24194-11.03748-14.0686,0-5.52954,7.53626-9.48682,11.57507-3.82544a.25855.25855,0,0,0,.42029.00562C20.47992,2.43628,27.78131,6.39453,27.78131,11.92578Z"})})})]}):jsx("div",{children:"Sign In to add as favorite"})})]}),jsx("div",{className:"movie-overview",children:a==null?void 0:a.overview})]})]})})})}),jsxs("div",{className:"movie-extras",children:[jsx("div",{className:"movie-cast",children:jsxs("div",{className:"movie-cast-container",children:[jsx("div",{className:"movie-cast-title",children:"Top Billed Casts"}),jsxs("div",{className:"movie-casts-cards",children:[a&&s&&jsx(People,{media_id:s,media_type:a!=null&&a.name?"tv":"movie"}),jsx("div",{className:"shadow"})]})]})}),jsxs("div",{className:"movie-sidebar",children:[jsxs("div",{className:"social-icons",children:[jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(0)"},width:"24",height:"24",viewBox:"0 0 24 24",children:jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})}),jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(0)"},width:"24",height:"24",viewBox:"0 0 24 24",children:jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(0)"},width:"24",height:"24",viewBox:"0 0 24 24",children:jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(0)"},width:"24",height:"24",viewBox:"0 0 24 24",children:jsx("path",{d:"M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z",fillRule:"evenodd",clipRule:"evenodd"})})]}),jsxs("div",{className:"status-container",children:[jsxs("div",{className:"movie-status",children:[jsx("div",{className:"movie-status-title",children:" Status"}),jsx("div",{className:"movie-status-content",children:" Released"})]}),jsxs("div",{className:"movie-language",children:[jsx("div",{className:"movie-language-title",children:"Available language"}),jsxs("div",{className:"movie-language-content",children:[" ",(a==null?void 0:a.original_language)&&movieLang(a==null?void 0:a.original_language)]})]}),jsxs("div",{className:"movie-budget",children:[jsx("div",{className:"movie-budget-title",children:"Available Budget "}),jsxs("div",{className:"movie-budget-content",children:[" ",a!=null&&a.budget&&Number(a==null?void 0:a.budget)>0?formatCurrency(a==null?void 0:a.budget):"Not Available"]})]}),jsxs("div",{className:"movie-revenue",children:[jsx("div",{className:"movie-revenue-title",children:"Revenue"}),jsx("div",{className:"movie-revenue-content",children:a!=null&&a.revenue&&Number(a==null?void 0:a.revenue)>0?formatCurrency(a==null?void 0:a.revenue):"Not Available"})]})]})]})]}),jsx("div",{className:"similar-movies",children:jsxs("div",{className:"similar-movies-container",children:[jsx("h3",{className:"similar-movies-title",children:"See similar Movies"}),jsx("div",{className:"similar-movies-list",children:d?d.length>0?jsx(MoviesList,{movies:d}):jsxs("div",{children:["No ",a!=null&&a.name?"TV Shows ":"Movies"," like this are Available"]}):jsx(Spinner,{})})]})})]})};var movies=(()=>"")();const Movies=()=>jsx("div",{children:"Movies"});var searchresult=(()=>`.search-result{border-radius:10px}.search-result-container{display:grid;grid-template-columns:1fr 4fr;width:80%;gap:1rem;margin:1rem auto}.search-result-main{box-shadow:0 2px 8px #0000001a;height:200px}.search-result-main-container{display:flex;flex-direction:column;gap:1rem}.search-result-sidebar{border-radius:13px 13px 0 0}.search-result-sidebar-header{display:flex;align-items:center;padding:1.5rem 1rem;font-weight:700;background-color:#17bbe8;border-radius:inherit;color:#fff}.search-results-groups{padding:1rem 0;display:flex;flex-direction:column;gap:.5rem}.search-results-groups li{display:flex;justify-content:space-between;padding:.5rem;cursor:pointer}.search-results-groups li:hover{background-color:#00000014}.search-results-groups li span{padding:0 .7rem;border-radius:5px;background-color:#00000014;font-weight:600}.search-result-card{display:flex;gap:1rem;height:200px}.search-res-body{display:flex;flex-direction:column;justify-content:center}.search-body-overview{padding:0 .5rem;overflow:hidden}.search-body-title{font-weight:700}.search-body-date{white-space:nowrap;color:#999}.search-res-img img{border-radius:10px 0 0 10px}.isActive-search{background-color:#00000014}.pagination-container{display:flex;gap:.5rem;padding:.5rem;background-color:#0a99af;width:fit-content;justify-content:space-evenly;font-weight:700}.pagination-container li{padding:0 .5rem;color:#fff}.active{border-radius:50%;background-color:gray}@media screen and (max-width:840px){.search-result-container{grid-template-columns:1fr;width:95%}.search-result-main{display:flex;flex-direction:column}.search-body-overview{height:73%}}
`)(),reactPaginate={exports:{}};(function(module,exports){(function(s,e){module.exports=e(react.exports)})(commonjsGlobal$1,function(__WEBPACK_EXTERNAL_MODULE__98__){return(()=>{var __webpack_modules__={759:(s,e,a)=>{a.d(e,{Z:()=>yt});var h,d=a(98),g=a.n(d),_=a(697),b=a.n(_);function et(){return et=Object.assign||function(_t){for(var xt=1;xt<arguments.length;xt++){var Ot=arguments[xt];for(var wt in Ot)Object.prototype.hasOwnProperty.call(Ot,wt)&&(_t[wt]=Ot[wt])}return _t},et.apply(this,arguments)}s=a.hmd(s),(h=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.enterModule:void 0)&&h(s),typeof reactHotLoaderGlobal!="undefined"&&reactHotLoaderGlobal.default.signature;var ot=function(_t){var xt=_t.breakLabel,Ot=_t.breakClassName,wt=_t.breakLinkClassName,vt=_t.breakHandler,kt=_t.getEventListener,Dt=Ot||"break";return g().createElement("li",{className:Dt},g().createElement("a",et({className:wt,role:"button",tabIndex:"0",onKeyPress:vt},kt(vt)),xt))};ot.propTypes={breakLabel:b().oneOfType([b().string,b().node]),breakClassName:b().string,breakLinkClassName:b().string,breakHandler:b().func.isRequired,getEventListener:b().func.isRequired};var gt=ot;const yt=gt;var mt,St;(mt=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.default:void 0)&&(mt.register(ot,"BreakView","/home/yoan/work/oss/react-paginate/react_components/BreakView.js"),mt.register(gt,"default","/home/yoan/work/oss/react-paginate/react_components/BreakView.js")),(St=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.leaveModule:void 0)&&St(s)},770:(s,e,a)=>{a.d(e,{Z:()=>yt});var h,d=a(98),g=a.n(d),_=a(697),b=a.n(_);function et(){return et=Object.assign||function(_t){for(var xt=1;xt<arguments.length;xt++){var Ot=arguments[xt];for(var wt in Ot)Object.prototype.hasOwnProperty.call(Ot,wt)&&(_t[wt]=Ot[wt])}return _t},et.apply(this,arguments)}s=a.hmd(s),(h=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.enterModule:void 0)&&h(s),typeof reactHotLoaderGlobal!="undefined"&&reactHotLoaderGlobal.default.signature;var ot=function(_t){var xt=_t.pageClassName,Ot=_t.pageLinkClassName,wt=_t.page,vt=_t.selected,kt=_t.activeClassName,Dt=_t.activeLinkClassName,Nt=_t.getEventListener,Mt=_t.pageSelectedHandler,Ht=_t.href,Ft=_t.extraAriaContext,Wt=_t.pageLabelBuilder,On=_t.rel,ir=_t.ariaLabel||"Page "+wt+(Ft?" "+Ft:""),ar=null;return vt&&(ar="page",ir=_t.ariaLabel||"Page "+wt+" is your current page",xt=xt!==void 0?xt+" "+kt:kt,Ot!==void 0?Dt!==void 0&&(Ot=Ot+" "+Dt):Ot=Dt),g().createElement("li",{className:xt},g().createElement("a",et({rel:On,role:Ht?void 0:"button",className:Ot,href:Ht,tabIndex:vt?"-1":"0","aria-label":ir,"aria-current":ar,onKeyPress:Mt},Nt(Mt)),Wt(wt)))};ot.propTypes={pageSelectedHandler:b().func.isRequired,selected:b().bool.isRequired,pageClassName:b().string,pageLinkClassName:b().string,activeClassName:b().string,activeLinkClassName:b().string,extraAriaContext:b().string,href:b().string,ariaLabel:b().string,page:b().number.isRequired,getEventListener:b().func.isRequired,pageLabelBuilder:b().func.isRequired,rel:b().string};var gt=ot;const yt=gt;var mt,St;(mt=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.default:void 0)&&(mt.register(ot,"PageView","/home/yoan/work/oss/react-paginate/react_components/PageView.js"),mt.register(gt,"default","/home/yoan/work/oss/react-paginate/react_components/PageView.js")),(St=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.leaveModule:void 0)&&St(s)},214:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PaginationBoxView});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(697),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_PageView__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(770),_BreakView__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(759),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(923),enterModule;function _typeof(s){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(s)}function _extends(){return _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(s[h]=a[h])}return s},_extends.apply(this,arguments)}function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,e){for(var a=0;a<e.length;a++){var h=e[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}function _createClass(s,e,a){return e&&_defineProperties(s.prototype,e),a&&_defineProperties(s,a),s}function _inherits(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),e&&_setPrototypeOf(s,e)}function _setPrototypeOf(s,e){return _setPrototypeOf=Object.setPrototypeOf||function(a,h){return a.__proto__=h,a},_setPrototypeOf(s,e)}function _createSuper(s){var e=_isNativeReflectConstruct();return function(){var a,h=_getPrototypeOf(s);if(e){var d=_getPrototypeOf(this).constructor;a=Reflect.construct(h,arguments,d)}else a=h.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(s,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(s)}function _assertThisInitialized(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(s){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(s)}function _defineProperty(s,e,a){return e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}module=__webpack_require__.hmd(module),enterModule=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module),typeof reactHotLoaderGlobal!="undefined"&&reactHotLoaderGlobal.default.signature;var PaginationBoxView=function(_Component){_inherits(PaginationBoxView,_Component);var _super=_createSuper(PaginationBoxView);function PaginationBoxView(s){var e,a;return _classCallCheck(this,PaginationBoxView),_defineProperty(_assertThisInitialized(e=_super.call(this,s)),"handlePreviousPage",function(h){var d=e.state.selected;e.handleClick(h,null,d>0?d-1:void 0,{isPrevious:!0})}),_defineProperty(_assertThisInitialized(e),"handleNextPage",function(h){var d=e.state.selected,g=e.props.pageCount;e.handleClick(h,null,d<g-1?d+1:void 0,{isNext:!0})}),_defineProperty(_assertThisInitialized(e),"handlePageSelected",function(h,d){if(e.state.selected===h)return e.callActiveCallback(h),void e.handleClick(d,null,void 0,{isActive:!0});e.handleClick(d,null,h)}),_defineProperty(_assertThisInitialized(e),"handlePageChange",function(h){e.state.selected!==h&&(e.setState({selected:h}),e.callCallback(h))}),_defineProperty(_assertThisInitialized(e),"getEventListener",function(h){return _defineProperty({},e.props.eventListener,h)}),_defineProperty(_assertThisInitialized(e),"handleClick",function(h,d,g){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=_.isPrevious,et=b!==void 0&&b,ot=_.isNext,gt=ot!==void 0&&ot,yt=_.isBreak,mt=yt!==void 0&&yt,St=_.isActive,_t=St!==void 0&&St;h.preventDefault?h.preventDefault():h.returnValue=!1;var xt=e.state.selected,Ot=e.props.onClick,wt=g;if(Ot){var vt=Ot({index:d,selected:xt,nextSelectedPage:g,event:h,isPrevious:et,isNext:gt,isBreak:mt,isActive:_t});if(vt===!1)return;Number.isInteger(vt)&&(wt=vt)}wt!==void 0&&e.handlePageChange(wt)}),_defineProperty(_assertThisInitialized(e),"handleBreakClick",function(h,d){var g=e.state.selected;e.handleClick(d,h,g<h?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),_defineProperty(_assertThisInitialized(e),"callCallback",function(h){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:h})}),_defineProperty(_assertThisInitialized(e),"callActiveCallback",function(h){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:h})}),_defineProperty(_assertThisInitialized(e),"getElementPageRel",function(h){var d=e.state.selected,g=e.props,_=g.nextPageRel,b=g.prevPageRel,et=g.selectedPageRel;return d-1===h?b:d===h?et:d+1===h?_:void 0}),_defineProperty(_assertThisInitialized(e),"pagination",function(){var h=[],d=e.props,g=d.pageRangeDisplayed,_=d.pageCount,b=d.marginPagesDisplayed,et=d.breakLabel,ot=d.breakClassName,gt=d.breakLinkClassName,yt=e.state.selected;if(_<=g)for(var mt=0;mt<_;mt++)h.push(e.getPageElement(mt));else{var St=g/2,_t=g-St;yt>_-g/2?St=g-(_t=_-yt):yt<g/2&&(_t=g-(St=yt));var xt,Ot,wt=function(Dt){return e.getPageElement(Dt)},vt=[];for(xt=0;xt<_;xt++){var kt=xt+1;kt<=b||kt>_-b||xt>=yt-St&&xt<=yt+(yt===0&&g>1?_t-1:_t)?vt.push({type:"page",index:xt,display:wt(xt)}):et&&vt.length>0&&vt[vt.length-1].display!==Ot&&(g>0||b>0)&&(Ot=react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_BreakView__WEBPACK_IMPORTED_MODULE_3__.Z,{key:xt,breakLabel:et,breakClassName:ot,breakLinkClassName:gt,breakHandler:e.handleBreakClick.bind(null,xt),getEventListener:e.getEventListener}),vt.push({type:"break",index:xt,display:Ot}))}vt.forEach(function(Dt,Nt){var Mt=Dt;Dt.type==="break"&&vt[Nt-1]&&vt[Nt-1].type==="page"&&vt[Nt+1]&&vt[Nt+1].type==="page"&&vt[Nt+1].index-vt[Nt-1].index<=2&&(Mt={type:"page",index:Dt.index,display:wt(Dt.index)}),h.push(Mt.display)})}return h}),s.initialPage!==void 0&&s.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(s.initialPage,") and forcePage (").concat(s.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),a=s.initialPage?s.initialPage:s.forcePage?s.forcePage:0,e.state={selected:a},e}return _createClass(PaginationBoxView,[{key:"componentDidMount",value:function(){var s=this.props,e=s.initialPage,a=s.disableInitialCallback,h=s.extraAriaContext,d=s.pageCount,g=s.forcePage;e===void 0||a||this.callCallback(e),h&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(d)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(d,"). Did you forget a Math.ceil()?")),e!==void 0&&e>d-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(d-1,").")),g!==void 0&&g>d-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(g," > ").concat(d-1,")."))}},{key:"componentDidUpdate",value:function(s){this.props.forcePage!==void 0&&this.props.forcePage!==s.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(s.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var s=this.state.selected,e=this.props,a=e.pageCount,h=s+e.pageRangeDisplayed;return h>=a?a-1:h}},{key:"getBackwardJump",value:function(){var s=this.state.selected-this.props.pageRangeDisplayed;return s<0?0:s}},{key:"getElementHref",value:function(s){var e=this.props,a=e.hrefBuilder,h=e.pageCount,d=e.hrefAllControls;if(a)return d||s>=0&&s<h?a(s+1,h,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(s){var e=s===this.state.selected;if(this.props.ariaLabelBuilder&&s>=0&&s<this.props.pageCount){var a=this.props.ariaLabelBuilder(s+1,e);return this.props.extraAriaContext&&!e&&(a=a+" "+this.props.extraAriaContext),a}}},{key:"getPageElement",value:function(s){var e=this.state.selected,a=this.props,h=a.pageClassName,d=a.pageLinkClassName,g=a.activeClassName,_=a.activeLinkClassName,b=a.extraAriaContext,et=a.pageLabelBuilder;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageView__WEBPACK_IMPORTED_MODULE_2__.Z,{key:s,pageSelectedHandler:this.handlePageSelected.bind(null,s),selected:e===s,rel:this.getElementPageRel(s),pageClassName:h,pageLinkClassName:d,activeClassName:g,activeLinkClassName:_,extraAriaContext:b,href:this.getElementHref(s),ariaLabel:this.ariaLabelBuilder(s),page:s+1,pageLabelBuilder:et,getEventListener:this.getEventListener})}},{key:"render",value:function(){var s=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&s!==void 0)return s&&s(this.props);var e=this.props,a=e.disabledClassName,h=e.disabledLinkClassName,d=e.pageCount,g=e.className,_=e.containerClassName,b=e.previousLabel,et=e.previousClassName,ot=e.previousLinkClassName,gt=e.previousAriaLabel,yt=e.prevRel,mt=e.nextLabel,St=e.nextClassName,_t=e.nextLinkClassName,xt=e.nextAriaLabel,Ot=e.nextRel,wt=this.state.selected,vt=wt===0,kt=wt===d-1,Dt="".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(et)).concat(vt?" ".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(a)):""),Nt="".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(St)).concat(kt?" ".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(a)):""),Mt="".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(ot)).concat(vt?" ".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(h)):""),Ht="".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(_t)).concat(kt?" ".concat((0,_utils__WEBPACK_IMPORTED_MODULE_4__.m)(h)):""),Ft=vt?"true":"false",Wt=kt?"true":"false";return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul",{className:g||_},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li",{className:Dt},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a",_extends({className:Mt,href:this.getElementHref(wt-1),tabIndex:vt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Ft,"aria-label":gt,rel:yt},this.getEventListener(this.handlePreviousPage)),b)),this.pagination(),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li",{className:Nt},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a",_extends({className:Ht,href:this.getElementHref(wt+1),tabIndex:kt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Wt,"aria-label":xt,rel:Ot},this.getEventListener(this.handleNextPage)),mt)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PaginationBoxView}(react__WEBPACK_IMPORTED_MODULE_0__.Component),reactHotLoader,leaveModule;_defineProperty(PaginationBoxView,"propTypes",{pageCount:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired,pageRangeDisplayed:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,marginPagesDisplayed:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,previousLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().node,previousAriaLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,prevPageRel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,prevRel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,nextLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().node,nextAriaLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,nextPageRel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,nextRel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,breakLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,prop_types__WEBPACK_IMPORTED_MODULE_1___default().node]),hrefBuilder:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,hrefAllControls:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,onPageChange:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onPageActive:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,initialPage:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,forcePage:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,disableInitialCallback:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,containerClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,pageClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,pageLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,pageLabelBuilder:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,activeClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,activeLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,previousClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,nextClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,previousLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,nextLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,disabledClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,disabledLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,breakClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,breakLinkClassName:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,extraAriaContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,ariaLabelBuilder:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,eventListener:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,renderOnZeroPageCount:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,selectedPageRel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string}),_defineProperty(PaginationBoxView,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(s){return s},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1}),reactHotLoader=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PaginationBoxView,"PaginationBoxView","/home/yoan/work/oss/react-paginate/react_components/PaginationBoxView.js"),leaveModule=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)},351:(s,e,a)=>{a.r(e),a.d(e,{default:()=>_});var h,d=a(214);s=a.hmd(s),(h=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.enterModule:void 0)&&h(s),typeof reactHotLoaderGlobal!="undefined"&&reactHotLoaderGlobal.default.signature;var g=d.Z;const _=g;var b,et;(b=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.default:void 0)&&b.register(g,"default","/home/yoan/work/oss/react-paginate/react_components/index.js"),(et=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.leaveModule:void 0)&&et(s)},923:(s,e,a)=>{var h,d,g;function _(b){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return b!=null?b:et}a.d(e,{m:()=>_}),s=a.hmd(s),(h=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.enterModule:void 0)&&h(s),typeof reactHotLoaderGlobal!="undefined"&&reactHotLoaderGlobal.default.signature,(d=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.default:void 0)&&d.register(_,"classNameIfDefined","/home/yoan/work/oss/react-paginate/react_components/utils.js"),(g=typeof reactHotLoaderGlobal!="undefined"?reactHotLoaderGlobal.leaveModule:void 0)&&g(s)},703:(s,e,a)=>{var h=a(414);function d(){}function g(){}g.resetWarningCache=d,s.exports=function(){function _(ot,gt,yt,mt,St,_t){if(_t!==h){var xt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw xt.name="Invariant Violation",xt}}function b(){return _}_.isRequired=_;var et={array:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:b,element:_,elementType:_,instanceOf:b,node:_,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:g,resetWarningCache:d};return et.PropTypes=et,et}},697:(s,e,a)=>{s.exports=a(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:s=>{s.exports=__WEBPACK_EXTERNAL_MODULE__98__}},__webpack_module_cache__={};function __webpack_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var a=__webpack_module_cache__[s]={id:s,loaded:!1,exports:{}};return __webpack_modules__[s](a,a.exports,__webpack_require__),a.loaded=!0,a.exports}__webpack_require__.n=s=>{var e=s&&s.__esModule?()=>s.default:()=>s;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(s,e)=>{for(var a in e)__webpack_require__.o(e,a)&&!__webpack_require__.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})},__webpack_require__.hmd=s=>((s=Object.create(s)).children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),__webpack_require__.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e),__webpack_require__.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(351);return __webpack_exports__})()})})(reactPaginate);var ReactPaginate=getDefaultExportFromCjs(reactPaginate.exports);const SearchResult=()=>{let[s,e]=useSearchParams();const[a,h]=react.exports.useState(),[d,g]=react.exports.useState(),[_,b]=react.exports.useState(),[et,ot]=react.exports.useState(),[gt,yt]=react.exports.useState("movies_search"),[mt,St]=react.exports.useState(),[_t,xt]=react.exports.useState(1),[Ot,wt]=react.exports.useState(1),vt=Dt=>{gt==="movies_search"&&xt(Dt.selected+1),gt==="tv_shows_search"&&wt(Dt.selected+1)},kt=Dt=>{Dt.currentTarget.id!==gt&&yt(Dt.currentTarget.id),Dt.currentTarget.id==="movies_search"&&a&&St(a),Dt.currentTarget.id==="tv_shows_search"&&d&&St(d)};return react.exports.useEffect(()=>{const Dt=async()=>{const Mt=await getSearchedMovies(s.get("query")||"",_t);h(Mt.data.results),St(Mt.data.results),ot({currentPage:Mt.data.page,total_pages:Mt.data.total_pages,total_results:Mt.data.total_results})},Nt=async()=>{const Mt=await getSearchedTV(s.get("query")||"",Ot);g(Mt.data.results),b({currentPage:Mt.data.page,total_pages:Mt.data.total_pages,total_results:Mt.data.total_results})};Dt(),Nt()},[_t,Ot]),jsx("div",{className:"search-result",children:jsxs("div",{className:"search-result-container",children:[jsxs("div",{className:"search-result-sidebar",children:[jsx("div",{className:"search-result-sidebar-header",children:"Search Results"}),jsxs("ul",{className:"search-results-groups",children:[jsxs("li",{className:gt==="movies_search"?"isActive-search":"",id:"movies_search",onClick:kt,children:[jsx("h4",{children:"Movies"}),jsx("span",{children:et==null?void 0:et.total_results})]}),jsxs("li",{id:"tv_shows_search",className:gt==="tv_shows_search"?"isActive-search":"",onClick:kt,children:[jsx("h4",{children:"TV shows"}),jsx("span",{children:_==null?void 0:_.total_results})]})]})]}),jsx("div",{className:"search-result-main-container",children:mt?jsxs(Fragment,{children:[mt.map(Dt=>jsx("div",{className:"search-result-main",children:jsxs("div",{className:"search-result-card",children:[jsx("div",{className:"search-res-img",children:jsxs(Link,{to:Dt.title?`/movies/${Dt.id}`:`/tv/${Dt.id}`,children:[" ",jsx("img",{src:Dt.poster_path?`${imgBaseURL}${Dt.poster_path}`:NoImg$1,alt:"mediatype image",style:{maxWidth:"150px",maxHeight:"100%"}})]})}),jsxs("div",{className:"search-res-body",children:[jsx("div",{className:"search-body-title",children:Dt!=null&&Dt.title?Dt.title:Dt==null?void 0:Dt.name}),jsx("div",{className:"search-body-date",children:Dt.name?formatDate(Dt.first_air_date):formatDate(Dt.release_date)}),jsxs("div",{className:"search-body-overview",children:[Dt.overview.length>256?Dt.overview.slice(0,256)+"...":Dt.overview," "]})]})]})},Dt.id)),et&&_?jsx(ReactPaginate,{breakLabel:"...",nextLabel:"next >",containerClassName:"pagination-container",onPageChange:vt,pageRangeDisplayed:3,pageCount:mt[0].name?_==null?void 0:_.total_pages:et==null?void 0:et.total_pages,previousLabel:"< previous",nextLinkClassName:"page-link",activeClassName:"active",renderOnZeroPageCount:null}):""]}):jsx(Spinner,{})})]})})};var favorites=(()=>`.fav-container{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:1rem;margin-top:2rem}.fav-media-main{box-shadow:0 2px 8px #0000001a;height:100%;width:70%}.fav-media-card{display:flex;align-items:center;gap:1rem}.search-result-main-container{display:flex;flex-direction:column;gap:1rem}.fav-media-body{display:flex;flex-direction:column;justify-content:center}.fav-media-body-overview{margin-top:1rem;padding:0 .5rem;overflow:hidden}.fav-media-body-title{font-weight:700}.fav-media-body-date{white-space:nowrap;color:#999}.fav-media-img img{border-radius:10px 0 0 10px}
`)();const FavMediaCard=({media:s})=>{var h;const[e,a]=react.exports.useState({});return react.exports.useEffect(()=>{(async()=>{if(s.mediaType==="tv"){const g=await axios.get(getTVDetails(s.mediaId));a(g==null?void 0:g.data)}else if(s.mediaType==="movie"){const g=await axios.get(getMovieDetails(s.mediaId));a(g==null?void 0:g.data)}})()},[s]),e&&jsx("div",{className:"fav-media-main",children:jsxs("div",{className:"fav-media-card",children:[jsx("div",{className:"fav-media-img",children:jsx(Link,{to:e.title?`/movies/${e.id}`:`/tv/${e.id}`,children:jsx("img",{src:e.poster_path?`${imgBaseURL}${e.poster_path}`:NoImg(),alt:"mediatype image",width:"150px",height:"100%"})})}),jsxs("div",{className:"fav-media-body",children:[jsx("div",{className:"fav-media-body-title",children:e!=null&&e.title?e.title:e==null?void 0:e.name}),jsx("div",{className:"fav-media-body-date",children:e!=null&&e.name?formatDate(e.first_air_date):formatDate(e.release_date)}),jsxs("div",{className:"fav-media-body-overview",children:[e?((h=e.overview)==null?void 0:h.length)>256?e.overview.slice(0,256)+"...":e.overview:""," "]})]})]})})},Favourites=()=>{const{favMedia:s,isUserLoggedIn:e}=useFaveContext(),a=useNavigate();return react.exports.useEffect(()=>{e||a("/")},[]),jsxs("div",{className:"fav-container",children:[jsx("h1",{children:"Your Favourite TV Shows and Movies"}),s&&s.length>0?s.map(h=>jsx(FavMediaCard,{media:h},h.mediaId)):jsxs("h2",{children:[jsxs("em",{children:["No Favorites added, ",jsx(Link,{to:"/",children:"Explore Movies"}),"  "]})," "]})]})},App=()=>jsxs(FavMovieContextProvider,{children:[jsx(NavbBar,{}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Home,{})}),jsx(Route,{path:"/movies",element:jsx(Movies,{})}),jsx(Route,{path:"/movies/:id",element:jsx(Movie,{})}),jsx(Route,{path:"/tv/:id",element:jsx(Movie,{})}),jsx(Route,{path:"/search",element:jsx(SearchResult,{})}),jsx(Route,{path:"/favorites",element:jsx(Favourites,{})})]}),jsx(Footer,{})]});var index=(()=>`:root{font-family:Inter,Avenir,Helvetica,Arial,sans-serif;font-size:16px;line-height:24px;font-weight:400;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}*{padding:0;margin:0}html{scroll-behavior:smooth}li{list-style:none}a{text-decoration:none;cursor:pointer}
`)();client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(HashRouter,{children:jsx(App,{})})}));
